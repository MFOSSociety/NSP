if (self.CavalryLogger) { CavalryLogger.start_js(["hNy\/q"]); }

__d("TimelineProfilePictureLoggerEnums",[],(function(a,b,c,d,e,f){e.exports={actions:{ADD_FRAME:"add_frame",EDIT_THUMBNAIL:"edit_thumbnail",FROM_PHOTOS:"from_photos",MAKE_PROFILE:"make_profile",SILHOUETTE:"silhouette",SUGGESTION:"suggestion",SUGGESTION_UPLOAD:"suggestion_upload",SYNCED_PHOTO:"synced_photo",TAKE_PHOTO:"take_photo",UPLOAD:"upload_photo",USE_PREVIOUS:"use_previous"},flows:{PERMALINK:"permalink",SNOWLIFT:"snowlift",SPOTLIGHT:"spotlight",VAULT:"vault",ZOOMCROP:"zoomcrop"},steps:{CANCEL:"cancel",CROP:"crop",CROP_FAIL:"crop_fail",CROP_SAVING:"crop_saving",CROP_SUCCESS:"crop_success",DRAG_AND_DROP:"drag_and_drop",FAIL:"fail",INIT:"init",LOADING:"loading",PREVIOUS_PIC_FAIL:"previous_pic_fail",PREVIOUS_PIC_INIT:"previous_pic_init",PREVIOUS_PIC_SAVING:"previous_pic_saving",PREVIOUS_PIC_SUCCESS:"previous_pic_success",RESIZE_BEGIN:"resize_begin",RESIZE_SKIPPED:"resize_skipped",RESIZE_SUCCESS:"resize_success",RESIZE_FAIL:"resize_fail",SKIP_CROP:"skip_crop",SUCCESS:"success",UPLOAD_CANCEL:"upload_cancel",UPLOAD_SELECT:"upload_select",UPLOAD_SUCCESS:"upload_success",VIEWER_INIT:"viewer_init"}}}),null);
__d("FileUploadTarget",["AsyncUploadRequest","DragDropFileUpload","DragDropTarget","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){"use strict";__p&&__p();var d=function(d){this.$1=new(b("AsyncUploadRequest"))(c).setFiles({file:d}).setRelativeTo(a).setStatusElement(a).setAllowCrossOrigin(this.$2),this.$1.subscribe("complete",function(a,b){this.onCompleteCallback(b),this.$1=null}.bind(this)),this.$1.send()}.bind(this);this.dragDropTarget=new(b("DragDropTarget"))(a).setOnFilesDropCallback(function(a){a.length&&this.asyncProcess(a,function(a){a.length&&d(a)})}.bind(this));this.asyncProcess=function(a,b){b(a)};this.preprocess=function(a){return a};this.onCompleteCallback=b("emptyFunction")}a.prototype.setAllowCrossOrigin=function(a){"use strict";this.$2=a;return this};a.prototype.setPreprocessor=function(a){"use strict";this.preprocess=a;return this};a.prototype.setAsyncProcessor=function(a){"use strict";this.asyncProcess=a;return this};a.prototype.onComplete=function(a){"use strict";this.onCompleteCallback=a;return this};a.prototype.abort=function(){"use strict";this.$1&&this.$1.abort()};a.prototype.activate=function(){"use strict";if(!b("DragDropFileUpload").isSupported())return this;this.dragDropTarget.setFileFilter(this.preprocess).enable();return this};e.exports=a}),null);
__d("SinglePictureUploadTarget",["fbt","Bootloader","Dialog","ErrorDialog","FileUploadTarget","emptyFunction","htmlSpecialChars"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,c){"use strict";this.fileUploadTarget=new(b("FileUploadTarget"))(a,c),this.preprocessCallback=b("emptyFunction"),this.asyncPreprocessCallback=function(a,b){b(a)},this.oncompleteCallback=b("emptyFunction"),this.afterSuccessCallback=b("emptyFunction")}a.prototype.setAllowCrossOrigin=function(a){"use strict";this.fileUploadTarget.setAllowCrossOrigin(a);return this};a.prototype.setPreprocessCallback=function(a){"use strict";this.preprocessCallback=a;return this};a.prototype.setAsyncPreprocessCallback=function(a){"use strict";this.asyncPreprocessCallback=a;return this};a.prototype.setOncompleteCallback=function(a){"use strict";this.oncompleteCallback=a;return this};a.prototype.setAfterSuccessCallback=function(a){"use strict";this.afterSuccessCallback=a;return this};a.prototype.activate=function(){"use strict";__p&&__p();var a=function(a){return b("htmlSpecialChars")(a.name)},c=function(c){c.length>1&&(b("ErrorDialog").show(g._("Upload Error"),g._("You can only select 1 photo to upload to this album. Only the first photo you selected will be uploaded.")),c=[c[0]]);var d=c[0];if(!d.type.match(/^image\//)){b("ErrorDialog").show(g._("Upload Error"),g._("We could not understand the contents of {filename}. Make sure it is a jpg, gif, or png formatted image.",[g._param("filename",a(d))]));return[]}this.preprocessCallback(c);return c}.bind(this),d=function(c,d){__p&&__p();var e=1024*1024*16,f=1024*1024*1,h=function(f){f.size>e?(b("ErrorDialog").show(g._("Upload Error"),g._("{filename} is too large. Please resize your photo to under 8000x8000 pixels and try again.",[g._param("filename",a(c[0]))])),d([])):this.asyncPreprocessCallback([f],d)}.bind(this),i=c[0];i.size<f?h(i):b("Bootloader").loadModules(["ImageExif","ImageResizer"],function(a,b){__p&&__p();if(!b.isSupported()){h(i);return}var c=new b(i,null,null);c.subscribe("resized",function(a,b){b.size>i.size?h(i):h(b)}.bind(this));c.subscribe("error",function(){h(i)}.bind(this));a.readFromFile(i,function(a){a&&c.setOrientation(a.Orientation),c.resize()})},"SinglePictureUploadTarget")}.bind(this),e=function(a){__p&&__p();a=a[0];if(!a.getResponse())return;this.oncompleteCallback(a);var c=a.getResponse().getPayload();if(a.isSuccess())this.afterSuccessCallback(c);else if(c&&c.__dialog){a=new(b("Dialog"))();a.$1(c.__dialog);a.setButtons(b("Dialog").OK).show()}else b("ErrorDialog").show(c.error.title,c.error.body)}.bind(this);return this.fileUploadTarget.onComplete(e).setPreprocessor(c).setAsyncProcessor(d).activate()};e.exports=a}),null);
__d("ServerRedirect",["FBLogger","ReloadPage","URI","goURI","killswitch"],(function(a,b,c,d,e,f){function a(a,c,d){var e=new(b("URI"))(a);e.getQualifiedURI().toString()===b("URI").getNextURI().toString()?b("FBLogger")("redirect").mustfix('Potentially infinite navigation detected: trying to navigate to "%s" while on "%s"',e.toString(),b("URI").getNextURI().toString()):b("goURI")(a,c,d)}c={redirectPageTo:b("killswitch")("PREVENT_INFINITE_URL_REDIRECT")?b("goURI"):a,reloadPage:b("ReloadPage").now};e.exports=c}),null);
__d("ProfileIntroCardEditMediaFunnelLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SAVE:"save",INTRO_CARD_EDIT:"intro_card_edit",SINGLE_EDIT:"single_edit",SEE_DIALOG:"see_dialog",OPEN_PICKER:"open_picker",ADD_MEDIA:"add_media",REMOVE_MEDIA:"remove_media",SEARCH:"search",SEE_MORE:"see_more",SECTION_NAMES_LOADED:"section_names_loaded",SECTION_LOADED:"section_loaded",ALL_SECTIONS_LOADED:"all_sections_loaded",EMPTY_SECTION_LOADED:"empty_section_loaded",UPLOAD_START:"upload_start",UPLOAD_SUCCESS:"upload_succes"})}),null);
__d("ProfileIntroCardEditMediaFunnelLogger",["Event","FunnelLogger","ProfileIntroCardEditMediaFunnelLoggerEvent"],(function(a,b,c,d,e,f){__p&&__p();var g="WWW_PROFILE_INTRO_CARD_EDIT_MEDIA_FUNNEL";function a(a){b("Event").listen(a,"click",function(){b("FunnelLogger").endFunnel(g)})}function c(a){b("Event").listen(a,"click",function(){b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").SAVE),b("FunnelLogger").endFunnel(g)})}function d(a){b("Event").listen(a,"click",function(){b("FunnelLogger").startFunnel(g),b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").INTRO_CARD_EDIT)})}function f(){b("FunnelLogger").addFunnelTag(g,"in_new_editor")}function h(a){b("Event").listen(a,"click",function(){b("FunnelLogger").startFunnel(g),b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").SINGLE_EDIT)})}function i(){b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").SEE_DIALOG)}function j(){b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").OPEN_PICKER)}function k(a){b("Event").listen(a,"click",function(){b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").ADD_MEDIA)})}function l(){b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").ADD_MEDIA)}function m(){b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").REMOVE_MEDIA)}function n(){b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").SEARCH)}function o(){b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").SEE_MORE)}function p(){b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").SECTION_NAMES_LOADED)}function q(){b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").SECTION_LOADED)}function r(){b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").EMPTY_SECTION_LOADED)}function s(){b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").ALL_SECTIONS_LOADED)}function t(){b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").UPLOAD_START)}function u(){b("FunnelLogger").appendAction(g,b("ProfileIntroCardEditMediaFunnelLoggerEvent").UPLOAD_SUCCESS)}e.exports={logCancel:a,logSave:c,logSeeDialog:i,logSingleEdit:h,logIntroCardEdit:d,logOpenPicker:j,logAddMedia:k,directlyLogAddMedia:l,directlyLogRemoveMedia:m,logSearch:n,logSeeMore:o,logSectionNamesLoaded:p,logSeeMoreSectionLoaded:q,logAllSectionsInitialLoad:s,logEmptySectionLoaded:r,logUploadStart:t,logUploadSuccess:u,addNewEditorTag:f}}),null);
__d("ProfilePhotoActionLogger",["Banzai"],(function(a,b,c,d,e,f){a={EVENT_SELECT_METHOD:"select_method",EVENT_CAMERA_PERMISSION_PROVIDED:"permission_provided",EVENT_CAMERA_PERMISSION_DENIED:"permission_denied",EVENT_CAMERA_NO_WEBCAM:"permission_denied",EVENT_CAMERA_UNKNOWN_MEDIASTREAM_ERROR:"unknown_mediastream_error",EVENT_CAMERA_TAKE_PHOTO:"take_photo",EVENT_CAMERA_RETAKE_PHOTO:"retake_photo",EVENT_CAMERA_UPLOAD_ATTEMPT:"upload_attempt",EVENT_CAMERA_UPLOAD_ERROR:"upload_error",EVENT_CAMERA_UPLOAD_SUCCESS:"upload_success",SOURCE_SUGGESTIONS:"suggestions",SOURCE_TIMELINE:"timeline",SOURCE_NUX:"nux",METHOD_EXISTING:"existing",METHOD_UPLOAD:"upload",METHOD_CAMERA:"camera",log:function(a,c,d){b("Banzai").post("profile_photo_action",{event:a,source:c,method:d})}};e.exports=a}),null);
__d("ProfilePicAccessibility",["csx","cx","CSS","FocusEvent","Parent","Run","ifRequired"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=null,j=[],k=[],l=!1;function m(a){i&&b("CSS").conditionClass(i,"_5-3g",a||l)}function n(a){l=a,m(a)}function o(){i=null,j.map(function(a){return a.unsubscribe()}),j=[],k.map(function(a){return a.remove()}),k=[]}a={init:function(a,c){__p&&__p();if(a.length===0)return;var d=b("Parent").bySelector(a[0],"._5ycb");i=d instanceof HTMLElement?d:null;k=a.map(function(a){return b("FocusEvent").listen(a,m)});c&&(j=[c.subscribe("show",n.bind(null,!0)),c.subscribe("hide",n.bind(null,!1))]);b("ifRequired")("XUISubNavigationLoader",function(a){return a.onLeave(o)},function(){return b("Run").onLeave(o)})}};e.exports=a}),null);
__d("TimelineProfilePicConfig",["fbt"],(function(a,b,c,d,e,f,g){a={loading:"timeline/profile_pic/loading",success:"timeline/profile_pic/success",leavingMessage:g._("Your profile picture is still uploading, are you sure you want to leave?")};e.exports=a}),null);
__d("ProfilePictureFlowLogging",["Arbiter","Banzai","Event","Parent","ProfilePhotoActionLogger","Run","TimelineProfilePicConfig","TimelineProfilePictureLoggerEnums","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();var g=b("TimelineProfilePicConfig").loading,h=b("TimelineProfilePicConfig").success,i="data-action-type",j,k,l,m;function n(){m&&m.unsubscribe(),m=null}var o={action:b("TimelineProfilePictureLoggerEnums").actions,flow:b("TimelineProfilePictureLoggerEnums").flows,step:b("TimelineProfilePictureLoggerEnums").steps,log:function(a){var c=a||o.step.INIT;b("Banzai").post("profile_pic_action",{action_type:j,flow_type:k,step_type:c});j===o.action.UPLOAD&&c===o.step.INIT&&b("ProfilePhotoActionLogger").log(b("ProfilePhotoActionLogger").EVENT_SELECT_METHOD,l,b("ProfilePhotoActionLogger").METHOD_UPLOAD);k=null;(a==="success"||a==="fail")&&(j=null);return o},setAction:function(a){j=a;return o},setFlowType:function(a){k=a;return o},setSource:function(a){l=a;return o},init:function(a,c){c&&(l=c),m||(m=b("Arbiter").subscribe([g,h],function(a){o.log(a===g?b("TimelineProfilePictureLoggerEnums").steps.LOADING:b("TimelineProfilePictureLoggerEnums").steps.SUCCESS)}),b("Run").onLeave(n)),b("tidyEvent")(b("Event").listen(a,"click",function(a){a=b("Parent").byAttribute(a.getTarget(),i);if(!a)return;o.setAction(a.getAttribute(i)).log()}))},initMenuItems:function(a,b,c){o.init(a.getRoot(),c)}};e.exports=o}),null);
__d("XWorkNewsfeedNuxNextStepController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/newsfeed_nux/next_step/",{})}),null);
__d("ProfilePicCropViewerInit",["Bootloader","CurrentCommunity","ProfilePictureFlowLogging","React","ServerRedirect","XWorkNewsfeedNuxNextStepController"],(function(a,b,c,d,e,f){__p&&__p();var g="profile-picture-crop",h="loading",i=b("ProfilePictureFlowLogging").flow,j,k;function l(){k&&k.close()}function m(a,c,d){__p&&__p();d=d||{};b("Bootloader").loadModules(["SpotlightViewerInit","ZoomProfilePicCropViewer.react","PhotoStore","AsyncRequest","AsyncResponse","XProfilePicCropViewerAsyncController"],function(e,f,i,m,n,o){__p&&__p();l();var p=d.stickerID;j=g+":"+a+":"+c;p&&(j+=":"+p);var q=d.successCallback,r=b("CurrentCommunity").getID()!=="0";!q&&(d.source==="atwork_nux"||d.source==="timeline"||d.source==="atwork_profile_nux")&&r&&(q=function(a){a=b("XWorkNewsfeedNuxNextStepController").getURIBuilder().getURI();new m().setURI(a).setData({current_step_id:1,skipped:!1}).setHandler(function(){b("ServerRedirect").reloadPage()}).send()});if(!d.skipCropping){k=e.render(b("React").createElement(f,{cancelCallback:d.cancelCallback,cropMode:d.cropMode,errorCallback:d.errorCallback,method:d.method,open:!0,photoID:a,profileID:c,setid:j,source:d.source,successCallback:q,uploadRequest:d.uploadRequest,warnOnCancel:d.warnOnCancel}),function(){k=null});if(i.hasBeenCreated(j)||a===h)return;r=o.getURIBuilder().setString("photo_id",a).setInt("profile_id",c).setString("set_id",j).setBool("will_load_more_photos",!0);p&&r.setInt("sticker_id",p);r=r.getURI();var s=j;new m(r).setErrorHandler(function(a){s===j&&l(),n.defaultErrorHandler(a)}).send()}},"ProfilePicCropViewerInit");return!0}a={close:l,getFlowType:function(){return i.ZOOMCROP},useCropViewer:function(){return!0},loading:function(a,b){m(h,a,b)},loadID:m};e.exports=a}),null);
__d("PhotoSourceTypeConst",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WEB:0,MOBILE:1,WEBCAM:2,HTML5:4,FLASH:6,SIMPLE:7,COMPOSER:8,PROFILE_PIC:9,TIMELINE_COVER_PHOTO:10,MULLIGAN2:11,TIMELINE_LIFE_EVENT_PHOTO:12,GROUP_EMAIL:13,TIMELINE_MAP_PHOTO:14,UNITTEST:15,VAULT:16,USER_TO_PAGE_MIGRATION:18,COMMENT_PHOTO_ATTACHMENT:19,CAMPFIRE:21,STORY:22,WEB_SAY_THANKS:26,TIMELINE_PHOTOS_TAB:27,COMPOSER_CAMERA:28,MESSENGER:29,INSTANT_ARTICLES:30,FAMILY_TAG_COVER_PHOTO:31,COMPANY_LOGO:32,CANVAS:33,BIRTHDAY_COMPOSER:34,LEAD_GEN:35,TAROT_CARD:36,INTRO_CARD:37,CHECKPOINT_STEP_IMAGE_UPLOAD:38,PROFILE_SET:39,FUN_FACT_ANSWER:40,APP_CONTENT:41,PROFILE_PHOTO_SHIELD:42,STONEHENGE_VALUE_PROPS:43,SPUTNIK:44,WOODHENGE:45,UPLOADER_EXCEPTION_T5215910:5215910,PROFILE_FEATURED:46,SYBIL:47})}),null);
__d("XProfilePicUploadAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/picture/upload/",{profile_id:{type:"Int",required:!0},photo_source:{type:"Enum",defaultValue:9,enumType:0}})}),null);
__d("ProfileTempPhotoUploader",["CSS","EventEmitter","FileInputUploader","JpegResizer","Parent","PhotosMimeType","XProfilePicUploadAsyncController","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a,c,d){"use strict";g.constructor.call(this),this.$ProfileTempPhotoUploader1=a,this.$ProfileTempPhotoUploader6=b("XProfilePicUploadAsyncController").getURIBuilder().setInt("profile_id",c).setEnum("photo_source",d).getURI(),b("JpegResizer").isSupported()&&(this.$ProfileTempPhotoUploader4=new(b("JpegResizer"))(1)),this.$ProfileTempPhotoUploader2=b("tidyEvent")(this.$ProfileTempPhotoUploader1.subscribe("change",function(){return this.attemptUpload()}.bind(this)))}a.prototype.removeListener=function(){"use strict";this.$ProfileTempPhotoUploader2&&(this.$ProfileTempPhotoUploader2.unsubscribe(),this.$ProfileTempPhotoUploader2=null)};a.prototype.attemptUpload=function(){"use strict";__p&&__p();this.$ProfileTempPhotoUploader3&&this.$ProfileTempPhotoUploader3.abort();if(!this.$ProfileTempPhotoUploader1.getValue()){this.reset();return}var a=this.$ProfileTempPhotoUploader1.getInput();a.name||(a.name="photo");this.$ProfileTempPhotoUploader5=b("Parent").byClass(a,"stat_elem");this.$ProfileTempPhotoUploader5&&b("CSS").addClass(this.$ProfileTempPhotoUploader5,"async_saving");a=this.$ProfileTempPhotoUploader3=new(b("FileInputUploader"))(a).setURI(this.$ProfileTempPhotoUploader6).setAllowCrossOrigin(!0);this.emit("uploadStart",a);b("tidyEvent")([a.subscribe("success",function(a,b){this.reset(),this.emit("uploadSucess",b.response.getPayload())}.bind(this)),a.subscribe("failure",function(){this.reset(),this.emit("uploadFailure")}.bind(this))]);this.$ProfileTempPhotoUploader4&&a.setUploadInParallel(!0).setPreprocessHandler(this.$ProfileTempPhotoUploader7.bind(this));a.send()};a.prototype.reset=function(){"use strict";this.$ProfileTempPhotoUploader5&&b("CSS").removeClass(this.$ProfileTempPhotoUploader5,"async_saving"),this.$ProfileTempPhotoUploader3=null,this.$ProfileTempPhotoUploader1.clear()};a.prototype.$ProfileTempPhotoUploader7=function(a,c){"use strict";__p&&__p();var d=a.getFile();if(!d||!b("PhotosMimeType").isJpeg(d.type)){this.emit("resizeSkipped");c(a);return}this.$ProfileTempPhotoUploader4&&this.$ProfileTempPhotoUploader4.resizeBlob(d,function(b,d,e,f,g){if(b){this.emit("resizeFailure");c(a);return}e?this.emit("resizeSkipped"):(a.setFile(d),this.emit("resizeSuccess"));c(a)}.bind(this))};e.exports=a}),null);
__d("ProfilePicUploadToCrop",["PhotoSourceTypeConst","ProfilePicCropViewerInit","ProfilePictureFlowLogging","ProfileTempPhotoUploader"],(function(a,b,c,d,e,f){__p&&__p();function g(){return b("ProfilePicCropViewerInit").getFlowType()}function h(a,c,d,e,f,g,h){g===void 0&&!0,this.$1=f,this.$2=e,this.$3=new(b("ProfileTempPhotoUploader"))(c,f,b("PhotoSourceTypeConst").PROFILE_PIC),this.$3.addListener("uploadStart",function(a){return this.uploadStart(a)}.bind(this)),this.$3.addListener("uploadSucess",function(a){return this.uploadSucess(a)}.bind(this)),this.$3.addListener("uploadFailure",function(){return this.uploadFailure()}.bind(this)),this.$3.addListener("resizeSkipped",function(){return this.resizeSkipped()}.bind(this)),this.$3.addListener("resizeStart",function(){return this.resizeStart()}.bind(this)),this.$3.addListener("resizeSuccess",function(){return this.resizeSuccess()}.bind(this)),this.$3.addListener("resizeFailure",function(){return this.resizeFailure()}.bind(this)),this.$4=h}h.prototype.attemptUpload=function(){"use strict";this.$3.removeListener(),this.$3.attemptUpload()};h.prototype.resizeStart=function(){"use strict";b("ProfilePictureFlowLogging").setFlowType(g()).log(b("ProfilePictureFlowLogging").step.RESIZE_BEGIN)};h.prototype.resizeSkipped=function(){"use strict";b("ProfilePictureFlowLogging").setFlowType(g()).log(b("ProfilePictureFlowLogging").step.RESIZE_SKIPPED)};h.prototype.resizeSuccess=function(){"use strict";b("ProfilePictureFlowLogging").setFlowType(g()).log(b("ProfilePictureFlowLogging").step.RESIZE_SUCCESS)};h.prototype.resizeFailure=function(){"use strict";b("ProfilePictureFlowLogging").setFlowType(g()).log(b("ProfilePictureFlowLogging").step.RESIZE_FAIL)};h.prototype.uploadStart=function(a){"use strict";b("ProfilePictureFlowLogging").setAction(b("ProfilePictureFlowLogging").action.UPLOAD).setFlowType(g()).log(b("ProfilePictureFlowLogging").step.UPLOAD_SELECT),b("ProfilePicCropViewerInit").loading(this.$1,{uploadRequest:a})};h.prototype.uploadSucess=function(a){"use strict";h.loadCropper(a,this.$1,this.$2,this.$4)};h.prototype.uploadFailure=function(){"use strict";b("ProfilePicCropViewerInit").close(),b("ProfilePictureFlowLogging").setFlowType(g()).log(b("ProfilePictureFlowLogging").step.FAIL)};h.loadCropper=function(a,c,d,e){"use strict";b("ProfilePictureFlowLogging").setFlowType(g()).log(b("ProfilePictureFlowLogging").step.UPLOAD_SUCCESS),b("ProfilePicCropViewerInit").loadID(a.fbid,c,{method:"upload",source:d,warnOnCancel:!0,successCallback:e})};e.exports=h}),null);
__d("ProfilePicDragAndDropUpload",["ProfilePicCropViewerInit","ProfilePictureFlowLogging","ProfilePicUploadToCrop","SinglePictureUploadTarget"],(function(a,b,c,d,e,f){a={init:function(a,c,d){var e=new(b("SinglePictureUploadTarget"))(a,c).setAllowCrossOrigin(!0).setPreprocessCallback(function(){b("ProfilePictureFlowLogging").setFlowType(b("ProfilePicCropViewerInit").getFlowType()).log(b("ProfilePictureFlowLogging").step.DRAG_AND_DROP),b("ProfilePicCropViewerInit").loading(d,{uploadRequest:e})}).setAfterSuccessCallback(function(a){b("ProfilePicUploadToCrop").loadCropper(a,d,"timeline")}).activate()}};e.exports=a}),null);
__d("ProfileNavigationItemDropdown",["Event","Menu","MenuItem","goURI","setImmediate","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";__p&&__p();var c=a.menuElement,d=a.menuInstance,e=a.href;this.$1=[];this.$2=[];b("tidyEvent")(b("Event").listen(c,"click",function(a){this.$1.forEach(function(a){a.call(this)}.bind(this)),b("setImmediate")(function(){return b("goURI")(e)})}.bind(this)));d&&d.subscribe("itemclick",function(a,b){this.$2.forEach(function(a){a.call(this,b.item)}.bind(this))}.bind(this))}a.prototype.onTriggerClick=function(a){"use strict";this.$1.push(a)};a.prototype.onMenuItemClick=function(a){"use strict";this.$2.push(a)};e.exports=a}),null);
__d("TimelineCoverDragdropEdit",["SinglePictureUploadTarget","TimelineCover"],(function(a,b,c,d,e,f){__p&&__p();var g=function(){var a=b("TimelineCover").getInstance();a.hideLoadingIndicator()},h=function(a){var c=b("TimelineCover").getInstance(),d=a.id;a=a.photo_node;c.updateCoverImage(d,a)},i=function(a){b("TimelineCover").getInstance().showLoadingIndicator()};a=function(a,c){new(b("SinglePictureUploadTarget"))(a,c).setAllowCrossOrigin(!0).setPreprocessCallback(i).setOncompleteCallback(g).setAfterSuccessCallback(h).activate()};f.initialize_timeline_cover_drop_target=a}),null);
__d("TimelineCoverPhotoChangePrivacyDialog",["Arbiter","Event"],(function(a,b,c,d,e,f){a={init:function(a,b,c){this._dialog=a,this._tooltipLink=c,this._closeButton=b,this._showDialog=!1,this._tooltip=null},registerDialogShow:function(){this._showDialog=!0,b("Arbiter").subscribe("CoverPhotoEdit",function(a,b){if(!this._showDialog)return;b.state==="open"?(this._dialog&&this._dialog.show(),this._tooltipLink&&(this._tooltip=this._tooltipLink.getAttribute("data-hover"),this._tooltipLink.setAttribute("data-hover",null))):b.state==="closed"&&this.hideDialog()}.bind(this)),b("Event").listen(this._closeButton,"click",this.hideDialog.bind(this))},hideDialog:function(){this._dialog&&this._dialog.hide(),this._tooltipLink&&this._tooltipLink.setAttribute("data-hover",this._tooltip),this._showDialog=!1}};e.exports=a}),null);
__d("ProfileWizardUIEvents",[],(function(a,b,c,d,e,f){a=Object.freeze({CUSTOM_HIDE_HANDLE:"ProfileWizardUIEvents/customHideHandle",CUSTOM_SHOW_HANDLE:"ProfileWizardUIEvents/customShowHandle",HIDE_POPUP:"ProfileWizardUIEvents/hidePopup",PROFILE_PIC_UPLOADED:"ProfileWizardUIEvents/profilePicUploaded",SHOW_POPUP:"ProfileWizardUIEvents/showPopup",STEP_COMPLETE:"ProfileWizardUIEvents/stepComplete",STEP_EDITED:"ProfileWizardUIEvents/stepEdited"});e.exports=a}),null);
__d("XProfileWizardImpressionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/wizard_impression/{surface}/",{error_code:{type:"Int"},step:{type:"Int",required:!0},surface:{type:"Enum",required:!0,enumType:1}})}),null);
__d("ProfileWizardUIManager",["invariant","Arbiter","AsyncRequest","ProfileWizardUIEvents","XProfileWizardImpressionController","destroyOnUnload"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a,c){c===void 0&&(c=null);this.$1=a;this.$2=c||this.$1[0];var d=b("Arbiter").subscribe(b("ProfileWizardUIEvents").STEP_COMPLETE,this.stepComplete.bind(this));c!=null&&h.informShowPopupForStep(c);b("destroyOnUnload")(function(){return d.unsubscribe()})}h.prototype.stepComplete=function(a,b){"use strict";a=this.getNextStepIndex(b.stepNumber);a&&(h.informShowPopupForStep(a),this.$2=a)};h.prototype.getCurrentStepIndex=function(){"use strict";return this.$2};h.prototype.getNextStepIndex=function(a){"use strict";a=this.$1.indexOf(a);a!==-1||g(0);return a<this.$1.length-1?this.$1[a+1]:null};h.prototype.hasNextStep=function(){"use strict";return!!this.getNextStepIndex(this.getCurrentStepIndex())};h.informShowPopupForStep=function(a){"use strict";b("Arbiter").inform(b("ProfileWizardUIEvents").SHOW_POPUP+a,{stepNumber:a},b("Arbiter").BEHAVIOR_PERSISTENT)};h.informHidePopupForStep=function(a){"use strict";b("Arbiter").inform(b("ProfileWizardUIEvents").HIDE_POPUP+a,{stepNumber:a},b("Arbiter").BEHAVIOR_PERSISTENT)};h.informStepComplete=function(a){"use strict";b("Arbiter").inform(b("ProfileWizardUIEvents").STEP_COMPLETE,{stepNumber:a})};h.informCustomShowHandler=function(a){"use strict";b("Arbiter").inform(b("ProfileWizardUIEvents").CUSTOM_SHOW_HANDLE+a,{stepNumber:a},b("Arbiter").BEHAVIOR_PERSISTENT)};h.informCustomHideHandler=function(a){"use strict";b("Arbiter").inform(b("ProfileWizardUIEvents").CUSTOM_HIDE_HANDLE+a,{stepNumber:a},b("Arbiter").BEHAVIOR_PERSISTENT)};h.subscribeShowPopupForStep=function(a,c,d){"use strict";return h.$3(b("ProfileWizardUIEvents").SHOW_POPUP,a,d)};h.subscribeHidePopupForStep=function(a,c,d){"use strict";return h.$3(b("ProfileWizardUIEvents").HIDE_POPUP,a,d)};h.subscribeCustomShowHandler=function(a,c){"use strict";return h.$3(b("ProfileWizardUIEvents").CUSTOM_SHOW_HANDLE,a,c)};h.subscribeCustomHideHandler=function(a,c){"use strict";return h.$3(b("ProfileWizardUIEvents").CUSTOM_HIDE_HANDLE,a,c)};h.$3=function(event,a,c){"use strict";var d=b("Arbiter").subscribe(event+a,c);b("destroyOnUnload")(function(){return d.unsubscribe()});return d};h.markStepImpression=function(a,c){"use strict";a=b("XProfileWizardImpressionController").getURIBuilder().setInt("step",a).setEnum("surface",c).getURI();new(b("AsyncRequest"))().setURI(a).send()};h.init=function(a,b){b===void 0&&(b=null);return new h(a,b)};e.exports=h}),null);
__d("XTimelineCoverPhotoGalleryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/timeline/cover/gallery/",{})}),null);
__d("TimelineCoverPhotoNUX",["cx","AsyncRequest","CSS","ProfileWizardUIManager","XTimelineCoverPhotoGalleryController","$","destroyOnUnload"],(function(a,b,c,d,e,f,g){__p&&__p();var h="fbProfileCover",i="_3y4k";a={init:function(a,c,d,e){__p&&__p();this._dialog=c;this._coverPhotoContainer=b("$")(h);this._popover=a.getPopover();this._hasCoverPhoto=e;b("ProfileWizardUIManager").subscribeCustomShowHandler(d,function(){return this._showDialog()}.bind(this));b("ProfileWizardUIManager").subscribeCustomHideHandler(d,function(){return this._hideDialog()}.bind(this));this._popoverToken=this._popover.subscribeOnce("show",function(){if(this._hasCoverPhoto||this._showDialogCalled)return;this._popover.hideLayer();this._showDialog()}.bind(this));var f=this._dialog.subscribe("cancel",function(){b("CSS").removeClass(this._coverPhotoContainer,i)}.bind(this)),g=this._dialog.subscribe("confirm",function(){this._popover.showLayer(),this._hideDialog()}.bind(this));b("destroyOnUnload")(function(){this._dialog.unsubscribe(f),this._dialog.unsubscribe(g),this._popover.unsubscribe(this._popoverToken)}.bind(this))},_hideDialog:function(){this._dialog.hide(),b("CSS").removeClass(this._coverPhotoContainer,i)},_showDialog:function(){if(this._showDialogCalled)return;this._dialog.show();this._hasCoverPhoto||(b("CSS").addClass(this._coverPhotoContainer,i),new(b("AsyncRequest"))().setURI(b("XTimelineCoverPhotoGalleryController").getURIBuilder().getURI()).send());this._showDialogCalled=!0}};e.exports=a}),null);
__d("TimelineProfilePic",["Arbiter","CSS","Dialog","DOM","HTML","Run","TimelineProfilePicConfig","$","ge"],(function(a,b,c,d,e,f){__p&&__p();var g;h.init=function(a,b){"use strict";h.destroyInstance(),g=new h(a||"fbProfileCover",b||".profilePicThumb")};function h(a,c){"use strict";this.$1=b("$")(a),this.$2=c,this.$3=[b("Arbiter").subscribe(b("TimelineProfilePicConfig").loading,this.startLoading.bind(this)),b("Arbiter").subscribe(b("TimelineProfilePicConfig").success,this.onUploadSuccess.bind(this))],b("Run").onBeforeUnload(this.onBeforeUnload.bind(this)),b("Run").onLeave(this.destroy.bind(this))}h.prototype.$4=function(a){"use strict";this.$5=a,b("CSS").conditionClass(this.$1,"profilePicLoading",a)};h.prototype.destroy=function(){"use strict";this.$3.forEach(function(a){a.unsubscribe()}),this.$3=[],g=null};h.prototype.startLoading=function(a,b){"use strict";this.$4(!!b.isLoading)};h.prototype.onUploadSuccess=function(a,c){"use strict";__p&&__p();this.$4(!1);if(!c.newPic)return;a=b("Dialog").getCurrent();a&&a.hide();a=c.newPic;b("DOM").replace(b("DOM").find(this.$1,this.$2),typeof a==="string"?b("HTML")(a):a);if(typeof c.profileId!==undefined&&typeof c.headerPicURL!==undefined){a=b("ge")("profile_pic_header_"+c.profileId);a&&(a.src=c.headerPicURL)}a=b("ge")("fbProfilePicSelector");a&&b("CSS").removeClass(a,"fbTimelineNullProfilePicSelector")};h.prototype.onBeforeUnload=function(){"use strict";if(g===this&&this.$5)return b("TimelineProfilePicConfig").leavingMessage};h.destroyInstance=function(){"use strict";g&&g.destroy()};e.exports=h}),null);
__d("XProfileRefresherDialogImpressionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/refresher/dialog_impression/",{})}),null);
__d("ProfileActionsUpdateInfoButton",["AsyncRequest","CSS","Event","XProfileRefresherDialogImpressionController","destroyOnUnload"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d){"use strict";this.$1=b("Event").listen(a,"click",function(){c.hide(),b("CSS").hide(d),this.$2()}.bind(this)),c.subscribe("cancel",function(){return this.$2()}.bind(this)),b("destroyOnUnload")(function(){return this.$3()}.bind(this))}a.prototype.$3=function(){"use strict";this.$1&&this.$1.remove()};a.prototype.$2=function(){"use strict";new(b("AsyncRequest"))().setURI(b("XProfileRefresherDialogImpressionController").getURIBuilder().getURI()).send()};e.exports=a}),null);
__d("ProfileWizardStepFlyout",["DOMScroll","Event","ProfileWizardUIManager","destroyOnUnload"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d){"use strict";__p&&__p();b("ProfileWizardUIManager").subscribeShowPopupForStep(c,d,function(){b("DOMScroll").scrollTo(a.getCausalElement(),500,!1,0,20,function(){b("ProfileWizardUIManager").informCustomShowHandler(c),a.show()})});b("ProfileWizardUIManager").subscribeHidePopupForStep(c,d,function(){b("ProfileWizardUIManager").informCustomHideHandler(c),a.hide()});var e=b("Event").listen(a.getCausalElement(),"click",function(){return b("ProfileWizardUIManager").informHidePopupForStep(c)}),f=[a.subscribe("cancel",function(){b("ProfileWizardUIManager").informStepComplete(c),b("ProfileWizardUIManager").markStepImpression(c,d)}),a.subscribe("confirm",function(){a.hide(),b("ProfileWizardUIManager").markStepImpression(c,d)})];b("destroyOnUnload")(function(){while(f.length)a.unsubscribe(f.pop());e.remove()})}e.exports=a}),null);
__d("InfoReviewInstanceManager",["csx","DOM","Event","ReactDOM"],(function(a,b,c,d,e,f,g){__p&&__p();var h="._5sf3",i=[],j=[];a={addInstanceRoot:function(a,c){j.push(b("Event").listen(c,"click",function(a){a=b("DOM").scry(c,h)[0];a&&b("DOM").remove(a)})),i.push(a)},cleanupInstances:function(){var a=[];while(i.length){var c=i.pop();document.contains(c)?a.push(c):b("ReactDOM").unmountComponentAtNode(c)}while(j.length)j.pop().remove();i=a}};e.exports=a}),null);
__d("InfoReviewCloseButton",["DOM","Event","InfoReviewInstanceManager","Parent","$","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();var g="fbTimelineUnit";function a(a,c){"use strict";this.$1=a,this.$2=c,this.$3=b("Event").listen(this.$1,"click",this.$4.bind(this)),b("tidyEvent")(this.$3)}a.prototype.$4=function(){"use strict";var a=b("$")(this.$2);a.parentElement.children.length===1&&(a=b("Parent").byClass(a,g));b("DOM").remove(a)&&this.$5();b("InfoReviewInstanceManager").cleanupInstances()};a.prototype.$5=function(){"use strict";this.$1=null,this.$2=null,this.$3&&this.$3.remove(),this.$3=null};e.exports=a}),null);
__d("InfoReviewRequestForm",["csx","cx","CSS","DOM","Event","tidyEvent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i="_3k3-",j=[];function a(a,c){"use strict";this.$1=a,this.$2=[b("Event").listen(c,"change",this.$3.bind(this)),b("Event").listen(c,"click",this.$4.bind(this))],b("tidyEvent")(this.$2),j.push(this)}a.prototype.cleanup=function(){"use strict";this.$1=null;while(this.$2.length)this.$2.pop().remove();this.$2=null};a.prototype.$3=function(event){"use strict";b("CSS").conditionClass(this.$1,i,event.getTarget().checked)};a.prototype.$4=function(event){"use strict";var a=event.getTarget();a.blur();a.focus()};a.initNUX=function(a,c){"use strict";b("tidyEvent")(b("Event").listen(a,"click",function(){var a=b("DOM").scry(c,"._58al")[0];a&&a.focus()}))};a.cleanupInstances=function(){"use strict";while(j.length>0)j.pop().cleanup()};a.setDialogListener=function(a,c,d){"use strict";b("tidyEvent")(a.subscribe("error",function(a,e){b("DOM").setContent(d,e.response.errorDescription);b("CSS").show(c);return!1}))};e.exports=a}),null);