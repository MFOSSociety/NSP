if (self.CavalryLogger) { CavalryLogger.start_js(["Ap+Zo"]); }

__d("EventWatchStatusSelector",["csx","CSS","DOM","DOMQuery","Event"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";__p&&__p();this.$1=a.primaryButton;this.$2=a.menuElement;this.$3=a.initialStatus;this.$4=a.canViewerJoin;this.$5=a.isPublicEvent;var c=a.menuInstance.getTriggerElem();this.$6=b("DOMQuery").find(c,"._33n");this.$7=b("DOMQuery").find(c,"._33o");this.$8=b("DOMQuery").find(c,"._1gf3");b("Event").listen(a.primaryButton,"click",function(){this.$3=a.primaryStatus,this.$9(),this.$10()}.bind(this));a.menuInstance.subscribe("setMenu",function(){__p&&__p();var c=a.menuInstance.getMenu().getRoot();this.$11=b("DOMQuery").find(c,"._33q");this.$12=b("DOMQuery").find(c,"._33u");this.$13=b("DOMQuery").find(c,"._33v");this.$14=b("DOMQuery").find(c,"._33z");this.$15=b("DOMQuery").find(c,"._1gf5");this.$16=b("DOMQuery").find(c,"._1gfd");this.$17=b("DOMQuery").find(c,"._1gfe");this.$18=b("DOMQuery").scry(c,"._33-")[0];this.$19=b("DOMQuery").scry(c,"._33_")[0];this.$10();a.menuInstance.getMenu().subscribe("itemclick",function(a,b){a=b.item.getRoot().getAttribute("data-string");if(a==="watched-selected"||a==="going-selected"||a==="declined-selected")return;this.$3=a;setTimeout(this.$10.bind(this));this.$3==="unwatched"&&this.$20()}.bind(this))}.bind(this))}a.prototype.$20=function(){"use strict";b("DOM").insertAfter(this.$2,this.$1),b("DOM").remove(this.$2)};a.prototype.$9=function(){"use strict";b("DOM").insertAfter(this.$1,this.$2),b("DOM").remove(this.$1)};a.prototype.$10=function(){"use strict";this.$6&&b("CSS").conditionShow(this.$6,this.$3==="going"),this.$7&&b("CSS").conditionShow(this.$7,this.$3==="watched"),this.$8&&b("CSS").conditionShow(this.$8,this.$3==="declined"),this.$11&&b("CSS").conditionShow(this.$11,this.$3!=="going"&&this.$4),this.$12&&b("CSS").conditionShow(this.$12,this.$3==="going"),this.$13&&b("CSS").conditionShow(this.$13,this.$3!=="watched"),this.$14&&b("CSS").conditionShow(this.$14,this.$3==="watched"),this.$15&&b("CSS").conditionShow(this.$15,this.$3!=="declined"&&!this.$5),this.$16&&b("CSS").conditionShow(this.$16,this.$3==="declined"&&!this.$5),this.$17&&b("CSS").conditionShow(this.$17,this.$5),this.$18&&b("CSS").conditionShow(this.$18,this.$3==="going"&&this.$5),this.$19&&b("CSS").conditionShow(this.$19,this.$3==="watched"&&this.$5)};e.exports=a}),null);
__d("legacy:animation",["Animation"],(function(a,b,c,d,e,f){a.Animation=b("Animation")}),3);