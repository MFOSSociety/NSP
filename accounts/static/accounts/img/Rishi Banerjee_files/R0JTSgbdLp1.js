if (self.CavalryLogger) { CavalryLogger.start_js(["6e4wh"]); }

__d("EventsMessengerComActionContextJSConfig",[],(function(a,b,c,d,e,f){e.exports={messenger_com:"messenger_com",reminder_banner:"reminder_banner",reminder_admin_text:"reminder_admin_text"}}),null);
__d("MNCommerceErrors",[],(function(a,b,c,d,e,f){e.exports={ALREADY_UNLINKED:1893001}}),null);
__d("MNCommerceReplyTypes",[],(function(a,b,c,d,e,f){e.exports={COMMERCE_LINK:2,COMMERCE_UNLINK:3}}),null);
__d("PageCommItemFolder",[],(function(a,b,c,d,e,f){e.exports={DONE:"DONE",FOLLOW_UP:"FOLLOW_UP",SPAM:"SPAM",TODO:"TODO",UNREAD:"UNREAD"}}),null);
__d("PagesManagerInboxNUX",[],(function(a,b,c,d,e,f){e.exports={pages_inbox_welcome_dialog:4622,pages_inbox_composer_reply:4628,pages_inbox_change_folder:4627,pages_inbox_fb_banner:4631,pages_inbox_ig_banner:4632,pages_inbox_all_tab_banner:4633,pages_inbox_move_folder_done:4642,pages_inbox_smart_replies:4762,pages_inbox_unread_folder:5007,pages_inbox_aggregated_thread:5135,pages_inbox_admin_assign:5144}}),null);
__d("AdsIncrementalNumberInput.react",["cx","fbt","AdsTestIDs","Keys","React","ShimButton.react","Tooltip","XUITextInput.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$6=function(a){if(this.props.allowEmptyValue&&a===null)return a;if((a||0)>this.props.max)return this.props.max;return(a||0)<this.props.min?this.props.min:a}.bind(this),this.$7=function(a){if(isNaN(a))return;a=this.$6(a);a!==this.props.value&&(this.props.allowEmptyValue||a!==null)&&this.props.onChange(a)}.bind(this),this.$4=function(){this.$7((this.props.value||0)+1)}.bind(this),this.$5=function(){this.$7((this.props.value||0)-1)}.bind(this),this.$1=function(){this.props.value===null&&this.$7(this.props.min)}.bind(this),this.$2=function(event){var a=event.target.value;this.props.allowEmptyValue&&a===""?a=null:a=+a;this.$7(a)}.bind(this),this.$3=function(event){event.keyCode===b("Keys").UP&&this.$4(),event.keyCode===b("Keys").DOWN&&this.$5()}.bind(this),c}a.prototype.render=function(){var a=this.props.arrowStyle==="light",c=this.props.value||0;return b("React").createElement("span",babelHelpers["extends"]({className:"_4one"},b("Tooltip").propsFor(this.props.tooltip)),b("React").createElement(b("XUITextInput.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_4onf"),disabled:this.props.disabled,max:this.props.max?""+this.props.max:"",min:this.props.min?""+this.props.min:"",value:this.props.value===null?"":""+c,onBlur:this.$1,onChange:this.$2,onKeyDown:this.$3})),b("React").createElement("span",{className:"_4ong"},b("React").createElement(b("ShimButton.react"),{"aria-label":h._("Increment value"),className:"_4onh"+(a?" _35jc":"")+(a?"":" _35jd")+(this.props.showDisabled&&this.props.value!==null&&c>=this.props.max?" _35je":""),"data-testid":b("AdsTestIDs").ADS_INCREMENTAL_NUMBER_ARROW_UP,onClick:this.$4},b("React").createElement("span",null)),b("React").createElement("div",{"aria-label":h._("Decrement value"),className:"_4oni"+(a?" _35jc":"")+(a?"":" _35jd")+(this.props.showDisabled&&this.props.value!==null&&c<=this.props.min?" _35je":""),"data-testid":b("AdsTestIDs").ADS_INCREMENTAL_NUMBER_ARROW_DOWN,role:"button",tabIndex:"0",onClick:this.$5},b("React").createElement("span",null))))};a.propTypes={"data-testid":c.string,allowEmptyValue:c.bool.isRequired,arrowStyle:c.oneOf(["light","dark"]).isRequired,className:c.string,disabled:c.bool,max:c.number.isRequired,min:c.number.isRequired,showDisabled:c.bool.isRequired,tooltip:c.object,value:c.number,onChange:c.func.isRequired};a.defaultProps={allowEmptyValue:!1,arrowStyle:"light",max:Infinity,min:-Infinity,showDisabled:!1};e.exports=a}),null);
__d("BonfireStrings",["cx","fbt","CurrentUser","FbtResultBase","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();e.exports={default_user_label:h._("User"),add_friend_button:h._("Add"),ring_friend_button:h._("Ring"),bonfire_edit_name_submit:h._("Done"),cancel_ring_button:h._("Cancel"),close_window_warning:h._("Leaving so soon?"),join_button_label:h._("Join"),ignore_button_label:h._("Ignore"),joining_message:h._("Joining"),label_refresh:h._("Refresh"),load_error_media:h._("An Error occured when trying to get access to Camera and\/or Microphone:"),load_error_media_permission:h._("Please Allow Camera and Microphone Access"),load_error_media_permission_explanation:h._("To use Bonfire, you need to turn your camera and microphone on. This will let your friends see and hear you when you connect with them."),load_error_media_permission_explanation_later:h._("You can turn these off later."),load_error_media_permission_learn_more:h._("Learn more"),load_error_unknown:h._("An Unknown Error occured trying to load Bonfire."),load_error_unknown_refresh_request:h._("Please refresh your browser or try again later."),leave_button_label:h._("Leave"),delete_account_button:h._("Delete Account"),delete_account_confirm_button:h._("Submit"),logout:h._("Sign Out"),audio_settings:h._("Audio Settings"),audio_settings_modal_title:h._("Audio Settings"),delete_account_modal_title:h._("Confirm Account Deletion"),delete_account_modal_body:h._("You're about to permanently delete your Bonfire account. Keep in mind that this will not delete your Facebook account. Once you submit your account for deletion, you won't be able to retrieve any of the content or information you have added. If you're ready to delete, tap Submit."),list_tray_active_bonfire_header:h._({"MEETINGS":"ACTIVE MEETINGS","BONFIRES":"ACTIVE BONFIRES"},[h._enum(b("CurrentUser").isWorkUser()?"MEETINGS":"BONFIRES",{MEETINGS:"MEETINGS",BONFIRES:"BONFIRES"})]),list_tray_friend_requests_header:h._("ADDED YOU"),list_tray_all_friend_header:h._("PEOPLE I'VE ADDED"),list_tray_facebook_friend_suggestions_header:h._("FACEBOOK FRIENDS"),list_tray_other_friend_suggestions_header:h._("SUGGESTIONS"),report_user_modal_title:h._("What's going on?"),report_user_modal_subtitle:h._("You can report a profile if someone is violating our community standards."),onboard_user_modal_title:b("CurrentUser").isWorkUser()?h._("Let coworkers know when you're using Meet"):h._("Let friends know when you're hanging out"),onboard_user_modal_subtitle:b("CurrentUser").isWorkUser()?h._("Selected coworkers will be able to see when you're available in Meet and join video chats"):h._("Selected Facebook and Bonfire friends will be able to see when you're available in Bonfire and join video chats"),add_friends_user_modal_title:h._("Choose who can join you"),add_friends_user_modal_subtitle:b("CurrentUser").isWorkUser()?h._("These coworkers will be notified when you're video chatting so they can join you from Meet or Chat"):h._("These friends will be notified when you're video chatting so they can join you from Bonfire or Messenger"),contact_law_enforcement_msg:h._("Contact law enforcement in your area if someone is in immediate danger."),is_self_display_name:h._("You"),bonfire_edit_name_placeholder:h._({"meeting":"Name this meeting","bonfire":"Name this bonfire"},[h._enum(b("CurrentUser").isWorkUser()?"meeting":"bonfire",{meeting:"meeting",bonfire:"bonfire"})]),bonfire_search_placeholder:h._("Search"),bonfire_onboarding_search_placeholder:h._({"coworkers":"Search coworkers to invite","friends":"Search friends to invite"},[h._enum(b("CurrentUser").isWorkUser()?"coworkers":"friends",{coworkers:"coworkers",friends:"friends"})]),cancel_friend_request:h._("Cancel"),respond_yes_friend_request:h._("Confirm"),reporting_threatening_violence:h._("This person is threatening violence"),reporting_bullying:h._("This person is bullying me or others"),reporting_harassment:h._("This person is harassing me or others"),reporting_self_harm:h._("This person is threatening to hurt themselves"),reporting_pornography:h._("This person is exposing themselves or committing sex acts"),reporting_hate_speech:h._("This person is using hate speech"),reporting_other:h._("Other"),login_continue_as_button_label:function(a){return h._("Sign in as {name}",[h._param("name",a)])},bonfire_not_yet_available:h._("Bonfire is not yet available in your area. Please check back again soon."),hideListTray:h._("Hide"),login_phone_generic_error:h._("The email or phone number you've entered doesn't match an account. Sign up for an account in the mobile app. Get the app on {=iOS} or {=Android}.",[h._param("=iOS",b("React").createElement("a",{className:"_3-a-",target:"_blank",href:"https://itunes.apple.com/dk/app/bonfire-group-video-chat/id1240352476"},h._("iOS"))),h._param("=Android",b("React").createElement("a",{className:"_3-a-",target:"_blank",href:"https://play.google.com/store/apps/details?id=com.facebook.bonfire"},h._("Android")))]),login_button_label:h._("Sign in"),logout_button_label:h._("Log out"),login_fb_header:h._("Sign in with Facebook"),login_fb_explanation:h._("Sign in with Facebook"),login_ig_explanation:h._("Sign in with Instagram Account"),login_phone_explanation:h._("Sign in with Phone Number"),login_switch_account_link:h._("Not You?"),login_with_fb:h._("Facebook"),login_with_phone:h._("Bonfire"),login_with_ig:h._("Instagram"),login_generic_error:h._("The username or password you've entered is incorrect. Please re-enter your username and password."),login_password_error:h._("The password you've entered is incorrect. Please re-enter your password."),login_password_placeholder:h._("Password"),login_phone_placeholder:h._("Phone"),login_username_placeholder:h._("Email, phone or username"),login_invalid_error:h._("Invalid value"),get_bonfire_button:h._("Get Bonfire"),landing_no_product_access:h._("Bonfire isn't available yet in your region."),landing_unsupported_browser:h._("Bonfire isn't currently supported in your browser. Try one of these browsers instead."),landing_update_browser:h._("Bonfire isn't currently supported in this version of your browser. Update now to use Bonfire"),landing_about:h._("ABOUT"),landing_privacy:h._("PRIVACY"),landing_terms:h._("TERMS"),get_app_text:h._("Get the app to sign up"),or:h._("or"),login_back_button:h._("Back"),notification_report_success:h._("Thank you for submitting a report. We will take a look at the account to see if anything goes against our community standards. Please note that we aren't currently able to review video chat content."),block_user:h._("Block"),unblock_user:h._("Unblock"),joining_blocked_user_bonfire_title:h._("Someone You Blocked is in This Bonfire"),joined_by_blocked_user:h._("Someone You Blocked has Joined the Bonfire"),joining_blocked_user_bonfire_subtitle:function(a){return h._("Are you sure you want to join? You previously blocked {=[name]}, who is in this bonfire.",[h._param("=[name]",b("React").createElement("span",{className:"_1dym _65z9"},h._("{name}",[h._param("name",a)])))])},joined_by_blocked_user_subtitle:function(a){return h._("You previously blocked {=[name]}, who just joined this bonfire. Do you want to leave?",[h._param("=[name]",b("React").createElement("span",{className:"_1dym _65z9"},h._("{name}",[h._param("name",a)])))])},ignore:h._("Ignore"),join_anyway:h._("Join Anyway"),do_not_join:h._("Don't Join"),joining_generic_error_title:h._("Could Not Join Bonfire"),joining_generic_error_message:h._("Something happened and we could not join this bonfire. Please try again."),notification_blocked:function(a){return h._("{=[name]} has been blocked.",[h._param("=[name]",b("React").createElement("span",{className:"_1dym"},h._("{name}",[h._param("name",a)])))])},notification_unblocked:function(a){return h._("{=[name]} has been unblocked.",[h._param("=[name]",b("React").createElement("span",{className:"_1dym"},h._("{name}",[h._param("name",a)])))])},notification_unfriended:function(a){return h._("{=[name]} has been unfriended.",[h._param("=[name]",b("React").createElement("span",{className:"_1dym"},h._("{name}",[h._param("name",a)])))])},notification_friend_added:function(a){return h._("{=[name]} has been added.",[h._param("=[name]",b("React").createElement("span",{className:"_1dym"},h._("{name}",[h._param("name",a)])))])},notification_friends_added:function(){return h._("Your friends have been added.")},notification_friend_added_you:function(a){return h._("{=[name]} added you",[h._param("=[name]",b("React").createElement("span",{className:"_1dym"},h._("{name}",[h._param("name",a)])))])},notification_friend_on_bonfire:function(a){return h._("{=[name]} is on Bonfire.",[h._param("=[name]",b("React").createElement("span",{className:"_1dym"},h._("{name}",[h._param("name",a)])))])},notification_friend_added_you_back:function(a){return h._("{=[name]} added you back",[h._param("=[name]",b("React").createElement("span",{className:"_1dym"},h._("{name}",[h._param("name",a)])))])},notification_ringing:function(a){return h._("{=[name]} wants to video chat with you",[h._param("=[name]",b("React").createElement("span",{className:"_1dym _4meq"},h._("{name}",[h._param("name",a)])))])},notification_bonfire_name_change:function(a){return h._("Your bonfire was renamed to {=[name]}",[h._param("=[name]",b("React").createElement("span",{className:"_1dym"},h._("{name}",[h._param("name",a)])))])},okay:h._("Okay"),user_video_off:function(a){return h._("{name}'s camera is off",[h._param("name",a)])},viewer_video_off:function(a){return h._("Your camera is off")},locked_label:h._("Locked"),full_label:h._("Full"),onboard_submit_button_label:function(a){return h._({"coworkers":"Invite {selected user count} coworkers","friends":"Invite {selected user count} friends"},[h._param("selected user count",a),h._enum(b("CurrentUser").isWorkUser()?"coworkers":"friends",{coworkers:"coworkers",friends:"friends"})])},last_active_time:function(a,b){return(b==="second"||b==="seconds"||b==="minute"||b==="minutes")&&a<=5?h._("Active now"):a===1?h._({"year":"Active {numeric time value} year ago","month":"Active {numeric time value} month ago","week":"Active {numeric time value} week ago","day":"Active {numeric time value} day ago","hour":"Active {numeric time value} hour ago","minute":"Active {numeric time value} minute ago","second":"Active {numeric time value} second ago"},[h._param("numeric time value",a),h._enum(b,{year:"year",month:"month",week:"week",day:"day",hour:"hour",minute:"minute",second:"second"})]):h._({"years":"Active {numeric time value} years ago","months":"Active {numeric time value} months ago","weeks":"Active {numeric time value} weeks ago","days":"Active {numeric time value} days ago","hours":"Active {numeric time value} hours ago","minutes":"Active {numeric time value} minutes ago","seconds":"Active {numeric time value} seconds ago"},[h._param("numeric time value",a),h._enum(b,{years:"years",months:"months",weeks:"weeks",days:"days",hours:"hours",minutes:"minutes",seconds:"seconds"})])}}}),null);
__d("CommerceCommonNUXAPI",["AsyncRequest","XCommerceSelfServeMerchantNUXSeenController"],(function(a,b,c,d,e,f){"use strict";a={update:function(a){a=b("XCommerceSelfServeMerchantNUXSeenController").getURIBuilder().setInt("page_id",a.pageID).setEnum("nux_type",a.nuxType).setEnum("event",a.event).getURI();new(b("AsyncRequest"))(a).send()}};e.exports=a}),null);
__d("CommerceCommonNUX.react",["BOFSellerLoggerEvent","CommerceCommonNUXAPI","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;var h=180;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(a){"use strict";g.constructor.call(this,a),this.$1=function(){this.setState({shown:!1}),b("CommerceCommonNUXAPI").update({event:b("BOFSellerLoggerEvent").ACTN_NUX_SEEN,nuxType:this.props.type,pageID:this.props.pageID})}.bind(this),this.state={shown:a.shown}}a.prototype.componentDidMount=function(){"use strict";this.state.shown&&b("CommerceCommonNUXAPI").update({event:b("BOFSellerLoggerEvent").ACTN_NUX_SHOW,nuxType:this.props.type,pageID:this.props.pageID})};a.prototype.render=function(){"use strict";return!this.state||!this.state.shown?null:b("React").createElement(b("XUIAmbientNUX.react"),{className:this.props.className,contextRef:this.props.contextRef,customwidth:h,onCloseButtonClick:this.$1,position:"above",shown:this.props.shown&&this.state.shown,width:this.props.width},this.props.children)};a.defaultProps={width:"custom"};a.PropTypes={children:c.any,className:c.string,contextRef:c.func.isRequired,pageID:c.string.isRequired,shown:c.bool.isRequired,type:c.string.isRequired,width:c.oneOf(["auto","custom","normal","wide"])};e.exports=a}),null);
__d("CommerceCurrencyUtil",["ix","fbglyph"],(function(a,b,c,d,e,f,g){"use strict";var h={BRL:g("127535"),EUR:g("127538"),GBP:g("127541"),IDR:g("127545"),MYR:g("127553"),NTD:g("127557"),PHP:g("127561"),SEK:g("127565"),THB:g("307416"),TRY:g("127573"),VEF:g("307420"),VND:g("127585"),YEN:g("127588"),USD:g("127577")},i="USD";a={getIconSrc:function(a){return!a?h[i]:h[a]||h[i]}};e.exports=a}),null);
__d("PagesMarkAsPaidCurrencyUtil",["ix","fbglyph"],(function(a,b,c,d,e,f,g){"use strict";var h={BRL:g("116319"),GBP:g("116325"),INR:g("116333"),MYR:g("116337"),PHP:g("116345"),THB:g("307029"),VND:g("116369"),USD:g("116361")},i=["BRL","EGP","GBP","INR","MXN","MYR","PHP","THB","TWD","USD","VND"],j="USD";a={getIconSrc:function(a){return!a?h[j]:h[a]||h[j]},getCurrencyList:function(){return i}};e.exports=a}),null);
__d("CommerceInvoiceButtonConfirmPaymentPUX.react",["fbt","CommerceCommonNUX.react","CommerceSelfServeNUXType","React","XUIText.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("CommerceCommonNUX.react"),{contextRef:this.props.contextRef,pageID:this.props.pageID,shown:this.props.shown,type:b("CommerceSelfServeNUXType").INVOICE_PAYMENTS_CONFIRM_PUX,width:"auto"},b("React").createElement(b("XUIText.react"),{display:"block",weight:"bold"},g._("New! Confirm Payments")),g._("Now you can mark orders as paid"))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("CommerceInvoiceButtonPUX.react",["fbt","CommerceCommonNUX.react","CommerceSelfServeNUXType","MessengerParticipants.bs","React"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$2=function(a){this.setState({recipientName:a&&a.name})}.bind(this),b}a.prototype.componentDidMount=function(){"use strict";this.$1(this.props)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";this.$1(a)};a.prototype.$1=function(a){"use strict";b("MessengerParticipants.bs").get("fbid:"+a.recipientID,this.$2)};a.prototype.render=function(){"use strict";return!this.state||!this.state.recipientName?null:b("React").createElement(b("CommerceCommonNUX.react"),{contextRef:this.props.contextRef,pageID:this.props.pageID,shown:this.props.shown,type:b("CommerceSelfServeNUXType").INVOICE_PAYMENTS_CREATION_PUX},g._("Click here to send {buyer} a payment request",[g._param("buyer",this.state.recipientName)]))};a.PropTypes={contextRef:c.func.isRequired,pageID:c.string.isRequired,recipientID:c.string.isRequired,shown:c.bool.isRequired};e.exports=a}),null);
__d("XCommerceTransactionInvoiceUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/transaction-invoice/update/",{})}),null);
__d("CommerceInvoiceAPI",["ActorURI","AsyncRequest","XCommerceTransactionInvoiceUpdateController","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={updateInvoiceStatus:function(a){var c=b("XCommerceTransactionInvoiceUpdateController").getURIBuilder().getURI();c=b("ActorURI").create(c,a.pageID);var d=a.onSuccess||b("emptyFunction"),e=a.onError||b("emptyFunction");a={invoice_id:a.invoiceID,transaction_status:a.status,receipt_reject_reason:a.receiptRejectReason,shipment_tracking_no:a.shipmentTrackingNumber};new(b("AsyncRequest"))().setURI(c).setData(a).setMethod("POST").setHandler(function(a){a=a.getPayload();d(a)}).setErrorHandler(function(a){e()}).send()}};e.exports=a}),null);
__d("CommerceInvoiceAdminActionMoneyAmountInput.react",["cx","fbt","FBPaymentsLinkHelper","Image.react","MessengerEnvironment","Middot.react","P2PAmountUtils","PagesMarkAsPaidCurrencyUtil","React","ReactDOM","ShimButton.react","XUIError.react","XUIGrayText.react","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=1,j=999999;c=b("React").createClass({displayName:"CommerceInvoiceAdminActionMoneyAmountInput",propTypes:{currencySymbol:a.string,disabled:a.bool,isRequesting:a.bool,onInputChange:a.func,receiversCount:a.number,value:a.string,currency:a.string,pageID:a.string},getDefaultProps:function(){return{currencySymbol:"$",disabled:!1,isRequesting:!1,onInputChange:b("emptyFunction"),receiversCount:1,value:""}},getInitialState:function(){var a;b("MessengerEnvironment").messengerui?a=236:a=200;return{inputError:null,maxInputWidth:a,value:this.props.value,width:""}},componentDidMount:function(){this.updateAmount(this.state.value),this.props.disabled||this.initDelayedFocus()},UNSAFE_componentWillReceiveProps:function(a){this.props.value!==a.value&&this.updateAmount(a.value)},initDelayedFocus:function(){setTimeout(this.focus)},focus:function(){var a,c=this.state.value;this.isMounted()&&this.refs.textInput&&(a=b("ReactDOM").findDOMNode(this.refs.textInput),a!==null&&(a.focus(),c&&(c=c.length,a.setSelectionRange(c,c))))},handleAmountInputChange:function(a){a=a.target.value;this.clearInputError();this.updateAmount(a)},clearInputError:function(){this.setState({inputError:null})},setInputError:function(a){this.setState({inputError:a})},handleAmountInputBlur:function(a){a=a.target.value;var b=a.split("."),c=b[0];b=b[1];b?b.length===1&&this.updateAmount(a+"0"):b===""&&this.updateAmount(c)},updateAmount:function(a){__p&&__p();var c=!0,d,e=parseFloat(a)>j;a=b("P2PAmountUtils").sanitizeAmount(a);d=parseFloat(a);e&&(c=!1,this.setInputError(h._("Please enter a smaller amount")));e=a.split(".");var f=e[0];e=e[1];e!==undefined?a=(f&&parseFloat(f)!==0?f:"0")+"."+e.substr(0,2):f&&(parseFloat(f)===0?a="0":f.length>1&&f[0]==="0"&&(a=a.substr(1,a.length)));a.length===0&&(a="0");this.setValue(a);d=parseFloat(a);c=c&&!isNaN(d)&&d>0;this.props.onInputChange(a,c)},setValue:function(a){this.setState({value:a},this.updateWidth)},updateWidth:function(){var a=this.getMockWidth();a&&this.setState({width:Math.min(a,this.state.maxInputWidth)})},getMockWidth:function(){var a=b("ReactDOM").findDOMNode(this.refs.mock_input);return a.offsetWidth+i},renderGroupRequestInformation:function(){if(this.props.receiversCount<=1)return null;var a=Math.round(this.state.value*this.props.receiversCount*100)/100;return b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},h._("Per Person"),b("React").createElement(b("Middot.react"),null),h._("{currency}{total} Total",[h._param("currency",this.props.currencySymbol),h._param("total",a)]))},_onChangeCurrency:function(){var a=b("FBPaymentsLinkHelper").getPagePaymentSettingsURI(this.props.pageID,"AdminButton");window.open(a)},render:function(){var a;return b("React").createElement("div",{className:"_2zja"+(this.props.isRequesting?" _2zjd":"")},b("React").createElement("label",null,a,b("React").createElement("div",{className:"_2zje"},b("React").createElement("div",{ref:"mock_input",className:"_2zjg"},this.state.value),b("React").createElement(b("XUIError.react"),{xuiError:this.state.inputError},b("React").createElement("div",{className:"_3y9z"},b("React").createElement(b("ShimButton.react"),{role:"button",className:"_3y9-",onClick:this._onChangeCurrency},b("React").createElement(b("Image.react"),{src:b("PagesMarkAsPaidCurrencyUtil").getIconSrc(this.props.currency)})),b("React").createElement("div",{className:"_3y9_"},b("React").createElement("input",{className:"_3ya0",autoFocus:!0,disabled:this.props.disabled,onBlur:this.handleAmountInputBlur,onChange:this.handleAmountInputChange,ref:"textInput",style:{width:this.state.width},value:this.state.value})))),this.renderGroupRequestInformation())))}});e.exports=c}),null);
__d("CommerceInvoiceAdminFieldNames",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({DISCOUNT_OPTION_AMOUNT:"discountOptionAmount",SHIPPING_OPTION_AMOUNT:"shippingOptionAmount"});e.exports=a}),null);
__d("CommerceInvoiceAdminItemSummary.react",["cx","Layout.react","PECurrency","PECurrency.react","React","XUIGrayText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PECurrency").DEFAULT_AMOUNT_OFFSET,j=b("Layout.react").Column,k=b("Layout.react").FillColumn;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getFormattedPrice=function(a){return b("React").createElement(b("PECurrency.react"),{code:a.currency,value:i*Number(a.amount)})};a.prototype.render=function(){var a=this.props.cartItem,c=a.quantity>1?a.quantity.toString()+" x":"";c=b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"meta1"},c," ",a.title);a=b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"meta1"},this.getFormattedPrice(a.getPrice()));return b("React").createElement(b("Layout.react"),{className:""},b("React").createElement(k,null,c),b("React").createElement(j,null,a))};function a(){h.apply(this,arguments)}a.propTypes={cartItem:c.object.isRequired};e.exports=a}),null);
__d("CommerceInvoiceAdminSummaryView.react",["cx","fbt","CommerceInvoiceAdminFieldNames","CommerceInvoiceAdminItemSummary.react","FBPaymentsForm.react","FBPaymentsPriceFormField.react","React","XUICloseButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={isMouseOver:!1},this.$3=function(){this.setState({isMouseOver:!0})}.bind(this),this.$4=function(){this.setState({isMouseOver:!1})}.bind(this),this.$5=function(){this.setState({isMouseOver:!1}),this.props.onCloseButtonClick()}.bind(this),b}a.prototype.$1=function(){return h._("Discount")};a.prototype.$2=function(){return h._("Shipping")};a.prototype.$6=function(){return b("React").createElement("div",{className:"_12p4"},b("React").createElement(b("FBPaymentsForm.react"),{onChange:this.props.onFormStatusChanged},b("React").createElement(b("FBPaymentsPriceFormField.react"),{name:b("CommerceInvoiceAdminFieldNames").SHIPPING_OPTION_AMOUNT,currency:this.props.defaultCurrency,label:this.$2(),value:this.props.shippingAmount,required:!0,height:"short"}),b("React").createElement(b("FBPaymentsPriceFormField.react"),{name:b("CommerceInvoiceAdminFieldNames").DISCOUNT_OPTION_AMOUNT,currency:this.props.defaultCurrency,label:this.$1(),value:this.props.discountAmount,required:!0,height:"short"})))};a.prototype.$7=function(){var a=this.props.invoiceItems||[];a=a.map(function(a){return b("React").createElement(b("CommerceInvoiceAdminItemSummary.react"),{cartItem:a,key:a.id})});return b("React").createElement("div",{className:"_12p5"},a)};a.prototype.$8=function(){return this.state.isMouseOver?b("React").createElement(b("XUICloseButton.react"),{size:"small",className:"_12p7",onClick:this.$5}):null};a.prototype.render=function(){var a=this.props.invoiceItems;return a&&a.length>0?b("React").createElement("div",{className:"_12jl",onMouseEnter:this.$3,onMouseLeave:this.$4},b("React").createElement("div",null),this.$8(),this.$6(),this.$7()):b("React").createElement("div",null)};a.propTypes={defaultCurrency:c.string.isRequired,discountAmount:c.string.isRequired,shippingAmount:c.string.isRequired,invoiceItems:c.array,onCloseButtonClick:c.func.isRequired,onFormStatusChanged:c.func.isRequired};e.exports=a}),null);
__d("MessengerAdsLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WILL_TRY_SENDING_ADS:"will_try_sending_ads",NO_ADS_SENT:"no_ads_sent",FULL_AD_SENT:"full_ad_sent",AD_BODY_SENT:"ad_body_sent",AD_ATTACHMENT_SENT:"ad_attachment_sent",ERROR_SENDING_AD:"error_sending_ad",ERROR_SENDING_MESSAGE:"error_sending_message",ERROR_INJECTING_AD:"error_injecting_ad",ERROR_INTRO_DIRECTION_COPY_AD:"error_intro_direction_copy_ad",UNCATEGORIZED_USER_EVENT:"uncategorized_user_event",LOGGED_IMPRESSION:"logged_impression",RULES_RESULT:"rules_result",EXCEPTION_IN_ASYNC_PROCESSOR:"exception_in_async",AD_VALIDATION_RESULT:"ad_validation_result",LOGGED_CLICK:"logged_click",ERROR_CREATING_PROMO:"error_creating_promotion",ERROR_CREATING_TRENDING_STORY:"error_creating_trending_story",AD_SEND_FAILURE:"ad_send_failure",AD_ADMIN_SEND_FAILURE:"ad_admin_send_failure",PROCESSED_USER_EVENT:"processed_user_event",AD_FINDER_RESULT:"ad_finder_result",NO_AD_IMPRESSION_FOUND:"no_ad_impression_found",NO_CLIENT_TOKEN_FOUND:"no_client_token_found",NO_CREATIVE_FOUND:"no_creative_found",MISSING_IDENTIFIER:"missing_identifier",ERROR_WRITING_MAPPING:"error_writing_mapping",ERROR_READING_MAPPING:"error_reading_mapping",LOGGED_CONVERSION:"logged_conversion",SENDING_DEMO_AD:"sending_demo_ad",MASTER_HOLDOUT_USER:"master_holdout",ERROR_UPDATING_DELIVERY_COUNTER:"error_updating_delivery_counter",ERROR_READING_DELIVERY_COUNTER:"error_reading_delivery_counter",REVOKE_ADS:"revoke_ads",ERROR_APP_REQUEST_LOOKUP:"error_app_request_lookup",TAG_THREAD_ON_REPLY:"tag_thread_on_reply",TAG_THREAD_ON_REPLY_FAIL:"tag_thread_on_reply_fail",TAG_THREAD_ON_REPLY_SKIP:"tag_thread_on_reply_skip",TAG_THREAD_ON_TWO_WAY_MESSAGE:"tag_thread_on_two_way_message",AD_COPIED_TO_SENDER:"ad_copied_to_sender",AD_COPIED_TO_SENDER_FAIL:"ad_copied_to_sender_fail",AD_WELCOME_MESSAGE_SENT:"ad_welcome_message_sent",AD_WELCOME_MESSAGE_FAIL:"ad_welcome_message_fail",LOCAL_AWARENESS_CTA_DEFAULTING:"local_awareness_cta_defaulting",MULTIPLE_IMAGES_PER_ATTACHMENT:"multiple_images_per_attachment",DUPLICATE_REPLY_MSG:"duplicate_reply_msg",DUPLICATE_FIRST_REPLY:"duplicate_first_reply",DUPLICATE_PAGE_SENT_MSG:"duplicate_page_sent_msg",ADMIN_MESSAGE_AD_CONTEXT:"admin_message_ad_context",DUPLICATE_OPEN_THREAD:"duplicate_open_thread",PAGE_MARK_CONVERSION:"page_mark_conversion",DETECTED_PURCHASE:"detected_purchase",CUSTOM_AUDIENCE_CREATION_FAILED:"custom_audience_creation_failed",ERROR_UPDATING_RTCS_COUNTER:"error_updating_rtcs_counter",RECENT_FIRST_REPLY_DEBUG:"recent_first_reply_debug",CONVERSATION_TRACKER_ERROR:"conversation_tracker_error",SENT_READ_RECEIPT:"sent_read_receipt",SENT_DELIVERY_RECEIPT:"sent_delivery_receipt",LAST_AD_REFERRAL_USED:"last_ad_referral_used",MESSAGE_COPIER_CALLED:"message_copier_called",FUTURE_TIMESTAMP_FOR_SPONOSORED_MESSAGES:"future_timestamp_for_sponsored_messages",LOGGING_TIMESTAMPS_FOR_SPONOSORED_MESSAGES:"logging_timestamps_for_sponsored_messages",SPONSORED_IMPRESSION_LOGGING_MISSING_IDENTIFIER:"sponsored_impression_logging_missing_identifier",SPONSORED_IMPRESSION_LOGGING_NO_CLIENT_TOKEN_FOUND:"sponsored_impression_logging_no_client_token_found",SPONSORED_IMPRESSION_LOGGING_NO_ADIMPRESSION:"sponsored_impression_logging_no_adimpression",SPONSORED_IMPRESSION_LOGGING_FUTURE_TIMESTAMP:"sponsored_impression_logging_future_timestamp",SPONSORED_IMPRESSION_LOGGING_CLICKS:"sponsored_impression_logging_clicks",SPONSORED_IMPRESSION_LOGGING_IMPRESSIONS:"sponsored_impression_logging_impressions"})}),null);
__d("MessengerAdsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerAdsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerAdsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerAdsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAdID=function(a){this.$1.ad_id=a;return this};a.prototype.setAdType=function(a){this.$1.ad_type=a;return this};a.prototype.setAdfinderAccountsReturned=function(a){this.$1.adfinder_accounts_returned=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setAdfinderAdsReturned=function(a){this.$1.adfinder_ads_returned=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setAdsReturnedCount=function(a){this.$1.ads_returned_count=a;return this};a.prototype.setAppID=function(a){this.$1.app_id=a;return this};a.prototype.setAsyncSource=function(a){this.$1.async_source=a;return this};a.prototype.setClientUserID=function(a){this.$1.client_userid=a;return this};a.prototype.setConversationLength=function(a){this.$1.conversation_length=a;return this};a.prototype.setErrorCode=function(a){this.$1.error_code=a;return this};a.prototype.setErrorMessage=function(a){this.$1.error_message=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setFailedRules=function(a){this.$1.failed_rules=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setGkStatus=function(a){this.$1.gk_status=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setImpGenerationTime=function(a){this.$1.imp_generation_time=a;return this};a.prototype.setImpressionPrice=function(a){this.$1.impression_price=a;return this};a.prototype.setIsSubsequent=function(a){this.$1.is_subsequent=a;return this};a.prototype.setMessageFolder=function(a){this.$1.message_folder=a;return this};a.prototype.setMessageID=function(a){this.$1.message_id=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setPassedRules=function(a){this.$1.passed_rules=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setRulesPassed=function(a){this.$1.rules_passed=a;return this};a.prototype.setSkippedRules=function(a){this.$1.skipped_rules=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setUserEventName=function(a){this.$1.user_event_name=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={ad_id:!0,ad_type:!0,adfinder_accounts_returned:!0,adfinder_ads_returned:!0,ads_returned_count:!0,app_id:!0,async_source:!0,client_userid:!0,conversation_length:!0,error_code:!0,error_message:!0,event:!0,failed_rules:!0,gk_status:!0,imp_generation_time:!0,impression_price:!0,is_subsequent:!0,message_folder:!0,message_id:!0,page_id:!0,passed_rules:!0,rules_passed:!0,skipped_rules:!0,user_event_name:!0};e.exports=a}),null);
__d("MessengerConversionEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REPLY_ACTION:"reply",FIRST_REPLY_ACTION:"first_reply",OPEN_THREAD_ACTION:"open_thread",ACCEPT_MESSENGER_REQUEST_ACTION:"accept_messenger_request",IGNORE_MESSENGER_REQUEST_ACTION:"ignore_messenger_request",DELETE_THREAD:"delete",BLOCK_THREAD:"block",MARK_SPAM_THREAD:"mark_spam",PROMOTIONAL_OFF_THREAD:"promotional_off",DELETE_MESSAGE:"delete_message",READ_RECEIPT:"read_receipt",DELIVERY_RECEIPT:"delivery_receipt",LABEL_ADDED:"label_added",LABEL_REMOVED:"label_removed",PAGE_MESSAGE_SENT:"page_message_sent",PURCHASE:"purchase",PAGE_CLICK_INVOICE_BUTTON:"page_click_invoice_button",PAGE_START_MARK_AS_PAID:"page_start_mark_as_paid",PAGE_CONFIRM_PAID:"page_confirm_paid",USER_OPEN_RECEIPT:"user_open_receipt",PAGE_OPEN_RECEIPT:"page_open_receipt",CONVERSATION_START_7_DAY:"conversation_start_7_day",PAGE_START_TAG_PRODUCTS:"page_start_tag_products",PAGE_COMPLETE_TAG_PRODUCTS:"page_complete_tag_products",DEEP_CONVERSATION:"deep_conversation"})}),null);
__d("XTagProductsNUXController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/admin/tag_products_nux/",{})}),null);
__d("TagProductsNUXMessage.react",["cx","fbt","AsyncRequest","AsyncResponse","React","XBasicFBNuxDismissController","XBasicFBNuxViewController","XTagProductsNUXController","XUIAmbientNUX.react","bind"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=5732;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={isVisible:!1},this.onCloseButtonClick=function(){this.setState({isVisible:!1});var a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",j).getURI();new(b("AsyncRequest"))().setURI(a).send()}.bind(this),c}a.prototype.handleTagProductsNuxResponse=function(a){if(a.payload){var c=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",j).getURI();new(b("AsyncRequest"))().setURI(c).send();this.setState({isVisible:a.payload})}};a.prototype.componentDidMount=function(){var a=b("bind")(this,"handleTagProductsNuxResponse"),c=b("XTagProductsNUXController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setHandler(a).send()};a.prototype.render=function(){return b("React").createElement(b("XUIAmbientNUX.react"),{className:"_tf5",contextRef:this.props.contextRef,onCloseButtonClick:this.onCloseButtonClick,position:"above",shown:this.state.isVisible,alignment:"center",key:"ambientNUX",width:"custom",customwidth:320},h._("You can now tag products, give a discount or set a shipping price!"))};a.propTypes={contextRef:c.func.isRequired};e.exports=a}),null);
__d("CommerceInvoiceAdminActionContextualDialog.react",["ix","cx","fbt","CommerceCurrencyUtil","CommerceInvoiceAdminActionMoneyAmountInput.react","CommerceInvoiceAdminFieldNames","CommerceInvoiceAdminSummaryView.react","FBPaymentsPriceListHelper","Image.react","Link.react","MessengerAdsLoggerEvent","MessengerAdsTypedLogger","MessengerConversionEvent","React","TagProductsNUXMessage.react","XUIContextualDialog.react","XUIGrayText.react","XUIText.react","XUITextInput.react","asset","fbglyph","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={view:this.props.view||"default",paymentAmount:"0",paymentNote:"",canConfirm:!1,discountAmount:"0",isFormValid:!0,shippingAmount:"0"},this.$2=function(){new(b("MessengerAdsTypedLogger"))().setEvent(b("MessengerAdsLoggerEvent").PAGE_MARK_CONVERSION).setUserEventName(b("MessengerConversionEvent").PAGE_START_MARK_AS_PAID).setPageID(this.props.pageID).log(),this.setState({view:"confirm_payment"})}.bind(this),this.$3=function(){this.state.canConfirm&&this.state.isFormValid&&(this.props.onConfirmPayment(parseFloat(this.state.paymentAmount),this.$4(),this.$5(),this.state.paymentNote),new(b("MessengerAdsTypedLogger"))().setEvent(b("MessengerAdsLoggerEvent").PAGE_MARK_CONVERSION).setUserEventName(b("MessengerConversionEvent").PAGE_CONFIRM_PAID).setPageID(this.props.pageID).log())}.bind(this),this.$6=function(a,b){this.setState({paymentAmount:a,canConfirm:b})}.bind(this),this.$7=function(event){this.setState({paymentNote:event.target.value})}.bind(this),this.$9=function(a,c){var d=b("CommerceInvoiceAdminFieldNames"),e=c&&a[d.SHIPPING_OPTION_AMOUNT]?a[d.SHIPPING_OPTION_AMOUNT]:this.state.shippingAmount;a=c&&a[d.DISCOUNT_OPTION_AMOUNT]?a[d.DISCOUNT_OPTION_AMOUNT]:this.state.discountAmount;this.setState({isFormValid:c,discountAmount:a,shippingAmount:e})}.bind(this),c}a.prototype.$1=function(){return this.props.invoiceItems!==null};a.prototype.$8=function(){var a=this.props.invoiceItems||[],c={currency:this.props.defaultCurrency,amount:"0"};this.$1()&&(a.map(function(a){c=b("FBPaymentsPriceListHelper").addPrices(c,a.getPrice())}),c=b("FBPaymentsPriceListHelper").addPrices(c,this.$4()),c=b("FBPaymentsPriceListHelper").addPrices(c,this.$5()));return parseFloat(c.amount)<0?"0":c.amount};a.prototype.$4=function(){return{currency:this.props.defaultCurrency,amount:this.state.shippingAmount}};a.prototype.$5=function(){var a=parseFloat(this.state.discountAmount)>0?"-"+this.state.discountAmount:this.state.discountAmount;return{currency:this.props.defaultCurrency,amount:a}};a.prototype.$10=function(){return b("React").createElement("div",{className:"_5_vv"},b("React").createElement("div",{className:"_4375"},b("React").createElement("div",{className:"_437a"},i._("Mark a Conversation as Paid")),b("React").createElement("div",{className:"_437b"},i._("With Mark as Paid, you can track all payments you receive on Facebook for improved Page Insights that help increase sales."))),this.props.shouldShowRequestPayment||this.props.shouldAllowPaymentOnboarding?b("React").createElement("div",{className:"_5_vw",onClick:this.props.onRequestPayment,role:"presentation"},b("React").createElement(b("Image.react"),{className:"_5_vx",src:b("CommerceCurrencyUtil").getIconSrc(this.props.defaultCurrency)}),b("React").createElement("span",{className:"_5_vy"},b("React").createElement(b("XUIText.react"),{display:"block",weight:"bold"},i._("Request Payment")),b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"meta1"},i._("Send this buyer a request to pay for products")))):null,this.props.shouldShowConfirmPayment?b("React").createElement("div",{className:"_5_vw",onClick:this.$2,role:"presentation"},b("React").createElement(b("Image.react"),{className:"_5_vx",src:g("127386")}),b("React").createElement("span",{className:"_5_vy"},b("React").createElement(b("XUIText.react"),{display:"block",weight:"bold"},i._("Mark As Paid")),b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"meta1"},i._("Confirm that you've received payment from this buyer")))):null)};a.prototype.$11=function(){return b("React").createElement(b("CommerceInvoiceAdminSummaryView.react"),{defaultCurrency:this.props.defaultCurrency,discountAmount:this.state.discountAmount,shippingAmount:this.state.shippingAmount,invoiceItems:this.props.invoiceItems,onCloseButtonClick:this.props.onClearInvoice,onFormStatusChanged:this.$9})};a.prototype.$12=function(){return b("React").createElement("div",{className:"_5_w0"},b("React").createElement(b("Image.react"),{src:g("386534")}),b("React").createElement(b("XUITextInput.react"),{value:this.state.paymentNote,onChange:this.$7,placeholder:i._("What is the payment for?")}))};a.prototype.$13=function(){var a=null;b("gkx")("AT43M_DMHZ2UIqAcx6MMw7qL3uj5o2lRwjjAlv3kQLIBAf6Ughw_Gw9DERumjv1NsUW_zNTAyWg1z55px7awAISs")&&(a=b("React").createElement("div",null,b("React").createElement(b("Link.react"),{ref:"tagProductsLink",onClick:this.props.onSelectProductTagging,className:"_4pdq"},i._("Tag Products")),b("React").createElement(b("TagProductsNUXMessage.react"),{contextRef:function(){return this.refs.tagProductsLink}.bind(this)})));return b("React").createElement("div",{className:"_4pdx"},a,b("React").createElement(b("Link.react"),{onClick:this.$3,className:"_5_w1"},i._("Confirm")))};a.prototype.$14=function(){var a=this.$12(),c=this.$11(),d=this.$13();return b("React").createElement("div",{className:"_5_vz"},b("React").createElement("div",{className:"_5_v-"},i._("Confirm Amount Paid")),b("React").createElement("div",{className:"_5_v_"},b("React").createElement(b("CommerceInvoiceAdminActionMoneyAmountInput.react"),{onInputChange:this.$6,currency:this.props.defaultCurrency,pageID:this.props.pageID,value:this.$8(),disabled:this.$1()})),a,c,d)};a.prototype.$15=function(){switch(this.state.view){case"default":return this.$10();case"confirm_payment":return this.$14()}return null};a.prototype.render=function(){return b("React").createElement(b("XUIContextualDialog.react"),{hideOnBlur:!0,shown:this.props.shown,alignment:"right",contextRef:this.props.contextRef,onToggle:this.props.onToggle},this.$15())};a.propTypes={contextRef:c.func.isRequired,defaultCurrency:c.string.isRequired,pageID:c.string.isRequired,onRequestPayment:c.func.isRequired,onConfirmPayment:c.func.isRequired,onSelectProductTagging:c.func.isRequired,onToggle:c.func.isRequired,onClearInvoice:c.func.isRequired,shown:c.bool.isRequired,view:c.node.isRequired,shouldAllowPaymentOnboarding:c.bool.isRequired,shouldShowRequestPayment:c.bool.isRequired,shouldShowConfirmPayment:c.bool.isRequired,invoiceItems:c.array};e.exports=a}),null);
__d("CommerceInvoiceAdminActionsTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({CREATE_INVOICE_START:"",CREATE_INVOICE_SUCCESS:"",CREATE_INVOICE_FAILURE:"",HIDE_DIALOG:"",SAVE_CONFIG:"",SET_CONFIG:"",SET_INVOICE_DETAILS:"",SET_INVOICE_NOTE:"",SET_PRODUCT_PRICE:"",SET_SELECTED_PRODUCTS:"",SHOW_DIALOG:"",SHOW_MANAGE_INVOICE_DIALOG:"",UPDATE_INVOICE_STATUS_START:"",UPDATE_INVOICE_STATUS_SUCCESS:"",MANAGE_INVOICE_ERROR:"",HIDE_MANAGE_INVOICE_DIALOG:"",TOGGLE_ADMIN_ACTION_DIALOG:""});e.exports=a}),null);
__d("CommerceInvoiceAdminDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.dispatch=this.dispatch.bind(this)}e.exports=new a({strict:!0})}),null);
__d("XCommerceAdminTransactionInvoiceDetailsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/admin/transaction_invoice_details/",{invoice_id:{type:"FBID",required:!0}})}),null);
__d("XCommerceTransactionInvoiceConfigController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/transaction/invoice/config/",{})}),null);
__d("CommerceInvoiceAdminActions",["fbt","ActorURI","AsyncRequest","CommerceInvoiceAdminActionsTypes","CommerceInvoiceAdminDispatcher","CommerceInvoiceAPI","XCommerceAdminTransactionInvoiceDetailsController","XCommerceTransactionInvoiceConfigController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={setConfig:function(a){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").SET_CONFIG,config:a})},createInvoiceStart:function(){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").CREATE_INVOICE_START})},createInvoiceSuccess:function(){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").CREATE_INVOICE_SUCCESS})},createInvoiceFailure:function(a){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").CREATE_INVOICE_FAILURE,error:a})},hideDialog:function(){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").HIDE_DIALOG})},hideManageInvoiceDialog:function(){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").HIDE_MANAGE_INVOICE_DIALOG})},saveConfiguration:function(){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").SAVE_CONFIG})},setInvoiceDetails:function(a,c){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").SET_INVOICE_DETAILS,invoiceID:a,invoiceDetails:c})},setInvoiceNote:function(a){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").SET_INVOICE_NOTE,invoiceNote:a})},setProductPrice:function(a,c){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").SET_PRODUCT_PRICE,productID:a,price:c})},setSelectedProducts:function(a){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").SET_SELECTED_PRODUCTS,products:a})},showDialog:function(){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").SHOW_DIALOG})},showManageInvoiceDialog:function(a,c){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").SHOW_MANAGE_INVOICE_DIALOG,invoiceID:a,pageID:c})},updateInvoiceStatusStart:function(a,c){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").UPDATE_INVOICE_STATUS_START,invoiceID:c,pageID:a})},updateInvoiceStatusSuccess:function(a,c,d){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").UPDATE_INVOICE_STATUS_SUCCESS,invoiceID:c,pageID:a,status:d})},setManageInvoiceError:function(a,c){b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").MANAGE_INVOICE_ERROR,invoiceID:a,errorMessage:c})},fetchInvoiceDetails:function(a,c){var d=b("XCommerceAdminTransactionInvoiceDetailsController").getURIBuilder().setFBID("invoice_id",c).getURI();d=b("ActorURI").create(d,a);new(b("AsyncRequest"))().setURI(d).setHandler(function(a){a=a.payload;var b=a.items[0];b={id:b.product_item_id,imageURL:b.product_image_uri,name:b.product_name,price:b.product_price/100};b={currency:a.currency,id:a.invoice_id,pageID:a.page_id,status:a.status,statusDisplay:a.status_display,totalCost:a.total_cost,products:[b],availableShippingOptions:a.available_shipping_options,selectedShippingOption:a.selected_shipping_option,availablePaymentOptions:a.available_payment_options,selectedPaymentOption:a.selected_payment_option,receiptPhotoURL:a.receipt_photo_url,shippingAddress:a.ship_to_address,note:a.invoice_notes,customerPhoneNumber:a.customer_phone_number};h.setInvoiceDetails(c,b)}).send()},fetchConfig:function(a){var c=b("XCommerceTransactionInvoiceConfigController").getURIBuilder().getURI();c=b("ActorURI").create(c,a);new(b("AsyncRequest"))().setURI(c).setHandler(function(a){a=a.payload;a={isOnboarded:a.isOnboarded,businessEmail:a.merchantSettings.contactEmail,paymentMethods:a.paymentOptions,shippingOptions:a.shippingOptions,merchantSettings:a.merchantSettings};h.setConfig(a)}).send()},updateInvoiceStatus:function(a,c,d){this.updateInvoiceStatusStart(a,c),b("CommerceInvoiceAPI").updateInvoiceStatus({invoiceID:c,pageID:a,status:d,onSuccess:function(){this.updateInvoiceStatusSuccess(a,c,d)}.bind(this),onError:function(){var a=g._("There was an error updating the order status");this.setManageInvoiceError(c,a)}.bind(this)})},toggleActionsDialog:function(a,c,d,e){c===void 0&&(c=null),d===void 0&&(d=null),e===void 0&&(e=null),b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").TOGGLE_ADMIN_ACTION_DIALOG,showDialog:a,messageID:c,dialogView:d,referrer:e})}};e.exports=h}),null);
__d("CommerceInvoicePaymentOptionCategory",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BANK_TRANSFER:"BANK_TRANSFER",CUSTOM:"CUSTOM",PAY_ON_DELIVERY:"PAY_ON_DELIVERY"});e.exports=a}),null);
__d("PagesCommercePaymentInvoiceReferrer",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({XMAT:"xmat",ACTION_SHEET:"action_sheet"})}),null);
__d("CommerceInvoiceAdminStore",["invariant","CommerceInvoiceAdminActions","CommerceInvoiceAdminActionsTypes","CommerceInvoiceAdminDispatcher","CommerceInvoicePaymentOptionCategory","FluxStore","immutable","PageProductTransactionOrderStatus","PagesCommercePaymentInvoiceReferrer"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("immutable").Map;c=babelHelpers.inherits(a,b("FluxStore"));h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.$CommerceInvoiceAdminStore1=!0,this.$CommerceInvoiceAdminStore2=!1,this.$CommerceInvoiceAdminStore3=!1,this.$CommerceInvoiceAdminStore4=i(new Map()),this.$CommerceInvoiceAdminStore5=!1,this.$CommerceInvoiceAdminStore6=i(new Map()),this.$CommerceInvoiceAdminStore7=!1,this.$CommerceInvoiceAdminStore8=null,this.$CommerceInvoiceAdminStore11="Draft",this.$CommerceInvoiceAdminStore12=i(new Map()),this.$CommerceInvoiceAdminStore13=i(new Map()),this.$CommerceInvoiceAdminStore14="",this.$CommerceInvoiceAdminStore10=null,this.$CommerceInvoiceAdminStore15=!1,this.$CommerceInvoiceAdminStore16="default",this.$CommerceInvoiceAdminStore17=null,this.$CommerceInvoiceAdminStore18=b("PagesCommercePaymentInvoiceReferrer").ACTION_SHEET,this.$CommerceInvoiceAdminStore19()}a.prototype.$CommerceInvoiceAdminStore20=function(a){return{description:a.description,id:a.id,imageURL:a.image_url,name:a.name,permalink:a.permalink,price:a.current_price.amount/100}};a.prototype.$CommerceInvoiceAdminStore19=function(){this.$CommerceInvoiceAdminStore9=i(new Map()),this.$CommerceInvoiceAdminStore14=""};a.prototype.$CommerceInvoiceAdminStore21=function(){this.$CommerceInvoiceAdminStore8={isOnboarded:!0,businessEmail:"test@test.com",paymentMethods:[{type:b("CommerceInvoicePaymentOptionCategory").BANK_TRANSFER,description:"*transfer detaile here*"}],shippingOptions:[{id:"1234",price:2e3,currency:"USD",name:"UPS Ground"}],merchantSettings:{id:"1234567",defaultCurrency:"USD"}}};a.prototype.$CommerceInvoiceAdminStore22=function(a){this.$CommerceInvoiceAdminStore2=a};a.prototype.$CommerceInvoiceAdminStore23=function(a){this.$CommerceInvoiceAdminStore3=a};a.prototype.$CommerceInvoiceAdminStore24=function(a){this.$CommerceInvoiceAdminStore7=a};a.prototype.$CommerceInvoiceAdminStore25=function(a){this.$CommerceInvoiceAdminStore14=a};a.prototype.$CommerceInvoiceAdminStore26=function(a,b){var c=this.$CommerceInvoiceAdminStore9.get(a);c.price=b;this.$CommerceInvoiceAdminStore9=this.$CommerceInvoiceAdminStore9.set(a,Object.assign({},c))};a.prototype.$CommerceInvoiceAdminStore27=function(a){var b=new Map();a.map(function(a){return b.set(a.id,this.$CommerceInvoiceAdminStore20(a))}.bind(this));this.$CommerceInvoiceAdminStore9=i(b)};a.prototype.$CommerceInvoiceAdminStore28=function(){this.$CommerceInvoiceAdminStore4=i(new Map()),this.$CommerceInvoiceAdminStore6=i(new Map()),this.$CommerceInvoiceAdminStore12=i(new Map())};a.prototype.$CommerceInvoiceAdminStore29=function(a,b){var c=new Map();c.set(a,b);this.$CommerceInvoiceAdminStore13=i(c)};a.prototype.$CommerceInvoiceAdminStore30=function(a){this.$CommerceInvoiceAdminStore15=a};a.prototype.$CommerceInvoiceAdminStore31=function(a){this.$CommerceInvoiceAdminStore16=a||"default"};a.prototype.$CommerceInvoiceAdminStore32=function(a){this.$CommerceInvoiceAdminStore17=a};a.prototype.$CommerceInvoiceAdminStore33=function(a){this.$CommerceInvoiceAdminStore18=a||b("PagesCommercePaymentInvoiceReferrer").ACTION_SHEET};a.prototype.__onDispatch=function(a){__p&&__p();switch(a.actionType){case b("CommerceInvoiceAdminActionsTypes").CREATE_INVOICE_FAILURE:this.$CommerceInvoiceAdminStore24(!1);this.$CommerceInvoiceAdminStore23(!0);this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").CREATE_INVOICE_START:this.$CommerceInvoiceAdminStore24(!0);this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").CREATE_INVOICE_SUCCESS:this.$CommerceInvoiceAdminStore24(!1);this.$CommerceInvoiceAdminStore22(!1);this.$CommerceInvoiceAdminStore23(!1);this.$CommerceInvoiceAdminStore19();this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").HIDE_DIALOG:this.$CommerceInvoiceAdminStore22(!1);this.$CommerceInvoiceAdminStore23(!1);this.$CommerceInvoiceAdminStore19();this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").HIDE_MANAGE_INVOICE_DIALOG:this.$CommerceInvoiceAdminStore28();this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").SAVE_CONFIG:this.$CommerceInvoiceAdminStore21();this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").SET_CONFIG:this.$CommerceInvoiceAdminStore8=a.config;this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").SET_INVOICE_DETAILS:this.$CommerceInvoiceAdminStore29(a.invoiceID,a.invoiceDetails);this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").SET_INVOICE_NOTE:this.$CommerceInvoiceAdminStore25(a.invoiceNote);this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").SET_PRODUCT_PRICE:this.$CommerceInvoiceAdminStore26(a.productID,a.price);this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").SET_SELECTED_PRODUCTS:this.$CommerceInvoiceAdminStore27(a.products);this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").SHOW_DIALOG:this.$CommerceInvoiceAdminStore22(!0);this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").SHOW_MANAGE_INVOICE_DIALOG:var c=new Map();c.set(a.invoiceID,!0);this.$CommerceInvoiceAdminStore4=i(c);b("CommerceInvoiceAdminActions").fetchInvoiceDetails(a.pageID,a.invoiceID);this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").UPDATE_INVOICE_STATUS_START:c=new Map();c.set(a.invoiceID,!0);this.$CommerceInvoiceAdminStore6=i(c);this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").UPDATE_INVOICE_STATUS_SUCCESS:c=this.$CommerceInvoiceAdminStore13.get(a.invoiceID);c.status=a.status;this.$CommerceInvoiceAdminStore29(a.invoiceID,c);this.$CommerceInvoiceAdminStore4=i(new Map());this.$CommerceInvoiceAdminStore6=i(new Map());this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").MANAGE_INVOICE_ERROR:c=new Map();c.set(a.invoiceID,a.errorMessage);this.$CommerceInvoiceAdminStore12=i(c);this.$CommerceInvoiceAdminStore6=i(new Map());this.__emitChange();break;case b("CommerceInvoiceAdminActionsTypes").TOGGLE_ADMIN_ACTION_DIALOG:this.$CommerceInvoiceAdminStore30(a.showDialog);this.$CommerceInvoiceAdminStore32(a.messageID);this.$CommerceInvoiceAdminStore31(a.dialogView);this.$CommerceInvoiceAdminStore33(a.referrer);this.__emitChange();break}};a.prototype.getCanSaveConfig=function(){return this.$CommerceInvoiceAdminStore1};a.prototype.getCanSendInvoice=function(){return this.$CommerceInvoiceAdminStore9.size>0};a.prototype.getIsDialogVisible=function(){return this.$CommerceInvoiceAdminStore2};a.prototype.getIsInvoicePendingApproval=function(a){a=this.$CommerceInvoiceAdminStore13.get(a);return!!a&&a.status===b("PageProductTransactionOrderStatus").PENDING_APPROVAL};a.prototype.getIsInvoiceCancelled=function(a){a=this.$CommerceInvoiceAdminStore13.get(a);return a&&a.status===b("PageProductTransactionOrderStatus").VOIDED};a.prototype.getIsInvoiceFulfilled=function(a){a=this.$CommerceInvoiceAdminStore13.get(a);return a&&a.status===b("PageProductTransactionOrderStatus").SHIPPED};a.prototype.getIsInvoicePaid=function(a){a=this.$CommerceInvoiceAdminStore13.get(a);return a&&!!a.selectedPaymentOption&&(a.status===b("PageProductTransactionOrderStatus").PAYMENT_SUBMITTED||a.status===b("PageProductTransactionOrderStatus").SHIPPED)};a.prototype.getIsManageInvoiceDialogVisible=function(a){return this.$CommerceInvoiceAdminStore4.get(a)===!0};a.prototype.getIsErrorMessageVisible=function(){return this.$CommerceInvoiceAdminStore3};a.prototype.getIsSavingConfig=function(){return this.$CommerceInvoiceAdminStore5};a.prototype.getIsSendingInvoice=function(){return this.$CommerceInvoiceAdminStore7};a.prototype.getConfig=function(){return this.$CommerceInvoiceAdminStore8};a.prototype.getInvoiceNote=function(){return this.$CommerceInvoiceAdminStore14};a.prototype.getProductPrice=function(a){this.$CommerceInvoiceAdminStore9.get(a)||g(0);return this.$CommerceInvoiceAdminStore9.get(a).price};a.prototype.getSelectedProducts=function(){return this.$CommerceInvoiceAdminStore9.toArray()};a.prototype.getStatusMessage=function(){return this.$CommerceInvoiceAdminStore11};a.prototype.getManageInvoiceErrorMessage=function(a){return this.$CommerceInvoiceAdminStore12.get(a)};a.prototype.getSelectedShippingOption=function(){return this.$CommerceInvoiceAdminStore10};a.prototype.getIsManageInvoiceDialogLoading=function(a){var b=this.$CommerceInvoiceAdminStore6.get(a)===!0;return b||this.getInvoiceDetails(a)==null};a.prototype.getTotalCost=function(){var a=0;this.$CommerceInvoiceAdminStore9.forEach(function(b){return a+=b.price});return a*100};a.prototype.getInvoiceDetails=function(a){return this.$CommerceInvoiceAdminStore13.get(a)};a.prototype.getShowAdminActionContextualDialog=function(){return this.$CommerceInvoiceAdminStore15};a.prototype.getActionDialogView=function(){return this.$CommerceInvoiceAdminStore16};a.prototype.getMessageID=function(){return this.$CommerceInvoiceAdminStore17};a.prototype.getReferrer=function(){return this.$CommerceInvoiceAdminStore18};a.__moduleID=e.id;e.exports=new a(b("CommerceInvoiceAdminDispatcher"))}),null);
__d("CommerceCartItemSummary.react",["fbt","cx","FBPaymentsItemSummaryView.react","InlineBlock.react","Link.react","PECurrency","PECurrency.react","React","ReactFragment","XUIGrayText.react","XUISingleSelector.react","XUISingleSelectorButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("PECurrency").DEFAULT_AMOUNT_OFFSET,k=b("XUISingleSelector.react").Option;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.PRODUCT_IMAGE_SIZE=48,this.handleRemoveClick=function(){this.props.onRemove(this.props.cartItemKey)}.bind(this),this.$1=function(a){this.props.onEdit(this.props.cartItemKey,a.value)}.bind(this),b}a.prototype.getFormattedPrice=function(a){return b("React").createElement(b("PECurrency.react"),{code:a.currency,value:j*Number(a.amount)})};a.prototype.getQuantityDescription=function(){var a=this.props.cartItem;return a.quantity>1?g._("Quantity: {quantity} ({unit_price} ea)",[g._param("quantity",a.quantity),g._param("unit_price",this.getFormattedPrice(a.unitPrice))]):g._("Quantity:")};a.prototype.renderQuantity=function(){var a=this.props.cartItem;if(a.quantityLimit===0)return null;var c={};for(var d=1;d<=a.quantityLimit;d++)c["QTY-"+d]=b("React").createElement(k,{key:"QTY-"+d,value:d},d);d=null;a.quantity>1&&(d=g._("({unit_price} ea)",[g._param("unit_price",this.getFormattedPrice(a.unitPrice))]));return b("React").createElement(b("InlineBlock.react"),{alignv:"middle",className:"_1q6u"},b("React").createElement(b("XUIGrayText.react"),{display:"inline",shade:"dark",size:"meta1"},g._("Quantity:")),b("React").createElement(b("XUISingleSelector.react"),{value:this.props.cartItem.quantity,disabled:!1,maxheight:200,onChange:this.$1,className:"_3-99",customButton:b("React").createElement(b("XUISingleSelectorButton.react"),{size:"small"})},b("ReactFragment").create(c)),b("React").createElement(b("XUIGrayText.react"),{display:"inline",shade:"dark",size:"meta1",className:"_3-99"},d))};a.prototype.getRemoveLabel=function(){return g._("Remove")};a.prototype.render=function(){var a=this.props.cartItem,c=b("React").createElement(b("XUIGrayText.react"),{className:"_1q6w",display:"block",shade:"dark",size:"meta1"},a.title),d=b("React").createElement(b("XUIGrayText.react"),{className:"_3-9a",shade:"light",size:"meta1"},this.getFormattedPrice(a.getPrice())),e=b("React").createElement("div",null,b("React").createElement(b("Link.react"),{onClick:this.handleRemoveClick},this.getRemoveLabel()));return b("React").createElement(b("FBPaymentsItemSummaryView.react"),{className:"_1q6z",imageSrc:a.imageURL||"",imageHeight:this.PRODUCT_IMAGE_SIZE,imageWidth:this.PRODUCT_IMAGE_SIZE,rightContent:d},c,this.renderQuantity(),e)};a.propTypes={cartItem:c.object.isRequired,cartItemKey:c.number.isRequired,onEdit:c.func.isRequired,onRemove:c.func.isRequired};e.exports=a}),null);
__d("FBPaymentsCartBodyBase.react",["React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsCartBody.react",["cx","FBPaymentsCartBodyBase.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("FBPaymentsCartBodyBase.react"));h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_222z"},this.props.children)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsCartFooterBase.react",["React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsCartFooter.react",["cx","FBPaymentsCartFooterBase.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("FBPaymentsCartFooterBase.react"));h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_222q"},this.props.children)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsCartHeaderBase.react",["React"],(function(a,b,c,d,e,f){"use strict";var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;function a(){g.apply(this,arguments)}a.propTypes={title:c.node.isRequired};e.exports=a}),null);
__d("FBPaymentsCartHeader.react",["cx","FBPaymentsCartHeaderBase.react","React","XUIDialogTitle.react","XUIGrayText.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("FBPaymentsCartHeaderBase.react"));h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_1iw9"},b("React").createElement(b("XUIDialogTitle.react"),{className:"_222x"},b("React").createElement(b("XUIGrayText.react"),{className:"_222y",shade:"dark",size:"meta1"},this.props.title)),this.props.children)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("CommerceCartSummaryScreen.react",["cx","fbt","CommerceCartItemSummary.react","FBPaymentsCartBody.react","FBPaymentsCartFooter.react","FBPaymentsCartHeader.react","LeftRight.react","PECurrency","PECurrency.react","React","ScrollableArea.react","XUIButton.react","XUIGrayText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("PECurrency").DEFAULT_AMOUNT_OFFSET;c=b("React").PropTypes;var k=304;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.shouldShowSearchBar=function(){return!!this.props.productSearchContainer};a.prototype.getFormattedPrice=function(a){return b("React").createElement(b("PECurrency.react"),{code:a.currency,value:j*Number(a.amount)})};a.prototype.getSubtotalLabel=function(){return h._("Subtotal")};a.prototype.getScreenTitle=function(){return this.props.title};a.prototype.getDisabledButtonText=function(){return h._("No Products Selected")};a.prototype.getCompleteButtonText=function(){return this.props.completeButtonLabel||h._("Complete")};a.prototype.getButtonText=function(){return this.props.isCompleteButtonDisabled?this.getDisabledButtonText():this.getCompleteButtonText()};a.prototype.$1=function(){return!this.shouldShowSearchBar()?null:b("React").createElement("div",{className:"_179g"},this.props.productSearchContainer)};a.prototype.$2=function(){var a=this.props.cartItems.map(function(a,c){return b("React").createElement(b("CommerceCartItemSummary.react"),{cartItem:a,cartItemKey:c,key:c,onEdit:this.props.onEditCartItem,onRemove:this.props.onRemoveCartItem})}.bind(this));return b("React").createElement(b("ScrollableArea.react"),{fade:!0,height:k,shadow:!1},a)};a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement(b("FBPaymentsCartHeader.react"),{title:this.getScreenTitle()},this.$1()),b("React").createElement(b("FBPaymentsCartBody.react"),null,this.$2()),b("React").createElement(b("FBPaymentsCartFooter.react"),null,b("React").createElement(b("LeftRight.react"),{className:"_3-96"},b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"dark"},this.getSubtotalLabel()),b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"dark"},this.getFormattedPrice(this.props.subtotal))),b("React").createElement(b("XUIButton.react"),{className:"_6743",disabled:this.props.isCompleteButtonDisabled,label:this.getButtonText(),size:"large",onClick:this.props.onCompleteButtonClicked,use:"confirm"})))};function a(){i.apply(this,arguments)}a.propTypes={cartItems:c.oneOfType([c.arrayOf(c.shape({id:c.string.isRequired})),c.object.isRequired]),completeButtonLabel:c.node,isCompleteButtonDisabled:c.bool.isRequired,onCompleteButtonClicked:c.func,onEditCartItem:c.func.isRequired,onRemoveCartItem:c.func.isRequired,productSearchContainer:c.element,subtotal:c.object.isRequired,title:c.node.isRequired};e.exports=a}),null);
__d("FBPaymentsCartFlowViewBase.react",["React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=325;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.__shouldShowError=function(){return!!this.props.errorMessage};a.prototype.__shouldShowLoading=function(){return!!this.props.isLoading};a.prototype.__shouldShowProductConfiguration=function(){return!!this.props.productConfigurationContainer};a.prototype.__renderBodyContent=function(){if(this.__shouldShowError())return this.__renderError();else if(this.__shouldShowLoading())return this.__renderLoading();else if(this.__shouldShowProductConfiguration())return this.props.productConfigurationContainer;else return this.props.cartSummaryScreen};a.prototype.__renderLoading=function(){return b("abstractMethod")("FBPaymentsCartFlowViewBase","__renderLoading")};a.prototype.__renderError=function(){return b("abstractMethod")("FBPaymentsCartFlowViewBase","__renderError")};function a(){g.apply(this,arguments)}a.propTypes={cartSummaryScreen:c.element,dialogWidth:c.number.isRequired,errorMessage:c.node,isLoading:c.bool,onDialogClose:c.func.isRequired,productConfigurationContainer:c.element,shown:c.bool.isRequired};a.defaultProps={dialogWidth:d};e.exports=a}),null);
__d("FBPaymentsCartFlowView.react",["cx","FBPaymentsCartFlowViewBase.react","FBPaymentsLoadingView.react","LayerHideOnBlur","LayerHideOnEscape","React","XUIDialog.react","XUINotice.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("FBPaymentsCartFlowViewBase.react"));h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$FBPaymentsCartFlowView1=function(a){a||this.props.onDialogClose()}.bind(this),b}a.prototype.__renderLoading=function(){return b("React").createElement(b("FBPaymentsLoadingView.react"),{overlay:!0,isVisible:!0})};a.prototype.__renderError=function(){return b("React").createElement(b("XUINotice.react"),{size:"medium",use:"warn"},this.props.errorMessage)};a.prototype.render=function(){var a="_xfh"+(this.__shouldShowError()?" _2ph_":"")+(this.props.shown?"":" hidden_elem"),c={LayerHideOnEscape:b("LayerHideOnEscape")},d=this.__shouldShowError();d&&(c=babelHelpers["extends"]({},c,{LayerHideOnBlur:b("LayerHideOnBlur")}));return b("React").createElement(b("XUIDialog.react"),{behaviors:c,layerHideOnBlur:!1,onToggle:this.$FBPaymentsCartFlowView1,shown:!0,width:this.props.dialogWidth},b("React").createElement("div",{className:a},this.__renderBodyContent()))};e.exports=a}),null);
__d("FBPaymentsCartProductSearchContainerBase.react",["React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsCartProductSearchContainerBase","__getView")};a.prototype.render=function(){var a=this.__getView();return b("React").createElement(a,this.props)};function a(){g.apply(this,arguments)}a.propTypes={canCreateCustomItem:c.bool.isRequired,multiSelect:c.bool,onCartItemSelected:c.func.isRequired,onCreateCustomItem:c.func,sellerID:c.string.isRequired,showListOnLaunch:c.bool};e.exports=a}),null);
__d("CommerceAddProductScrollRow.react",["cx","fbt","React","XUIText.react","curry"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=this.props.queryString&&this.props.queryString.length>0?this.props.queryString:"",c=a.length>0?h._("Add Product {productName}",[h._param("productName",'"'+a+'"')]):h._("Add Product");return b("React").createElement("div",{className:"_2jjq",onClick:b("curry")(this.props.onClick,a),role:"presentation"},b("React").createElement("table",null,b("React").createElement("tbody",null,b("React").createElement("tr",null,b("React").createElement("td",null,b("React").createElement("div",{className:"_buh"})),b("React").createElement("td",null,b("React").createElement(b("XUIText.react"),{className:"_buj",size:"meta1"},c))))))};function a(){i.apply(this,arguments)}a.propTypes={queryString:c.string};a.propTypes={onClick:c.func.isRequired};e.exports=a}),null);
__d("CommerceProductItemSearch",["ActorURI","AsyncRequest","XPagesManagerProductSearchController","bind","debounce"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=300,h=30;function a(a,c,d,e){this.searchOrMore=b("debounce")(this.$8,d||g,this),this.$2=c||[],this.$3=new Set(),this.$5=[],this.$7=e||h,this.$1=b("ActorURI").create(b("XPagesManagerProductSearchController").getURIBuilder().getURI(),a)}a.prototype.$8=function(a,c){this.$6&&this.$6.abort();var d=a!==this.$4;d&&(this.$3.clear(),this.$5=[],this.$4=a);var e=this.$2.concat(Array.from(this.$3));this.$6=new(b("AsyncRequest"))().setData({query:a.trim(),offset:0,limit:this.$7,filter_product_group_ids:e}).setHandler(b("bind")(this,this.$9,c,d)).setURI(this.$1);this.$6.send()};a.prototype.$9=function(a,b,c){c=c.payload.products;c.map(function(a){this.$3.add(a.product_group_id)}.bind(this));this.$5=this.$5.concat(c);this.$6=null;a(this.$5,c.length!==0||b)};e.exports=a}),null);
__d("CommerceProductItemSearchSelector.react",["ix","cx","fbt","invariant","CommerceAddProductScrollRow.react","CommerceProductItemSearch","Image.react","InfiniteScrollArea.react","LayerFadeOnHide","Link.react","ProfileImageBlockEntry.react","React","ReactDOM","XUIContextualDialog.react","XUISpinner.react","XUITextInput.react","curry","fbglyph"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);k=d&&d.prototype;function a(a,c){__p&&__p();k.constructor.call(this,a,c),this.$4=function(a){this.setState({isProductListVisible:a})}.bind(this),this.$12=function(a,c){c=a.description===""?a.price:a.price+" - "+a.description;return b("React").createElement("div",{className:"_2jjq",key:a.id,onClick:b("curry")(this.$13,[a]),role:"presentation"},b("React").createElement(b("ProfileImageBlockEntry.react"),{imgSrc:a.image_url,title:a.name,subtitle:c}))}.bind(this),this.$13=function(a){this.props.multiSelect||this.$8(),this.props.onProductSelected(a)}.bind(this),this.$10=function(event){this.setState({query:event.target.value}),this.$2(event.target.value)}.bind(this),this.$11=function(){this.state.hasNewData&&!this.state.loading&&this.$2(this.state.query)}.bind(this),this.$14=function(a,b){if(this.isUnmounted)return;var c={loading:!1,hasNewData:b};b&&(c.products=a);this.setState(c)}.bind(this),this.$8=function(){this.setState({isProductListVisible:!1})}.bind(this),this.$9=function(){this.props.showAsDropdownMenu&&this.state.productListDialogWidth===0&&this.$3(),this.setState({isProductListVisible:!0})}.bind(this),this.$1=new(b("CommerceProductItemSearch"))(a.pageID),this.state={hasNewData:!0,isProductListVisible:a.showListOnLaunch,loading:!1,products:[],productListDialogWidth:0,query:""}}a.prototype.componentDidMount=function(){this.$2(this.state.query)};a.prototype.componentDidUpdate=function(){this.state.productListDialogWidth===0&&this.$3()};a.prototype.componentWillUnmount=function(){this.isUnmounted=!0};a.prototype.$3=function(){var a=b("ReactDOM").findDOMNode(this.refs.searchBox).offsetWidth;this.props.multiSelect&&(a*=.75);this.setState({productListDialogWidth:a})};a.prototype.render=function(){return b("React").createElement("div",{className:this.props.className},this.$5(),this.$6())};a.prototype.$7=function(){if(this.state.loading)return b("React").createElement(b("XUISpinner.react"),{size:"small"});if(!this.props.showAsDropdownMenu)return b("React").createElement(b("Image.react"),{src:g("142454")});var a=this.state.isProductListVisible?g("142938"):g("142926");a=b("React").createElement(b("Image.react"),{src:a});var c=this.state.isProductListVisible?this.$8:this.$9;return b("React").createElement(b("Link.react"),{onClick:c},a)};a.prototype.$5=function(){return b("React").createElement("div",{className:"_22f5",ref:"searchBox"},b("React").createElement(b("XUITextInput.react"),{"aria-label":i._("Search to add products"),className:"_22f6",onChange:this.$10,onClick:this.$9,placeholder:i._("Search to add products"),ref:"input",role:"searchbox",value:this.state.query}),b("React").createElement("div",{className:"_22f7"},this.$7()))};a.prototype.$6=function(){var a=null;this.props.canCreateProduct&&(this.props.onAddProductClick||j(0),a=b("React").createElement(b("CommerceAddProductScrollRow.react"),{onClick:this.props.onAddProductClick,queryString:this.props.canAddProductFromSearch?this.state.query.trim():null}));a=b("React").createElement(b("InfiniteScrollArea.react"),{distanceToEnd:1,onEndReached:this.$11,height:this.props.productScrollAreaHeight},a,this.state.products.map(this.$12,this));return!this.props.showAsDropdownMenu?b("React").createElement("div",{className:"_2jjp"},a):b("React").createElement(b("XUIContextualDialog.react"),{alignment:"right",autoFocus:!1,behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},contextRef:function(){return this.refs.searchBox}.bind(this),onToggle:this.$4,hideOnBlur:!0,hideOnEscape:!0,offsetY:-5,position:"below",shown:this.state.isProductListVisible,width:this.state.productListDialogWidth},a)};a.prototype.$2=function(a){this.$1.searchOrMore(a,this.$14),this.setState({loading:!0})};a.defaultProps={canAddProductFromSearch:!1,canCreateProduct:!1,multiSelect:!1,productScrollAreaHeight:300,showAsDropdownMenu:!1,showListOnLaunch:!1};a.propTypes={canAddProductFromSearch:c.bool,canCreateProduct:c.bool,multiSelect:c.bool,onAddProductClick:c.func,onProductSelected:c.func.isRequired,pageID:c.string.isRequired,productScrollAreaHeight:c.number,showAsDropdownMenu:c.bool,showListOnLaunch:c.bool};e.exports=a}),null);
__d("FBPaymentsCartProductSearchViewBase.react",["React"],(function(a,b,c,d,e,f){"use strict";var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;function a(){g.apply(this,arguments)}a.propTypes={canCreateCustomItem:c.bool.isRequired,multiSelect:c.bool,onCartItemSelected:c.func.isRequired,onCreateCustomItem:c.func,sellerID:c.string.isRequired,showListOnLaunch:c.bool};e.exports=a}),null);
__d("FBPaymentsCartProductSearchView.react",["CommerceProductItemSearchSelector.react","FBPaymentsCartItem","FBPaymentsCartProductSearchViewBase.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FBPaymentsCartProductSearchViewBase.react"));g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$FBPaymentsCartProductSearchView1=function(a){a=a[0];var c=a.current_price,d=a.description,e=a.id,f=a.image_url,g=a.inventory;a=a.name;e=new(b("FBPaymentsCartItem"))({id:e,imageURL:f,isSelectable:!0,quantity:1,quantityLimit:g,subtitle:d,title:a,unitPrice:{amount:c.raw_label,currency:c.currency}});this.props.onCartItemSelected(e)}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("CommerceProductItemSearchSelector.react"),{canCreateProduct:this.props.canCreateCustomItem,onAddProductClick:this.props.onCreateCustomItem,onProductSelected:this.$FBPaymentsCartProductSearchView1,pageID:this.props.sellerID,productScrollAreaHeight:250,showAsDropdownMenu:!0,showListOnLaunch:this.props.showListOnLaunch,multiSelect:this.props.multiSelect})};e.exports=a}),null);
__d("FBPaymentsCartProductSearchContainer.react",["FBPaymentsCartProductSearchContainerBase.react","FBPaymentsCartProductSearchView.react"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("FBPaymentsCartProductSearchContainerBase.react"));g&&g.prototype;a.prototype.__getView=function(){return b("FBPaymentsCartProductSearchView.react")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("CommerceInvoiceCartContainer.react",["CommerceCartSummaryScreen.react","FBPaymentsCartFlowView.react","FBPaymentsCartProductSearchContainer.react","FBPaymentsPriceListHelper","immutable","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={errorMessage:null,itemsInCart:b("immutable").List()},this.$2=function(){this.props.onClose()}.bind(this),this.$4=function(a,b){var c=this.state.itemsInCart;if(a>=0&&a<c.size){a=c.get(a);a.quantity=b}this.setState({itemsInCart:c})}.bind(this),this.$5=function(a){var b=this.state.itemsInCart,c=a.id?b.findIndex(function(b){return b.id===a.id}):-1;if(c>=0){c=b.get(c);c.quantity+=a.quantity}else b=b.set(this.$1(),a);this.setState({itemsInCart:b})}.bind(this),this.$6=function(a){a=this.state.itemsInCart["delete"](a);this.setState({itemsInCart:a})}.bind(this),this.$7=function(){this.props.onComplete(this.state.itemsInCart)}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){};a.prototype.$1=function(){return this.state.itemsInCart.size};a.prototype.__isCartEmpty=function(){return this.state.itemsInCart.size===0};a.prototype.$3=function(){};a.prototype.$8=function(){var a=this.state.itemsInCart,c={currency:this.props.defaultCurrency,amount:"0"};a.forEach(function(a){c=b("FBPaymentsPriceListHelper").addPrices(c,a.getPrice())});return c};a.prototype.render=function(){var a,c=b("React").createElement(b("FBPaymentsCartProductSearchContainer.react"),{canCreateCustomItem:!1,multiSelect:!0,onCartItemSelected:this.$5,onCreateCustomItem:this.$3,sellerID:this.props.sellerID,showListOnLaunch:this.state.itemsInCart.size===0});c=b("React").createElement(b("CommerceCartSummaryScreen.react"),{cartItems:this.state.itemsInCart,completeButtonLabel:this.props.completeButtonLabel,isCompleteButtonDisabled:this.state.itemsInCart.size===0,onCompleteButtonClicked:this.$7,onEditCartItem:this.$4,onRemoveCartItem:this.$6,productSearchContainer:c,subtotal:this.$8(),title:this.props.titleScreenLabel||"Tag Products"});c={cartSummaryScreen:c,errorMessage:this.state.errorMessage,isLoading:!1,onDialogClose:this.$2,productConfigurationContainer:a,shown:this.props.shown};return b("React").createElement(b("FBPaymentsCartFlowView.react"),babelHelpers["extends"]({},c,{dialogWidth:400}))};a.propTypes={completeButtonLabel:c.node,onClose:c.func.isRequired,onComplete:c.func.isRequired,sellerID:c.string.isRequired,shown:c.bool.isRequired,defaultCurrency:c.string};a.defaultProps={onClose:b("emptyFunction"),onComplete:b("emptyFunction"),shown:!0,defaultCurrency:"USD"};e.exports=a}),null);
__d("FBPaymentsCartFlowContainerBase.react",["FBPaymentsCartItem","FBPaymentsPriceListHelper","immutable","React","abstractMethod","emptyFunction","keyMirror","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;var h=b("keyMirror")({CART_SUMMARY:null,CONFIGURE_ITEM_OPTIONS:null});d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(a){__p&&__p();g.constructor.call(this,a),this.$1=function(a){this.setState({config:a})}.bind(this),this.$2=function(a){this.setState({errorMessage:a.message})}.bind(this),this.$5=function(){this.props.onClose()}.bind(this),this.$6=function(a){this.setState({configuringCartItem:a,configuringCartItemKey:null,step:h.CONFIGURE_ITEM_OPTIONS})}.bind(this),this.$7=function(a){var c=null;a!=undefined&&a.length>0&&(c=new(b("FBPaymentsCartItem"))({title:a,quantity:1}));this.setState({configuringCartItem:c,configuringCartItemKey:null,step:h.CONFIGURE_ITEM_OPTIONS})}.bind(this),this.$8=function(a){__p&&__p();var b=this.state.configuringCartItemKey,c=this.state.itemsInCart;if(b===null||b===undefined){var d;d=((d=this.state)!=null?(d=d.config)!=null?(d=d.extraData)!=null?d.short_flow:d:d:d)==="1";var e=a.id?c.findIndex(function(b){return b.id===a.id}):-1;if(d&&e>=0){d=c.get(e);d.quantity+=a.quantity}else b=this.$4(),c=c.set(b,a)}else c=c.set(b,a);this.setState({configuringCartItem:null,configuringCartItemKey:null,itemsInCart:c,step:h.CART_SUMMARY})}.bind(this),this.$9=function(a){var b=this.state.itemsInCart.get(a);this.setState({configuringCartItem:b,configuringCartItemKey:a,step:h.CONFIGURE_ITEM_OPTIONS})}.bind(this),this.$10=function(a){a=this.state.itemsInCart["delete"](a);this.setState({itemsInCart:a})}.bind(this),this.$11=function(){this.props.onContinue&&this.props.onContinue(this.state.itemsInCart)}.bind(this),this.state={config:null,configuringCartItem:null,configuringCartItemKey:null,errorMessage:null,itemsInCart:b("immutable").List(),step:h.CART_SUMMARY}}a.prototype.UNSAFE_componentWillMount=function(){b("promiseDone")(this.props.configLoader(),this.$1,this.$2)};a.prototype.$3=function(){return this.state.config&&this.state.config.itemCurrency||"USD"};a.prototype.$4=function(){return this.state.itemsInCart.size};a.prototype.__isCartFull=function(){var a=this.state.config&&this.state.config.maxCartItems;return a===null||a===undefined||a<0?!1:this.state.itemsInCart.size>=a};a.prototype.__isCartEmpty=function(){return this.state.itemsInCart.size===0};a.prototype.$12=function(){var a=this.state.itemsInCart,c={currency:this.$3(),amount:"0"};a.forEach(function(a){c=b("FBPaymentsPriceListHelper").addPrices(c,a.getPrice())});return c};a.prototype.render=function(){__p&&__p();var a,c,d=this.state.config,e=0;if(d)if(this.state.step===h.CART_SUMMARY){var f,g=this.__getProductSearchContainer();f=((f=d)!=null?(f=f.extraData)!=null?f.short_flow:f:f)==="1";var i=f?this.$8:this.$6,j=f&&this.__isCartEmpty();f&&(e=400);g=this.__isCartFull()?undefined:b("React").createElement(g,{canCreateCustomItem:!!d.customItemsConfig,multiSelect:f,onCartItemSelected:i,onCreateCustomItem:this.$7,sellerID:this.props.sellerID,showListOnLaunch:j});f=this.__getCartSummaryScreen();c=b("React").createElement(f,{cartItems:this.state.itemsInCart,continueButtonLabel:this.props.continueButtonLabel,isContinueButtonDisabled:this.state.itemsInCart.size===0,onContinueButtonClicked:this.$11,onEditCartItem:this.$9,onRemoveCartItem:this.$10,productSearchContainer:g,subtotal:this.$12(),title:d.title})}else if(this.state.step===h.CONFIGURE_ITEM_OPTIONS){var k;i=this.__getCartProductConfigurationContainer();j=!this.state.configuringCartItem;g=((f=d)!=null?(f=f.catalogItemsConfig)!=null?f.customizePrice:f:f)&&!j;f=(f=d)!=null?(f=f.customItemsConfig)!=null?f.itemFields:f:f;k=(k=d)!=null?(k=k.customItemsConfig)!=null?k.quantityLimit:k:k;a=b("React").createElement(i,{cartItem:this.state.configuringCartItem,cartItemKey:this.state.configuringCartItemKey,customItemFields:f,customItemMaxQuantity:k,isCustomItem:j,isPriceEditable:g,onAddItemToCart:this.$8})}i={cartSummaryScreen:c,errorMessage:this.state.errorMessage,isLoading:!d,onDialogClose:this.$5,productConfigurationContainer:a,shown:this.props.shown};f=this.__getCartFlowView();if(e>0)return b("React").createElement(f,babelHelpers["extends"]({},i,{dialogWidth:e}));else return b("React").createElement(f,i)};a.prototype.__getCartFlowView=function(){return b("abstractMethod")("FBPaymentsCartFlowContainerBase","__getCartFlowView")};a.prototype.__getCartSummaryScreen=function(){return b("abstractMethod")("FBPaymentsCartFlowContainerBase","__getCartSummaryScreen")};a.prototype.__getCartProductConfigurationContainer=function(){return b("abstractMethod")("FBPaymentsCartFlowContainerBase","__getCartProductConfigurationContainer")};a.prototype.__getProductSearchContainer=function(){return b("abstractMethod")("FBPaymentsCartFlowContainerBase","__getProductSearchContainer")};a.propTypes={configLoader:c.func.isRequired,continueButtonLabel:c.node,onClose:c.func.isRequired,onContinue:c.func,sellerID:c.string.isRequired,shown:c.bool.isRequired};a.defaultProps={onClose:b("emptyFunction"),shown:!0};e.exports=a}),null);
__d("FBPaymentsCartProductConfigurationContainerBase.react",["invariant","FBPaymentsCartItem","React","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){__p&&__p();h.constructor.call(this,a);this.$2=function(){__p&&__p();var a=babelHelpers["extends"]({},this.props.cartItem,{quantity:this.state.quantity});if(this.props.isCustomItem){a.quantityLimit=this.props.customItemMaxQuantity;var c=this.state.customItemFormData;c=Object.entries(c);for(var d=0;d<c.length;d++){var e=c[d],f=e[0];e=e[1];var g=this.props.customItemFields.get(f);g.type==="currency"?a.unitPrice={currency:g.currency,amount:e}:a[f]=e}}else this.state.priceAmount&&(a.unitPrice={currency:this.props.cartItem.unitPrice.currency,amount:this.state.priceAmount});g=new(b("FBPaymentsCartItem"))(a);this.props.onAddItemToCart(g)}.bind(this);this.$3=function(a,b){if(!this.props.isCustomItem)return;this.setState({customItemFormData:a,isAddButtonEnabled:b})}.bind(this);this.$4=function(a,b){if(!this.props.isPriceEditable)return;this.setState({priceAmount:a.price,isAddButtonEnabled:b})}.bind(this);this.$5=function(a){this.setState({quantity:a})}.bind(this);this.assertValidProps(a);a=a.cartItem?a.cartItem.quantity:1;this.state={customItemFormData:{},isAddButtonEnabled:!0,priceAmount:"",quantity:a}}a.prototype.assertValidProps=function(a){a.isCustomItem&&a.isPriceEditable&&g(0),a.isCustomItem?!a.customItemFields&&g(0):a.cartItem||g(0)};a.prototype.$1=function(){var a=this.props.cartItem,b;this.props.isCustomItem?b=this.props.customItemMaxQuantity:a&&(b=a.quantityLimit);return b};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsCartProductConfigurationContainerBase","__getView")};a.prototype.render=function(){var a=this.__getView();return b("React").createElement(a,babelHelpers["extends"]({},this.state,{cartItem:this.props.cartItem,customItemFields:this.props.customItemFields,isCustomItem:this.props.isCustomItem,isEditExistingItem:this.props.cartItemKey!==null,isPriceEditable:this.props.isPriceEditable,maxQuantity:this.$1(),onAddItemToCart:this.$2,onCustomItemFormChange:this.$3,onPriceChange:this.$4,onQuantityChange:this.$5}))};a.propTypes={cartItemKey:c.number,cartItem:c.object,customItemFields:c.object,customItemMaxQuantity:c.number,isCustomItem:c.bool.isRequired,isPriceEditable:c.bool.isRequired,onAddItemToCart:c.func.isRequired};e.exports=a}),null);
__d("FBPaymentsCartProductConfigurationViewBase.react",["fbt","PECurrency","PECurrency.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PECurrency").DEFAULT_AMOUNT_OFFSET;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getFormattedItemPrice=function(a){return b("React").createElement(b("PECurrency.react"),{code:a.currency,value:i*Number(a.amount)})};a.prototype.getHeaderTitle=function(){return this.props.isCustomItem?g._("Add New Product"):g._("Edit Product")};a.prototype.getAddButtonLabel=function(){if(this.props.isEditExistingItem)return g._("Update");else return g._("Add")};a.prototype.getQuantityLabel=function(){return g._("Quantity")};a.prototype.shouldRenderPriceField=function(){return!this.props.isCustomItem&&this.props.isPriceEditable};a.prototype.shouldRenderCustomItemForm=function(){return this.props.isCustomItem&&!!this.props.customItemFields};function a(){h.apply(this,arguments)}a.propTypes={cartItem:c.object,customItemFields:c.object,isAddButtonEnabled:c.bool.isRequired,isCustomItem:c.bool,isEditExistingItem:c.bool,isPriceEditable:c.bool.isRequired,maxQuantity:c.number,onAddItemToCart:c.func.isRequired,onCustomItemFormChange:c.func.isRequired,onPriceChange:c.func,onQuantityChange:c.func.isRequired,quantity:c.number.isRequired};a.defaultProps={isAddButtonEnabled:!0,isEditExistingItem:!1,isPriceEditable:!1};e.exports=a}),null);
__d("FBPaymentsCartProductConfigurationView.react",["cx","fbt","AdsIncrementalNumberInput.react","FBPaymentsCartBody.react","FBPaymentsCartFooter.react","FBPaymentsCartHeader.react","FBPaymentsCartProductConfigurationViewBase.react","FBPaymentsCustomForm.react","FBPaymentsForm.react","FBPaymentsItemSummaryView.react","FBPaymentsPriceFormField.react","React","XUIButton.react","XUIGrayText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=1,k=48;i=babelHelpers.inherits(a,b("FBPaymentsCartProductConfigurationViewBase.react"));i&&i.prototype;a.prototype.renderProductHeader=function(){var a=this.props.cartItem;if(this.props.isCustomItem||!a)return null;var c;this.props.isPriceEditable||(c=b("React").createElement("div",{className:"_1i26 _3-9b"},b("React").createElement(b("XUIGrayText.react"),{shade:"dark",size:"meta1"},this.getFormattedItemPrice(a.unitPrice))));var d=b("React").createElement(b("XUIGrayText.react"),{className:"_222y",display:"block",shade:"dark",size:"meta1"},a.title),e=b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"dark",size:"meta1"},a.subtitle);return b("React").createElement("div",{className:"_36ny"},b("React").createElement(b("FBPaymentsItemSummaryView.react"),{imageSrc:a.imageURL||"",imageHeight:k,imageWidth:k,rightContent:c},d,e))};a.prototype.renderCustomItemForm=function(){if(!this.shouldRenderCustomItemForm()||!this.props.customItemFields)return null;var a=h._("Please enter a title for the item.");return b("React").createElement(b("FBPaymentsCustomForm.react"),{fields:Array.from(this.props.customItemFields.values()),onChange:this.props.onCustomItemFormChange,customNonEmptyErrorMessage:a})};a.prototype.renderPriceField=function(){var a;if(!this.shouldRenderPriceField())return null;a=(a=this.props.cartItem)!=null?(a=a.unitPrice)!=null?a.amount:a:a;return b("React").createElement(b("FBPaymentsForm.react"),{onChange:this.props.onPriceChange},b("React").createElement(b("FBPaymentsPriceFormField.react"),{className:"_3-96",name:"price",value:a}))};a.prototype.renderQuantitySelector=function(){var a=b("React").createElement(b("XUIGrayText.react"),{className:"_3-94 _4px8",display:"block",shade:"dark",size:"meta1"},this.getQuantityLabel());return b("React").createElement("div",null,a,b("React").createElement(b("AdsIncrementalNumberInput.react"),{arrowStyle:"dark",max:this.props.maxQuantity||undefined,min:j,onChange:this.props.onQuantityChange,showDisabled:!0,value:this.props.quantity}))};a.prototype.renderProductConfigurations=function(){return b("React").createElement("div",null,this.renderPriceField(),this.renderCustomItemForm(),this.renderQuantitySelector())};a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement(b("FBPaymentsCartHeader.react"),{title:this.getHeaderTitle()}),b("React").createElement(b("FBPaymentsCartBody.react"),null,this.renderProductHeader(),b("React").createElement("div",{className:"_2ph_"},this.renderProductConfigurations())),b("React").createElement(b("FBPaymentsCartFooter.react"),null,b("React").createElement(b("XUIButton.react"),{className:"_222r",disabled:!this.props.isAddButtonEnabled,label:this.getAddButtonLabel(),size:"large",onClick:this.props.onAddItemToCart,use:"confirm"})))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsCartProductConfigurationContainer.react",["FBPaymentsCartProductConfigurationContainerBase.react","FBPaymentsCartProductConfigurationView.react"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("FBPaymentsCartProductConfigurationContainerBase.react"));g&&g.prototype;a.prototype.__getView=function(){return b("FBPaymentsCartProductConfigurationView.react")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsCartItemSummaryBase.react",["fbt","PECurrency","PECurrency.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PECurrency").DEFAULT_AMOUNT_OFFSET;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.PRODUCT_IMAGE_SIZE=48,this.handleEditClick=function(){this.props.onEdit(this.props.cartItemKey)}.bind(this),this.handleRemoveClick=function(){this.props.onRemove(this.props.cartItemKey)}.bind(this),b}a.prototype.getFormattedPrice=function(a){return b("React").createElement(b("PECurrency.react"),{code:a.currency,value:i*Number(a.amount)})};a.prototype.getQuantityDescription=function(){var a=this.props.cartItem;return a.quantity>1?g._("Quantity: {quantity} ({unit_price} ea)",[g._param("quantity",a.quantity),g._param("unit_price",this.getFormattedPrice(a.unitPrice))]):g._("Quantity: {quantity}",[g._param("quantity",a.quantity)])};a.prototype.getEditLabel=function(){return g._("Edit")};a.prototype.getRemoveLabel=function(){return g._("Remove")};a.propTypes={cartItem:c.object.isRequired,cartItemKey:c.number.isRequired,onEdit:c.func.isRequired,onRemove:c.func.isRequired};e.exports=a}),null);
__d("FBPaymentsCartItemSummary.react",["cx","FBPaymentsCartItemSummaryBase.react","FBPaymentsItemSummaryView.react","Link.react","React","XUIGrayText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("FBPaymentsCartItemSummaryBase.react"));h&&h.prototype;a.prototype.render=function(){var a=this.props.cartItem,c=b("React").createElement(b("XUIGrayText.react"),{className:"_486y",display:"block",shade:"dark",size:"meta1"},a.title),d=b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"dark",size:"meta1"},this.getQuantityDescription()),e=b("React").createElement(b("XUIGrayText.react"),{className:"_3-9a",shade:"light",size:"meta1"},this.getFormattedPrice(a.getPrice())),f=b("React").createElement("div",{className:"_3-8w"},b("React").createElement(b("Link.react"),{className:"_3-90",onClick:this.handleEditClick},this.getEditLabel()),b("React").createElement(b("Link.react"),{onClick:this.handleRemoveClick},this.getRemoveLabel()));return b("React").createElement(b("FBPaymentsItemSummaryView.react"),{className:"_36ny",imageSrc:a.imageURL||"",imageHeight:this.PRODUCT_IMAGE_SIZE,imageWidth:this.PRODUCT_IMAGE_SIZE,rightContent:e},c,d,f)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsCartSummaryScreenBase.react",["fbt","PECurrency","PECurrency.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PECurrency").DEFAULT_AMOUNT_OFFSET;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.shouldShowSearchBar=function(){return!!this.props.productSearchContainer};a.prototype.getFormattedPrice=function(a){return b("React").createElement(b("PECurrency.react"),{code:a.currency,value:i*Number(a.amount)})};a.prototype.getSubtotalLabel=function(){return g._("Subtotal")};a.prototype.getScreenTitle=function(){return this.props.title};a.prototype.getDisabledButtonText=function(){return g._("No Products Selected")};a.prototype.getContinueButtonText=function(){return this.props.continueButtonLabel||g._("Continue")};a.prototype.getButtonText=function(){return this.props.isContinueButtonDisabled?this.getDisabledButtonText():this.getContinueButtonText()};function a(){h.apply(this,arguments)}a.propTypes={cartItems:c.oneOfType([c.arrayOf(c.shape({id:c.string.isRequired})),c.object.isRequired]),continueButtonLabel:c.node,isContinueButtonDisabled:c.bool.isRequired,onContinueButtonClicked:c.func,onEditCartItem:c.func.isRequired,onRemoveCartItem:c.func.isRequired,productSearchContainer:c.element,subtotal:c.object.isRequired,title:c.node.isRequired};e.exports=a}),null);
__d("FBPaymentsCartSummaryScreen.react",["cx","FBPaymentsCartBody.react","FBPaymentsCartFooter.react","FBPaymentsCartHeader.react","FBPaymentsCartItemSummary.react","FBPaymentsCartSummaryScreenBase.react","LeftRight.react","React","ScrollableArea.react","XUIButton.react","XUIGrayText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=304;h=babelHelpers.inherits(a,b("FBPaymentsCartSummaryScreenBase.react"));h&&h.prototype;a.prototype.$FBPaymentsCartSummaryScreen1=function(){return!this.shouldShowSearchBar()?null:b("React").createElement("div",{className:"_222p"},this.props.productSearchContainer)};a.prototype.$FBPaymentsCartSummaryScreen2=function(){var a=this.props.cartItems.map(function(a,c){return b("React").createElement(b("FBPaymentsCartItemSummary.react"),{cartItem:a,cartItemKey:c,key:c,onEdit:this.props.onEditCartItem,onRemove:this.props.onRemoveCartItem})}.bind(this));return b("React").createElement(b("ScrollableArea.react"),{fade:!0,height:i,shadow:!1},a)};a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement(b("FBPaymentsCartHeader.react"),{title:this.getScreenTitle()},this.$FBPaymentsCartSummaryScreen1()),b("React").createElement(b("FBPaymentsCartBody.react"),null,this.$FBPaymentsCartSummaryScreen2()),b("React").createElement(b("FBPaymentsCartFooter.react"),null,b("React").createElement(b("LeftRight.react"),{className:"_3-96"},b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"dark"},this.getSubtotalLabel()),b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"dark"},this.getFormattedPrice(this.props.subtotal))),b("React").createElement(b("XUIButton.react"),{className:"_222r",disabled:this.props.isContinueButtonDisabled,label:this.getButtonText(),size:"large",onClick:this.props.onContinueButtonClicked,use:"confirm"})))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsCartFlowContainer.react",["FBPaymentsCartFlowContainerBase.react","FBPaymentsCartFlowView.react","FBPaymentsCartProductConfigurationContainer.react","FBPaymentsCartProductSearchContainer.react","FBPaymentsCartSummaryScreen.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(a,b("FBPaymentsCartFlowContainerBase.react"));h=g&&g.prototype;a.prototype.__getCartFlowView=function(){return b("FBPaymentsCartFlowView.react")};a.prototype.__getCartSummaryScreen=function(){return b("FBPaymentsCartSummaryScreen.react")};a.prototype.__getCartProductConfigurationContainer=function(){return b("FBPaymentsCartProductConfigurationContainer.react")};a.prototype.__getProductSearchContainer=function(){return b("FBPaymentsCartProductSearchContainer.react")};a.prototype.render=function(){return h.render.call(this)};function a(){g.apply(this,arguments)}a.propTypes=babelHelpers["extends"]({},b("FBPaymentsCartFlowContainerBase.react").propTypes);e.exports=a}),null);
__d("PaymentItemTypeFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"none",ADS_INVOICE:"ads_invoice",DONATIONS:"donations",DONATIONS_MATCHING_CONFIRMATION:"donations_matching_confirmation",DONATIONS_MATCHING_PLEDGE:"donations_matching_pledge",FACEBOOK_SHOP:"facebook_shop",FAN_FUNDING:"fan_funding",GAME_TIPPING_TOKEN:"game_tipping_token",INSTANT_GAMES:"instant_games",OCULUS_CV1:"oculus_cv1",OCULUS_LAUNCH_V1:"oculus_launch_v1",OCULUS_LAUNCH_V2:"oculus_launch_v2",OZONE:"ozone",OPEN_GRAPH_PRODUCT:"open_graph_product",MESSENGER_COMMERCE:"messenger_commerce",P2P_TRANSFER:"p2p_transfer",DUMMY_FIRST_PARTY:"dummy_first_party",DUMMY_THIRD_PARTY:"dummy_third_party",GIFTS:"gifts",BILL:"bill",AIRMAIL:"airmail",EVENT_TICKETING:"event_ticketing",PAYMENT_LITE:"payment_lite",MESSENGER_API_FEE:"messenger_api_fee",WORKPLACE:"workplace",NMOR_PAGES_COMMERCE:"nmor_pages_commerce",STORED_BALANCE:"stored_balance",THIRD_PARTY_BUNDLE:"third_party_bundle"})}),null);
__d("FBPaymentsInvoiceFlowContainerBase.react",["fbt","invariant","Promise","FBPaymentsCartItem","FBPaymentsCheckoutConstants","FBPaymentsModulesFlowType","FBPaymentsPriceListHelper","PaymentItemTypeFields","React","abstractMethod","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=b("FBPaymentsCheckoutConstants").Extensions,k=b("FBPaymentsCheckoutConstants").OrderStatusModelType,l=b("FBPaymentsCheckoutConstants").PaymentAction,m=b("FBPaymentsCheckoutConstants").PaymentCallbackUpdateState,n=b("keyMirror")({CREATE_CART:null,CREATE_INVOICE:null});d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a){__p&&__p();i.constructor.call(this,a),this.cartConfigLoader=function(){return new(b("Promise"))(function(a,b){this.__getAPI().fetchInvoiceConfig({buyer_id:this.props.buyerID,seller_id:this.props.sellerID,client:this.props.client},function(b){this.setState({invoiceConfig:b}),a(b.invoiceCreationConfig)}.bind(this),b)}.bind(this))}.bind(this),this.$2=function(a){this.setState({buyerProfile:a})}.bind(this),this.$1=function(a){this.setState({invoiceConfig:a,invoiceItems:[],isLoading:!1})}.bind(this),this.$3=function(a){this.setState({step:n.CREATE_INVOICE,invoiceItems:a.toArray()})}.bind(this),this.$4=function(){this.setState({step:n.CREATE_CART})}.bind(this),this.$5=function(){var a=!1,b=new Map();this.props.onClose&&this.props.onClose(a,b)}.bind(this),this.$6=function(a,c,d){__p&&__p();d=[];if(!this.props.invoiceID){var e=this.state.invoiceItems||[];d=e.map(b("FBPaymentsCartItem").serializeForServer)}e=((e=a.get(j.CUSTOM_OPTIONS))!=null?e.extraData:e)||{};var f=e.optionId;e=e.customOption;var g,h=[];e?h.push({title:e.optionTitle,currency_amount:e.optionPrice}):f&&(g=[f]);f=((e=a.get(j.NOTE))!=null?e.extraData:e)||{};a=f.note;this.__getAPI().createInvoice({actor_id:this.props.sellerID,client:this.props.client,seller_id:this.props.sellerID,buyer_id:this.props.buyerID,invoice_id:this.props.invoiceID,items:d,notes:a,selected_options:{shipping_options:g},custom_shipping_options:h},this.$7.bind(this,c),this.$8.bind(this,c))}.bind(this),this.state={buyerProfile:null,invoiceConfig:null,invoiceItems:null,step:this.props.invoiceID?n.CREATE_INVOICE:n.CREATE_CART,isLoading:!0}}a.prototype.UNSAFE_componentWillMount=function(){this.props.invoiceID&&this.__getAPI().fetchInvoiceConfig({buyer_id:this.props.buyerID,seller_id:this.props.sellerID,product_id:this.props.invoiceID,client:this.props.client},this.$1),this.__getAPI().fetchUserBasicProfile({id:this.props.buyerID},this.$2)};a.prototype.$7=function(a,b){a({state:m.DONE});a=!0;var c=new Map();c.set("invoice",{invoiceID:b});this.props.onClose&&this.props.onClose(a,c)};a.prototype.$8=function(a,b){a({state:m.ERROR,errorMessage:b.message})};a.prototype.$9=function(){__p&&__p();var a=this.state.invoiceConfig;if(!a)return{};a=a.invoiceContentConfiguration;var c=a.priceList;a=a.purchaseInfo;var d;if(this.props.invoiceID){var e=c.find(function(a){return Object.prototype.hasOwnProperty.call(a,"priceList")})||{};e=e.priceList||[];d=e.map(function(a){a.price||h(0);return b("FBPaymentsPriceListHelper").newBasePrice(a.label,a.price)})}else e=this.state.invoiceItems||[],d=e.map(function(a){return b("FBPaymentsPriceListHelper").newBasePrice(this.$10(a),a.getPrice())}.bind(this));e=[{label:this.$11(),priceList:d}];this.props.invoiceID||(e=b("FBPaymentsPriceListHelper").merge(e,c));d=this.state.buyerProfile||{};c={version:"1.0",paymentInfo:{payCallback:this.$6,paymentItemType:b("PaymentItemTypeFields").NMOR_PAGES_COMMERCE,action:l.CUSTOM_CALLBACK,receiverId:this.props.sellerID},orderStatusModel:{type:k.FIXED_AMOUNT},contentConfiguration:{entity:{participant:{title:d.name,imageURL:d.profilePictureUrl}},items:[],priceList:e,purchaseInfo:a,payActionContent:{actionTitle:this.$12(),backButton:!this.props.invoiceID,backButtonCallback:this.props.invoiceID?null:this.$4,customTermsAndPoliciesText:b("React").createElement("span",null)}}};return c};a.prototype.$13=function(){return g._("Payment Request")};a.prototype.$11=function(){return g._("Subtotal")};a.prototype.$14=function(){return g._("Continue to Payment Request")};a.prototype.$12=function(){return g._("Request Payment")};a.prototype.$10=function(a){if(a.quantity<=1)return a.title;else return g._({"*":"{Number of item} x {Item title}"},[g._param("Number of item",a.quantity,[0]),g._param("Item title",a.title)])};a.prototype.render=function(){if(this.props.invoiceID&&this.state.isLoading)return b("React").createElement("div",null);var a=this.__getCartContainer(),c=this.state.step===n.CREATE_CART;a=b("React").createElement(a,{configLoader:this.cartConfigLoader,continueButtonLabel:this.$14(),onClose:this.props.onClose,onContinue:this.$3,sellerID:this.props.sellerID,shown:c});c=this.__getCheckoutContainer();c=this.state.step===n.CREATE_INVOICE?b("React").createElement(c,{configuration:this.$9(),dialogTitle:this.$13(),onCheckoutClosed:this.$5,onConfirmationClosed:this.props.onClose,paymentModuleFlowType:b("FBPaymentsModulesFlowType").INVOICE,invoiceID:this.props.invoiceID}):null;return b("React").createElement("div",null,a,c)};a.prototype.__getCartContainer=function(){return b("abstractMethod")("FBPaymentsInvoiceFlowContainerBase","__getCartContainer")};a.prototype.__getCheckoutContainer=function(){return b("abstractMethod")("FBPaymentsInvoiceFlowContainerBase","__getCheckoutContainer")};a.prototype.__getAPI=function(){return b("abstractMethod")("FBPaymentsInvoiceFlowContainerBase","__getAPI")};a.propTypes={buyerID:c.string.isRequired,client:c.string.isRequired,invoiceID:c.string,onClose:c.func,sellerID:c.string.isRequired};e.exports=a}),null);
__d("FBPaymentsInvoiceFlowContainer.react",["FBPaymentsCartFlowContainer.react","FBPaymentsCheckoutFlowContainer.react","FBPaymentsInvoiceFlowContainerBase.react","FBPaymentsModulesAPI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(a,b("FBPaymentsInvoiceFlowContainerBase.react"));h=g&&g.prototype;a.prototype.__getCartContainer=function(){return b("FBPaymentsCartFlowContainer.react")};a.prototype.__getCheckoutContainer=function(){return b("FBPaymentsCheckoutFlowContainer.react")};a.prototype.__getAPI=function(){return b("FBPaymentsModulesAPI")};a.prototype.render=function(){return h.render.call(this)};function a(){g.apply(this,arguments)}a.propTypes=babelHelpers["extends"]({},b("FBPaymentsInvoiceFlowContainerBase.react").propTypes);e.exports=a}),null);
__d("CommerceInvoiceAdminButton.react",["cx","fbt","CommerceCurrencyUtil","CommerceInvoiceAdminActionContextualDialog.react","CommerceInvoiceAdminActions","CommerceInvoiceAdminDispatcher","CommerceInvoiceAdminStore","CommerceInvoiceButtonConfirmPaymentPUX.react","CommerceInvoiceButtonPUX.react","CommerceInvoiceCartContainer.react","FBPaymentsInvoiceFlowContainer.react","FBPaymentsLinkHelper","FBPaymentsModulesAPI","FluxContainer","Image.react","LayerFadeOnHide","Link.react","MessengerAdsLoggerEvent","MessengerAdsTypedLogger","MessengerConversionEvent","PagesCommercePaymentInvoiceReferrer","PaymentModulesClient","React","SimpleNUXMessage","SimpleNUXMessageTypes","TooltipData","XUIAmbientNUX.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){__p&&__p();i.constructor.call(this,a),this.$3=function(){return this.refs.invoiceButton}.bind(this),this.$4=function(){this.props.shouldShowConfirmPayment?(this.setState({showRequestPaymentDialog:!1,puxShown:!1,showMarkAsPaidNUX:!1}),b("CommerceInvoiceAdminActions").toggleActionsDialog(!0)):(this.setState({showRequestPaymentDialog:!0,puxShown:!1,showMarkAsPaidNUX:!1}),b("CommerceInvoiceAdminActions").toggleActionsDialog(!1),this.refs.invoiceDialog&&this.refs.invoiceDialog.showDialog())}.bind(this),this.$5=function(){this.setState({showRequestPaymentDialog:!1})}.bind(this),this.$6=function(){this.setState({showProductTaggingDialog:!1})}.bind(this),this.$7=function(a){new(b("MessengerAdsTypedLogger"))().setEvent(b("MessengerAdsLoggerEvent").PAGE_MARK_CONVERSION).setUserEventName(b("MessengerConversionEvent").PAGE_COMPLETE_TAG_PRODUCTS).setPageID(this.props.pageID).log(),this.setState({invoiceItems:a.toArray(),showProductTaggingDialog:!1})}.bind(this),this.$8=function(){this.setState({invoiceItems:null})}.bind(this),this.$11=function(){if(this.state.isInvoiceSetupComplete)this.setState({showRequestPaymentDialog:!0}),b("CommerceInvoiceAdminActions").toggleActionsDialog(!1),this.refs.invoiceDialog&&this.refs.invoiceDialog.showDialog();else{var a=b("FBPaymentsLinkHelper").getPagePaymentSettingsURI(this.props.pageID,"AdminButton");window.open(a)}}.bind(this),this.$13=function(a,c,d,e){__p&&__p();b("CommerceInvoiceAdminActions").toggleActionsDialog(!1);var f=this.state.invoiceItems,g=[],h=null;if(f&&f.length>0){g=f.map(function(a){return this.$12(a)}.bind(this));if(parseFloat(c.amount)>0){f={id:null,title:"Shipping",subtitle:null,currency_amount:c,quantity:"1"};g.push(f)}}else{c={currency:this.$2(),amount:a.toString()};f={id:null,title:"Amount",subtitle:null,currency_amount:c,quantity:"1"};g=[f]}a={client_mutation_id:"www",actor_id:this.props.pageID,client:b("PaymentModulesClient").PAGES_COMMERCE,seller_id:this.props.pageID,buyer_id:this.props.recipientID,is_buyer_initialized:!1,items:g,custom_shipping_options:h,notes:e,invoice_type:"payment_confirmation",xmat_mid:this.state.messageID,referrer:this.state.referrer,discount:d};b("FBPaymentsModulesAPI").createInvoice(a);b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").PAGES_MARK_AS_PAID_BUTTON);this.setState({invoiceItems:null})}.bind(this),this.$14=function(){new(b("MessengerAdsTypedLogger"))().setEvent(b("MessengerAdsLoggerEvent").PAGE_MARK_CONVERSION).setUserEventName(b("MessengerConversionEvent").PAGE_START_TAG_PRODUCTS).setPageID(this.props.pageID).log(),this.setState({showProductTaggingDialog:!0})}.bind(this),this.$17=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").PAGES_MARK_AS_PAID_BUTTON),this.setState({showMarkAsPaidNUX:!1})}.bind(this),this.state={showRequestPaymentDialog:!1,showAdminActionContextualDialog:!1,isInvoiceSetupComplete:!1,puxShown:a.shouldShowPUX,dialogView:"default",referrer:b("PagesCommercePaymentInvoiceReferrer").ACTION_SHEET,messageID:null,showMarkAsPaidNUX:!1,showProductTaggingDialog:!1,invoiceItems:null}}a.getStores=function(){return[b("CommerceInvoiceAdminStore")]};a.calculateState=function(a,c){c=b("CommerceInvoiceAdminStore").getConfig()||{};c=c.paymentMethods;c=c&&c.length>0;return babelHelpers["extends"]({},a,{isInvoiceSetupComplete:c,showAdminActionContextualDialog:b("CommerceInvoiceAdminStore").getShowAdminActionContextualDialog(),dialogView:b("CommerceInvoiceAdminStore").getActionDialogView(),messageID:b("CommerceInvoiceAdminStore").getMessageID(),referrer:b("CommerceInvoiceAdminStore").getReferrer()})};a.prototype.UNSAFE_componentWillMount=function(){b("CommerceInvoiceAdminDispatcher").explicitlyRegisterStores([b("CommerceInvoiceAdminStore")]),b("CommerceInvoiceAdminActions").fetchConfig(this.props.pageID)};a.prototype.componentDidMount=function(){this.$1()&&this.setState({showMarkAsPaidNUX:!0})};a.prototype.componentWillUnmount=function(){b("CommerceInvoiceAdminActions").toggleActionsDialog(!1)};a.prototype.$2=function(){return this.props.defaultCurrency||"USD"};a.prototype.$9=function(){if(this.state.showMarkAsPaidNUX)return this.$10();if(this.props.shouldShowPUX)return b("React").createElement(b("CommerceInvoiceButtonPUX.react"),{contextRef:this.$3,pageID:this.props.pageID,recipientID:this.props.recipientID,shown:this.state.puxShown});return this.props.shouldShowConfirmPayment?b("React").createElement(b("CommerceInvoiceButtonConfirmPaymentPUX.react"),{contextRef:this.$3,pageID:this.props.pageID,shown:this.state.puxShown}):null};a.prototype.$12=function(a){a={id:a.id,title:a.title.toString(),subtitle:a.subtitle?a.subtitle.toString():"",currency_amount:a.unitPrice,quantity:a.quantity.toString()};return a};a.prototype.$15=function(){b("CommerceInvoiceAdminActions").toggleActionsDialog(!1)};a.prototype.$16=function(){if(!this.props.shouldShowConfirmPayment&&!this.props.shouldShowRequestPayment&&!this.props.shouldAllowPaymentOnboarding||!this.state.showAdminActionContextualDialog)return null;new(b("MessengerAdsTypedLogger"))().setEvent(b("MessengerAdsLoggerEvent").PAGE_MARK_CONVERSION).setUserEventName(b("MessengerConversionEvent").PAGE_CLICK_INVOICE_BUTTON).setPageID(this.props.pageID).log();return b("React").createElement(b("CommerceInvoiceAdminActionContextualDialog.react"),{contextRef:this.$3,defaultCurrency:this.$2(),shown:this.state.showAdminActionContextualDialog,pageID:this.props.pageID,onRequestPayment:this.$11,onConfirmPayment:this.$13,onSelectProductTagging:this.$14,onToggle:this.$15,onClearInvoice:this.$8,view:this.state.dialogView,shouldShowRequestPayment:this.props.shouldShowRequestPayment,shouldShowConfirmPayment:this.props.shouldShowConfirmPayment,shouldAllowPaymentOnboarding:this.props.shouldAllowPaymentOnboarding,invoiceItems:this.state.invoiceItems})};a.prototype.$10=function(){var a=b("React").createElement("div",{className:"_2r3-"},b("React").createElement("div",{className:"_2r40"},h._("Mark a Conversation as Paid")),b("React").createElement("div",{className:"_2r53"},h._("Now you can easily track all your sales over Inbox and view sales summary from Pages Insights.")));return b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"right",behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},contextRef:this.$3,onCloseButtonClick:this.$17,position:"above",shown:this.state.showMarkAsPaidNUX,width:"wide"},a)};a.prototype.$1=function(){return!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").PAGES_MARK_AS_PAID_BUTTON)};a.prototype.$18=function(){return h._("Tag Products")};a.prototype.$19=function(){return h._("Complete")};a.prototype.render=function(){var a=h._("Create Payment Request"),c=b("joinClasses")("_4h_d","uiContextualLayerParent",this.props.className),d;this.state.showProductTaggingDialog&&(d=b("React").createElement(b("CommerceInvoiceCartContainer.react"),{titleScreenLabel:this.$18(),completeButtonLabel:this.$19(),onClose:this.$6,onComplete:this.$7,sellerID:this.props.pageID,shown:!0,defaultCurrency:this.$2()}));var e;this.state.showRequestPaymentDialog&&(e=b("React").createElement(b("FBPaymentsInvoiceFlowContainer.react"),{buyerID:this.props.recipientID,client:b("PaymentModulesClient").PAGES_COMMERCE,onClose:this.$5,sellerID:this.props.pageID}));return b("React").createElement("div",{className:c},b("React").createElement(b("Link.react"),babelHelpers["extends"]({className:"_4h_e",href:"#",onClick:this.$4},b("TooltipData").propsFor(a)),b("React").createElement(b("Image.react"),{className:"_4h_f",ref:"invoiceButton",src:b("CommerceCurrencyUtil").getIconSrc(this.$2())}),this.$9(),this.$16()),e,d)};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("ChatFileUploaderMixin",["React","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;c={propTypes:{attachmentsShelf:a.object,onFileUploaderMounted:a.func,onUploadFinished:a.func,onUpdateAttachmentsShelf:a.func,onSubmit:a.func},setUpSubscriptionsHandler:function(a){this._uploader=a,this._subscriptions=new(b("SubscriptionsHandler"))(),this._subscriptions.addSubscriptions(this._uploader.subscribe(["all-uploads-completed","upload-canceled"],this._handleUploadFinished),this._uploader.subscribe("dom-updated",this._handleUpdateAttachmentsShelf),this._uploader.subscribe("submit",this._handleSubmit)),this.props.onFileUploaderMounted(this._uploader)},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release(),this.props.uploaderIsFromHigherLevel||this._uploader&&this._uploader.destroy()},isUploading:function(){return this._uploader.isUploading()},getAttachments:function(){return this._uploader.getAttachments()},getImageFiles:function(){return this._uploader.getImageFiles()},getVideoFiles:function(){return this._uploader.getVideoFiles()},getAudioFiles:function(){return this._uploader.getAudioFiles()},getFiles:function(){return this._uploader.getFiles()},removeAttachments:function(){return this._uploader.removeAttachments()},_handleUploadFinished:function(){if(this.props.onUploadFinished){var a;(a=this.props).onUploadFinished.apply(a,arguments)}},_handleUpdateAttachmentsShelf:function(){if(this.props.onUpdateAttachmentsShelf){var a;(a=this.props).onUpdateAttachmentsShelf.apply(a,arguments)}},_handleSubmit:function(){if(this.props.onSubmit){var a;(a=this.props).onSubmit.apply(a,arguments)}}};e.exports=c}),null);
__d("MercuryFileUploader",["csx","fbt","ArbiterMixin","CSS","Dialog","DOM","Event","FileForm","FileFormResetOnSubmit","FileInput","FormSubmitOnChange","MercuryAttachment","MercuryAttachmentTemplates","MercuryConstants","PhotosUploadID","SubscriptionsHandler","getObjectValues","mixin","shield"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));i=c&&c.prototype;function a(a,b,c,d){"use strict";i.constructor.call(this),this.$MercuryFileUploader1=a,this.$MercuryFileUploader2={},this.$MercuryFileUploader3={},this.$MercuryFileUploader4={},this.$MercuryFileUploader5={},this.$MercuryFileUploader6={},this.$MercuryFileUploader7={},this.$MercuryFileUploader8={},this.$MercuryFileUploader9={},this.$MercuryFileUploader10={},this.updateElements(b,c,d)}a.prototype.updateElements=function(a,c,d){"use strict";__p&&__p();this.$MercuryFileUploader11&&this.$MercuryFileUploader11.release();this.$MercuryFileUploader11=new(b("SubscriptionsHandler"))();this.$MercuryFileUploader12&&this.$MercuryFileUploader12.destroy();this.$MercuryFileUploader12=new(b("FileForm"))(a,[b("FormSubmitOnChange"),b("FileFormResetOnSubmit")]);this.$MercuryFileUploader12.setAllowCrossOrigin(!0);this.$MercuryFileUploader12.setUploadInParallel(!0);a=b("DOM").find(a,"._4q60");var e=b("DOM").find(a,"._4q61");new(b("FileInput"))(a,e,c);this.$MercuryFileUploader11.addSubscriptions(this.$MercuryFileUploader12.subscribe("submit",function(){__p&&__p();var a={count:0,file_sizes:[],files:[]};if(c.files){for(var e=0;e<c.files.length;e++)if(c.files[e].size>b("MercuryConstants").AttachmentMaxSize){this.showAttachmentSizeErrorDialog();return!1}e={};for(var f=0;f<c.files.length;f++){var g=this.$MercuryFileUploader13();this.$MercuryFileUploader14(g,c.files[f].name);a.count++;a.file_sizes.push(c.files[f].size);e[g]=c.files[f];a.files.push({upload_id:g,metadata:c.files[f]})}this.$MercuryFileUploader12.setFiles(e)}else d.value=this.$MercuryFileUploader13(),this.$MercuryFileUploader14(d.value,c.value),a.count=1;this.inform("submit",a)}.bind(this)),this.$MercuryFileUploader12.subscribe("success",this.$MercuryFileUploader15.bind(this)),this.$MercuryFileUploader12.subscribe("failure",this.$MercuryFileUploader16.bind(this)),b("Event").listen(e,"click",b("shield")(this.inform,this,"open")))};a.prototype.showAttachmentSizeErrorDialog=function(){"use strict";this.$MercuryFileUploader12.abort(),this.$MercuryFileUploader12.clear(),new(b("Dialog"))().setTitle(h._("The file you have selected is too large")).setBody(h._("The file you have selected is too large. The maximum size is 25MB.")).setButtons(b("Dialog").OK).setSemiModal(!0).show()};a.prototype.addDroppedFiles=function(a){"use strict";__p&&__p();if(!this.$MercuryFileUploader12||!this.$MercuryFileUploader12.canUseXHR())return;var c={},d={count:0,file_sizes:[],files:[]};for(var e=0;e<a.length;e++){var f=a[e];if(f.size>b("MercuryConstants").AttachmentMaxSize){this.showAttachmentSizeErrorDialog();return!1}var g=this.$MercuryFileUploader13();this.$MercuryFileUploader14(g,f.name);c[g]=f;d.file_sizes.push(f.size);d.count++;d.files.push({upload_id:g,metadata:f})}this.$MercuryFileUploader12.setFiles(c);this.$MercuryFileUploader12.forceSendViaXHR();this.inform("submit",d)};a.prototype.isUploading=function(){"use strict";return!!Object.keys(this.$MercuryFileUploader8).length};a.prototype.addCachedAttachments=function(a){"use strict";a.forEach(function(a){var b=this.$MercuryFileUploader13();this.$MercuryFileUploader14(b,a.filename);this.inform("cached-file-added",{upload_id:b,metadata:a});this.$MercuryFileUploader17(b,a)}.bind(this))};a.prototype.addCachedImageFiles=function(a){"use strict";var b=h._("Photo");a.forEach(function(a){var c=this.$MercuryFileUploader13();this.$MercuryFileUploader14(c,b);this.$MercuryFileUploader17(c,{filename:a,image_id:a,filetype:"image/jpeg"})}.bind(this))};a.prototype.getAttachments=function(){"use strict";return b("getObjectValues")(this.$MercuryFileUploader2)};a.prototype.getImageFiles=function(){"use strict";var a=Object.keys(this.$MercuryFileUploader3).sort(),b=[];a.forEach(function(a){return b.push(this.$MercuryFileUploader3[a])}.bind(this));return b};a.prototype.getAnimatedImageFiles=function(){"use strict";return b("getObjectValues")(this.$MercuryFileUploader4)};a.prototype.getVideoFiles=function(){"use strict";return b("getObjectValues")(this.$MercuryFileUploader5)};a.prototype.getAudioFiles=function(){"use strict";return b("getObjectValues")(this.$MercuryFileUploader6)};a.prototype.getFiles=function(){"use strict";return b("getObjectValues")(this.$MercuryFileUploader7)};a.prototype.removeOneAttachment=function(a){"use strict";this.$MercuryFileUploader18(a)};a.prototype.removeAttachments=function(){"use strict";this.$MercuryFileUploader1&&b("DOM").empty(this.$MercuryFileUploader1),this.$MercuryFileUploader2={},this.$MercuryFileUploader3={},this.$MercuryFileUploader4={},this.$MercuryFileUploader5={},this.$MercuryFileUploader6={},this.$MercuryFileUploader7={},this.$MercuryFileUploader9={},this.$MercuryFileUploader8={},this.$MercuryFileUploader10={},this.$MercuryFileUploader1&&b("CSS").hide(this.$MercuryFileUploader1),this.inform("dom-updated")};a.prototype.destroy=function(){"use strict";this.$MercuryFileUploader11&&this.$MercuryFileUploader11.release(),this.$MercuryFileUploader12&&this.$MercuryFileUploader12.destroy(),this.removeAttachments()};a.prototype.$MercuryFileUploader14=function(a,c){"use strict";__p&&__p();var d=b("MercuryAttachmentTemplates")[":fb:mercury:upload-file-row"].build(),e={};this.$MercuryFileUploader9[a]=d;this.$MercuryFileUploader8[a]=!0;this.$MercuryFileUploader10[a]=Date.now();c=j(c);b("DOM").appendContent(d.getNode("iconText"),c);e.fileName=c;b("Event").listen(d.getNode("closeFileUpload"),"click",this.$MercuryFileUploader18.bind(this,a));this.$MercuryFileUploader1&&(b("DOM").appendContent(this.$MercuryFileUploader1,d.getRoot()),b("CSS").show(this.$MercuryFileUploader1));this.inform("dom-updated",e)};a.prototype.$MercuryFileUploader18=function(a,event){"use strict";__p&&__p();this.$MercuryFileUploader8[a]?this.inform("upload-canceled-during-upload"):(this.$MercuryFileUploader2[a]||this.$MercuryFileUploader3[a]||this.$MercuryFileUploader4[a]||this.$MercuryFileUploader5[a]||this.$MercuryFileUploader6[a]||this.$MercuryFileUploader7[a])&&this.inform("upload-canceled-after-uploaded");delete this.$MercuryFileUploader2[a];delete this.$MercuryFileUploader3[a];delete this.$MercuryFileUploader4[a];delete this.$MercuryFileUploader5[a];delete this.$MercuryFileUploader6[a];delete this.$MercuryFileUploader7[a];delete this.$MercuryFileUploader8[a];delete this.$MercuryFileUploader10[a];var c=this.$MercuryFileUploader9[a];delete this.$MercuryFileUploader9[a];c&&(b("DOM").remove(c.getRoot()),this.inform("dom-updated"));this.inform("upload-canceled");return!1};a.prototype.$MercuryFileUploader19=function(a,c){"use strict";a=this.$MercuryFileUploader9[a];c=b("MercuryAttachment").getAttachIconClassByMime(c);b("CSS").addClass(a.getNode("iconText"),c);b("CSS").addClass(a.getRoot(),"done")};a.prototype.$MercuryFileUploader17=function(a,b){"use strict";this.$MercuryFileUploader8[a]&&(delete this.$MercuryFileUploader8[a],b.image_id?this.$MercuryFileUploader3[a]=b.image_id:b.gif_id?this.$MercuryFileUploader4[a]=b.gif_id:b.video_id?this.$MercuryFileUploader5[a]=b.video_id:b.audio_id?this.$MercuryFileUploader6[a]=b.audio_id:b.file_id?this.$MercuryFileUploader7[a]=b.file_id:this.$MercuryFileUploader2[a]=b,this.$MercuryFileUploader19(a,b.filetype),this.inform("one-upload-completed",{upload_time_ms:Date.now()-this.$MercuryFileUploader10[a],upload_id:a,metadata:b})),this.isUploading()||this.inform("all-uploads-completed",{count:this.getAttachments().length})};a.prototype.$MercuryFileUploader15=function(event,a){"use strict";var b=a.response.getPayload();this.$MercuryFileUploader17(this.$MercuryFileUploader20(a),b.metadata[0])};a.prototype.$MercuryFileUploader16=function(event,a){"use strict";this.inform("one-upload-failed"),this.$MercuryFileUploader18(this.$MercuryFileUploader20(a),event)};a.prototype.$MercuryFileUploader13=function(){"use strict";return"upload_"+b("PhotosUploadID").getNewID()};a.prototype.$MercuryFileUploader20=function(a){"use strict";var b=a.response.getPayload();if(a.upload)return a.upload.getName();else return b.uploadID};function j(a){return a&&a.startsWith("C:\\fakepath\\")?a.substring(12):a}e.exports=a}),null);
__d("PagesMessengerFileUploader.react",["cx","fbt","ix","ChatFileUploaderMixin","Image.react","InlineBlock.react","Link.react","MercuryConfig","MercuryFileUploader","React","ReactDOM"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"PagesMessengerFileUploader",mixins:[b("ChatFileUploaderMixin")],propTypes:{actionURI:a.string,iconSize:a.oneOf(["small","large"]),supportMultiFiles:a.bool},shouldComponentUpdate:function(a,b){return a.actionURI!=this.props.actionURI},componentDidMount:function(){this._fileUploader=new(b("MercuryFileUploader"))(this.props.attachmentsShelf,b("ReactDOM").findDOMNode(this.refs.form),b("ReactDOM").findDOMNode(this.refs.input),b("ReactDOM").findDOMNode(this.refs.attachID)),this.setUpSubscriptionsHandler(this._fileUploader)},addFiles:function(a){this._fileUploader.addDroppedFiles(a)},getDefaultProps:function(){return{actionURI:b("MercuryConfig").upload_url,iconSize:"small",supportMultiFiles:!0}},render:function(){return b("React").createElement("form",{action:this.props.actionURI,method:"post",ref:"form"},b("React").createElement("input",{type:"hidden",name:"attach_id",ref:"attachID"}),b("React").createElement(b("InlineBlock.react"),{className:"_m _4q60 _3rzn"},b("React").createElement(b("Link.react"),{className:"_4q61"+(this.props.iconSize==="small"?" _509v":"")+(this.props.iconSize==="large"?" _5njm":"")+" bizOK"},this._renderIcon()),b("React").createElement("input",{type:"file",className:"_n",name:"attachment[]",multiple:this.props.supportMultiFiles,ref:"input"})))},_renderIcon:function(){if(this.props.iconSize==="small")return b("React").createElement(b("Image.react"),{alt:h._("File"),src:i("28652")});else if(this.props.iconSize==="large")return b("React").createElement(b("Image.react"),{alt:h._("File"),src:i("94986")})}});e.exports=c}),null);
__d("MercuryShareLinkUploader",["ArbiterMixin","AsyncRequest","CSS","DOM","Event","Form","URLScraper","isEmpty","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g=c&&c.prototype;function a(){"use strict";g.constructor.call(this),this.__initialize.apply(this,arguments)}a.prototype.__initialize=function(a,c,d,e,f){"use strict";this.$MercuryShareLinkUploader1=a,this.$MercuryShareLinkUploader2=c,this.$MercuryShareLinkUploader3=d,this.$MercuryShareLinkUploader4=f,this.$MercuryShareLinkUploader5=!1,this.$MercuryShareLinkUploader6=null,this.$MercuryShareLinkUploader7=null,b("Event").listen(e,"click",this.close.bind(this)),b("Event").listen(f,"keyup",function(){f.value.length||this.$MercuryShareLinkUploader8.enable()}.bind(this)),this.$MercuryShareLinkUploader8=new(b("URLScraper"))(f),this.$MercuryShareLinkUploader8.subscribe("match",function(a,b){this.loadShare(b&&b.url)}.bind(this))};a.prototype.getAttachData=function(){"use strict";return this.loadAttachData(this.$MercuryShareLinkUploader5,this.$MercuryShareLinkUploader1,this.$MercuryShareLinkUploader4)};a.prototype.getShareDataFromStage=function(a,c){"use strict";__p&&__p();a=b("Form").serialize(c);c=a.attachment&&a.attachment.params;if(!c)return null;if(c instanceof Object){var d=[];d.push(c[0]);d.push(c[1]);c=d}return{params:c,type:a.attachment.type}};a.prototype.loadAttachData=function(a,c,d,e){"use strict";__p&&__p();if(a){a=b("Form").serialize(c);c=a.attachment&&a.attachment.params;var f=a.link_metrics?a.link_metrics.no_image:!0;if(!c||b("isEmpty")(c))return null;e=e?e():d.value;if(e.indexOf(c.url)===-1)return a;return!c.summary&&!c.favicon&&f&&c.title&&c.url&&c.url.substr(0,c.title.length)===c.title?null:a}return null};a.prototype.check=function(){"use strict";this.$MercuryShareLinkUploader8.check()};a.prototype.close=function(){"use strict";this.$MercuryShareLinkUploader9(),this.$MercuryShareLinkUploader8.disable(),this.inform("closed")};a.prototype.clear=function(){"use strict";this.$MercuryShareLinkUploader9(),this.$MercuryShareLinkUploader8.enable()};a.prototype.enable=function(){"use strict";this.$MercuryShareLinkUploader8.enable()};a.prototype.disable=function(){"use strict";this.$MercuryShareLinkUploader8.disable()};a.prototype.loadShare=function(a){"use strict";this.$MercuryShareLinkUploader6=a,this.$MercuryShareLinkUploader7&&this.$MercuryShareLinkUploader7.abort(),this.$MercuryShareLinkUploader7=new(b("AsyncRequest"))().setMethod("POST").setURI("/ajax/share_scrape.php").setData({u:a}).setHandler(this.$MercuryShareLinkUploader10.bind(this).bind(null,a)).setStatusElement(this.$MercuryShareLinkUploader3),this.$MercuryShareLinkUploader7.send(),this.inform("link-detected")};a.prototype.$MercuryShareLinkUploader10=function(a,c){"use strict";__p&&__p();if(this.$MercuryShareLinkUploader6!==a)return;this.$MercuryShareLinkUploader6=null;this.$MercuryShareLinkUploader7=null;b("CSS").show(this.$MercuryShareLinkUploader1);b("DOM").empty(this.$MercuryShareLinkUploader2);b("DOM").setContent(this.$MercuryShareLinkUploader2,c.payload);this.$MercuryShareLinkUploader5=!0;if(!this.getAttachData()){this.close();return}};a.prototype.$MercuryShareLinkUploader9=function(){"use strict";b("CSS").hide(this.$MercuryShareLinkUploader1),this.$MercuryShareLinkUploader5=!1,this.$MercuryShareLinkUploader6=null,this.$MercuryShareLinkUploader7&&this.$MercuryShareLinkUploader7.abort(),this.$MercuryShareLinkUploader7=null,this.$MercuryShareLinkUploader8.reset()};e.exports=a}),null);
__d("XShareScrapeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/share_scrape/",{})}),null);
__d("ChatShareLinkUploader",["AsyncRequest","CSS","DOM","Event","MercuryAttachmentTemplates","MercuryShareLinkUploader","URLScraper","XShareScrapeAsyncController"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("MercuryShareLinkUploader"));g&&g.prototype;a.prototype.__initialize=function(a,c,d,e,f){"use strict";this.$ChatShareLinkUploader1=a,this.$ChatShareLinkUploader2=c,this.$ChatShareLinkUploader3=d,this.$ChatShareLinkUploader4=!1,this.$ChatShareLinkUploader5=null,this.$ChatShareLinkUploader6=e,this.$ChatShareLinkUploader7=f,this.$ChatShareLinkUploader8=!1,b("Event").listen(c,"keyup",function(){this.getInputValue().length||this.$ChatShareLinkUploader9.enable()}.bind(this)),this.$ChatShareLinkUploader9=new(b("URLScraper"))(c,e),this.$ChatShareLinkUploader9.subscribe("match",function(a,b){this.loadShare(b&&b.url)}.bind(this)),this.$ChatShareLinkUploader10=1337,this.$ChatShareLinkUploader11=null};a.prototype.getInputValue=function(){"use strict";return this.$ChatShareLinkUploader6?this.$ChatShareLinkUploader6():this.$ChatShareLinkUploader2.value};a.prototype.getAttachData=function(){"use strict";return this.loadAttachData(this.$ChatShareLinkUploader4,this.$ChatShareLinkUploader1,this.$ChatShareLinkUploader2,this.$ChatShareLinkUploader6)};a.prototype.getShareData=function(){"use strict";return!this.$ChatShareLinkUploader4?null:this.getShareDataFromStage(this.$ChatShareLinkUploader4,this.$ChatShareLinkUploader1)};a.prototype.close=function(){"use strict";this.$ChatShareLinkUploader12(),this.$ChatShareLinkUploader9.disable(),this.inform("closed")};a.prototype.clear=function(){"use strict";this.$ChatShareLinkUploader12(),this.$ChatShareLinkUploader9.enable()};a.prototype.$ChatShareLinkUploader12=function(){"use strict";__p&&__p();var a=this.$ChatShareLinkUploader11;delete this.$ChatShareLinkUploader11;a&&(b("DOM").remove(a),this.inform("dom-updated"));this.$ChatShareLinkUploader13();this.$ChatShareLinkUploader4=!1;this.$ChatShareLinkUploader8=!1;this.$ChatShareLinkUploader5&&this.$ChatShareLinkUploader5.abort();this.$ChatShareLinkUploader5=null;this.$ChatShareLinkUploader9&&this.$ChatShareLinkUploader9.reset()};a.prototype.loadShareFromParams=function(a,c){"use strict";this.$ChatShareLinkUploader8=!0,this.$ChatShareLinkUploader14(new(b("AsyncRequest"))().setMethod("POST").setURI("/ajax/share_params.php").setData({chat:!0,share_type:a,share_params:c}))};a.prototype.__getLoadShareURI=function(){"use strict";return b("XShareScrapeAsyncController").getURIBuilder().getURI()};a.prototype.loadShare=function(a,c){"use strict";this.$ChatShareLinkUploader14(new(b("AsyncRequest"))(this.__getLoadShareURI()).setMethod("POST").setData({chat:!0,extra_params:JSON.stringify(c),u:a}),a)};a.prototype.loadedFromFeed=function(){"use strict";return this.$ChatShareLinkUploader8};a.prototype.$ChatShareLinkUploader13=function(){"use strict";return++this.$ChatShareLinkUploader10};a.prototype.$ChatShareLinkUploader15=function(){"use strict";return this.$ChatShareLinkUploader10};a.prototype.$ChatShareLinkUploader14=function(a,c){"use strict";__p&&__p();this.$ChatShareLinkUploader5&&this.$ChatShareLinkUploader5.abort();var d=b("MercuryAttachmentTemplates")[":fb:mercury:share-link-row"].build();this.$ChatShareLinkUploader11&&b("DOM").remove(this.$ChatShareLinkUploader11);this.$ChatShareLinkUploader11=d.getRoot();b("Event").listen(d.getNode("closeFileUpload"),"click",function(event){this.close(),event.kill()}.bind(this));b("DOM").appendContent(this.$ChatShareLinkUploader1,this.$ChatShareLinkUploader11);b("CSS").show(this.$ChatShareLinkUploader1);this.inform("dom-updated");var e=this.$ChatShareLinkUploader13();this.$ChatShareLinkUploader5=a.setHandler(function(a){return this.$ChatShareLinkUploader16(e,a,c)}.bind(this));this.$ChatShareLinkUploader5.send();this.inform("link-detected")};a.prototype.$ChatShareLinkUploader16=function(a,c,d){"use strict";__p&&__p();if(this.$ChatShareLinkUploader15()!==a)return;this.$ChatShareLinkUploader5=null;b("DOM").appendContent(this.$ChatShareLinkUploader11,c.payload);this.$ChatShareLinkUploader3();this.$ChatShareLinkUploader4=!0;this.inform("share-loaded");if(!this.getAttachData()){this.close();d&&this.getInputValue().indexOf(d)===-1&&this.$ChatShareLinkUploader7(d);return}b("CSS").addClass(this.$ChatShareLinkUploader11,"done")};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("PagesMessengerShareLinkUploader",["ActorURI","ChatShareLinkUploader","SubscriptionsHandler","XShareScrapeAsyncController","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("ChatShareLinkUploader"));g=c&&c.prototype;function a(a,c,d,e,f){"use strict";g.constructor.call(this,a,c,b("emptyFunction")),this.$PagesMessengerShareLinkUploader1=new(b("SubscriptionsHandler"))(),this.$PagesMessengerShareLinkUploader1.addSubscriptions(this.subscribe(["all-uploads-completed","upload-canceled"],d),this.subscribe("submit",e)),this.actor_id=f}a.prototype.__getLoadShareURI=function(){"use strict";return new(b("ActorURI").create)(b("XShareScrapeAsyncController").getURIBuilder().getURI(),this.actor_id)};a.prototype.destroy=function(){"use strict";this.$PagesMessengerShareLinkUploader1&&this.$PagesMessengerShareLinkUploader1.release()};e.exports=a}),null);
__d("XPagesMessagingSuggestedResponseController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/suggestedresponse/",{})}),null);
__d("XPagesMessagingSuggestedResponseFeedbackController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/suggestedresponse/feedback/",{})}),null);
__d("PagesMessageSuggestedResponseHandler",["invariant","ActorURI","AsyncRequest","XPagesMessagingSuggestedResponseController","XPagesMessagingSuggestedResponseFeedbackController","isEmpty"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,b){"use strict";this.$2=a,this.$1=b,this.$3=!1,this.$5=!1}a.prototype.requestSuggestedResponseAsync=function(a,c){"use strict";this.$3=!0;var d=b("XPagesMessagingSuggestedResponseController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(b("ActorURI").create(d,this.$1)).setData({message:this.$2.body}).setMethod("POST").setHandler(function(b){return this.$6(b.payload,a)}.bind(this)).setErrorHandler(c).send()};a.prototype.sendFeedback=function(a){"use strict";this.hasReceviedSuggestedResponse()||g(0);var c=b("XPagesMessagingSuggestedResponseFeedbackController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(b("ActorURI").create(c,this.$1)).setMethod("POST").setData({message_id:this.$4,accepted:a}).send()};a.prototype.$6=function(a,b){"use strict";a.messageFound&&(this.$4=a.messageID),b(this.$2.message_id,a)};a.prototype.shouldBeTreatedAsRejected=function(){"use strict";return!this.getHasBeenAccepted()&&this.hasReceviedSuggestedResponse()};a.prototype.hasReceviedSuggestedResponse=function(){"use strict";return!b("isEmpty")(this.$4)};a.prototype.alreadyRequested=function(){"use strict";return this.$3};a.prototype.getMessageID=function(){"use strict";return this.$2.message_id};a.prototype.getHasBeenAccepted=function(){"use strict";return this.$5};e.exports=a}),null);
__d("PagesMessengerSuggestedResponseView.react",["cx","fbt","LoadingIndicator.react","PagesMessageSuggestedResponseHandler","React","XUIButton.react","XUIGrayText.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"PagesMessengerSuggestedResponseView",propTypes:{onAccepted:a.func.isRequired,onDeclined:a.func,suggestedResponseHandler:a.instanceOf(b("PagesMessageSuggestedResponseHandler"))},getInitialState:function(){return{shouldShowResult:!1,shouldShowProgress:!1,responseMessage:"",witMessageId:""}},_reset:function(){this.setState(this.getInitialState())},UNSAFE_componentWillReceiveProps:function(a){if(a.suggestedResponseHandler!==this.props.suggestedResponseHandler){this._reset();a=a.suggestedResponseHandler;if(!a||a.alreadyRequested())return;this.setState({shouldShowProgress:!0});a.requestSuggestedResponseAsync(this._onSuggestedResponseReceived,this._onSuggestedResponseError)}},_onSuggestedResponseReceived:function(a,b){if(!this._isMessageIDCurrent(a))return;this.setState({shouldShowProgress:!1});!!b.responseMessage&&b.responseMessage.length>0&&this.setState({shouldShowResult:!0,responseMessage:b.responseMessage,witMessageId:b.message_id})},_onSuggestedResponseError:function(a){if(!this._isMessageIDCurrent(a))return;this.setState({shouldShowProgress:!1,shouldShowResult:!1})},_isMessageIDCurrent:function(a){return!!this.props.suggestedResponseHandler&&a===this.props.suggestedResponseHandler.getMessageID()},render:function(){return b("React").createElement("div",{className:"_710 _2ph-"+(!this.state.shouldShowResult&&!this.state.shouldShowProgress?" hidden_elem":"")},this._renderProgressPart(),this._renderSuggestionPart())},_renderSuggestionPart:function(){return b("React").createElement("div",{className:this.state.shouldShowResult?"":"hidden_elem"},b("React").createElement("div",{className:"_3-94"},b("React").createElement(b("XUIGrayText.react"),{shade:"light"},h._("We found a suggested reply:"))),b("React").createElement("div",{className:"_3-94"},b("React").createElement(b("XUIGrayText.react"),{shade:"dark",className:"_711"},this.state.responseMessage)),b("React").createElement("div",{className:"_712"},b("React").createElement(b("XUIGrayText.react"),{shade:"light",className:"_3-90"},h._("Do you want to use this reply?")),b("React").createElement(b("XUIButton.react"),{label:h._("No"),use:"default",className:"_3-8_",onClick:this._onDeclined}),b("React").createElement(b("XUIButton.react"),{label:h._("Yes"),use:"confirm",onClick:this._onAccepted})))},_renderProgressPart:function(){return b("React").createElement("div",{className:(this.state.shouldShowProgress?"":"hidden_elem")+" _71d"},b("React").createElement(b("XUIGrayText.react"),{shade:"light"},h._("Looking for suggested responses")),b("React").createElement(b("LoadingIndicator.react"),{size:"small",color:"white",className:"_3-9a"}))},_hide:function(){this.setState({shouldShowResult:!1,shouldShowProgress:!1})},_onAccepted:function(){this._hide(),this.props.suggestedResponseHandler&&this.props.suggestedResponseHandler.sendFeedback(!0),this.props.onAccepted&&this.props.onAccepted(this.state.responseMessage)},_onDeclined:function(){this._hide(),this.props.suggestedResponseHandler&&this.props.suggestedResponseHandler.sendFeedback(!1),this.props.onDeclined&&this.props.onDeclined()}});e.exports=c}),null);
__d("PagesMessengerTextInput.react",["cx","AbstractTextField.react","React","TextAreaControl","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=null,this.resetHeight=function(){this.$1&&this.$1.resetHeight()}.bind(this),this.updateHeight=function(){this.$1&&this.$1.updateHeight()}.bind(this),b}a.prototype.componentDidMount=function(){"use strict";this.refs.input&&(this.$1=new(b("TextAreaControl"))(this.refs.input),this.props.onInputReady&&this.props.onInputReady(this.refs.input))};a.prototype.render=function(){"use strict";var a=b("joinClasses")(this.props.className,"_58al uiTextareaAutogrow");return b("React").createElement(b("AbstractTextField.react"),this.props,b("React").createElement("textarea",{type:"text",className:a,tabIndex:this.props.tabIndex,onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,onPaste:this.props.onPaste,onFocus:this.props.onFocus,ref:"input"}))};a.propTypes=babelHelpers["extends"]({},b("AbstractTextField.react").propTypes,{onClick:c.func,onKeyUp:c.func,onPaste:c.func,onFocus:c.func});e.exports=a}),null);
__d("PagesMessengerThreadUtils",["invariant","MessagingTag","PageMessageEnumTag"],(function(a,b,c,d,e,f,g){__p&&__p();var h="CUSTOM_TAG_",i="WITH_FLAG_",j="OWNER_",k={isFlagThread:function(a){return a&&a.page_thread_info&&"flagged"in a.page_thread_info?a.page_thread_info.flagged:!1},isPageSpecficEnumFilter:function(a){return a===b("PageMessageEnumTag").FLAG||a===b("PageMessageEnumTag").IMPORTANT?!0:!1},isCustomTagsFilter:function(a){return a.startsWith(h)},isCustomTagsWithFlagFilter:function(a){return a.startsWith(h+i)},isOwnerFilter:function(a){return a.startsWith(j)},getCustomTagsFilter:function(a,b){return h+(b?i:"")+JSON.stringify(a.sort())},parseCustomTagsFilter:function(a){this.isCustomTagsFilter(a)||g(0);var b=this.isCustomTagsWithFlagFilter(a);return JSON.parse(a.substring(h.length+(b?i.length:0)))},parseOwnerFilter:function(a){this.isOwnerFilter(a)||g(0);return a.substring(j.length)},getBatchActionMenuParam:function(a){var c=!1,d=!1,e=!1,f=!1,g=!1,h=!1,i=!1,j=!1,l=!1,m=!1;a.folder===b("MessagingTag").INBOX&&!a.is_archived?(c=!0,f=!0,k.isFlagThread(a)?i=!0:h=!0,a&&a.unread_count===0?l=!0:j=!0):a.folder===b("MessagingTag").OTHER?g=!0:a.is_archived?(d=!0,e=!0):a.folder===b("MessagingTag").PAGE_BACKGROUND&&(m=!0);a&&a.unread_count===0?l=!0:j=!0;return{showArchive:c,showDelete:d,showUnarchive:e,showSpam:f,showUnspam:g,showFlag:h,showUnflag:i,showMarkRead:j,showMarkUnread:l,showMoveToInbox:m,showHideContextCard:!1,showShowContextCard:!1}}};e.exports=k}),null);
__d("EventPlanStrings",["fbt","formatDate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=" \xb7 ";a={getStartPlanFBT:function(){return g._("Start Plan")},getLoadingPlanFBT:function(){return g._("Loading...")},getDisplayDateAndTimeFBT:function(a,c){var d=b("formatDate")(a,"g:iA"),e=d.length-5;d.substring(e,e+3)===":00"&&(d=d.substring(0,e).concat(d.substring(e+3)));e=g._("{reminder_date} at {reminder_time}",[g._param("reminder_date",b("formatDate")(a,"D M j")),g._param("reminder_time",d)]);if(c)return g._("{reminder_date_and_time}{middot_separator_for_time_and_name}{reminder_name}",[g._param("reminder_date_and_time",e),g._param("middot_separator_for_time_and_name",h),g._param("reminder_name",c)]);else return e},getMultiEventsSummary:function(a){return g._("{event_count} Upcoming Reminders",[g._param("event_count",a)])},getNextEventTime:function(a){return g._("Next: {next_reminder_date_and_time}",[g._param("next_reminder_date_and_time",this.getDisplayDateAndTimeFBT(a))])},getSubtitle:function(a,b,c){a=g._({"*":"{number} Going","_1":"1 Going"},[g._plural(a,"number")]);b?c?c=g._("{reminder_location_name}{middot_separator_for_location_and_going_members}{going_member_count}",[g._param("reminder_location_name",b),g._param("middot_separator_for_location_and_going_members",h),g._param("going_member_count",a)]):c=b:c=a;return c},getViewEventFBT:function(){return g._("View Event")},getRSVPContext:function(a){return g._({"*":"{number} Going","_1":"1 Going"},[g._plural(a,"number")])},getAssociatedEventRSVPContext:function(a,b){return g._("{going_member_count} Going {middot_separator_for_going_and_interested_members}{interested_member_count} Interested",[g._param("going_member_count",a),g._param("middot_separator_for_going_and_interested_members",h),g._param("interested_member_count",b)])},getAssociatedEventRSVPContextAsSubtitle:function(a,b){return g._("Public Event {middot_separator_for_event_name_and_going_members}{going_member_count} Going {middot_separator_for_going_and_interested_members}{interested_member_count} Interested",[g._param("middot_separator_for_event_name_and_going_members",h),g._param("going_member_count",a),g._param("middot_separator_for_going_and_interested_members",h),g._param("interested_member_count",b)])}};e.exports=a}),null);
__d("PagesCommerceBuyerNUXDialog.react",["cx","fbt","ix","Image.react","LayerFadeOnHide","LayerFadeOnShow","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIText.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=400,l="K PLUS",m=i("276000");c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$2=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").PAGES_COMMERCE_BUYER_NUX),this.props.onConfirm()}.bind(this),this.$3=function(a){a||this.$2()}.bind(this),c}a.prototype.$1=function(){return h._("OK")};a.prototype.$4=function(){return b("React").createElement("div",{className:"_1lc0"},b("React").createElement(b("XUIButton.react"),{className:"_1lcd",label:this.$1(),size:"xxlarge",use:"confirm",onClick:this.$2}))};a.prototype.$5=function(){return b("React").createElement("ul",{className:"_1lce"},b("React").createElement("li",{className:"_1lcf"},b("React").createElement(b("Image.react"),{className:"_1_2f",src:i("275996")}),b("React").createElement(b("XUIText.react"),{className:"_1_2g",size:"header3"},h._("Pay with {k_plus} or your credit or debit card.",[h._param("k_plus",l)]))),b("React").createElement("li",{className:"_1lcf"},b("React").createElement(b("Image.react"),{className:"_1_2f",src:i("275998")}),b("React").createElement(b("XUIText.react"),{className:"_1_2g",size:"header3"},h._("Payments are protected and private."))),b("React").createElement("li",{className:"_1lcf"},b("React").createElement(b("Image.react"),{className:"_1_2f",src:i("275997")}),b("React").createElement(b("XUIText.react"),{className:"_1_2g",size:"header3"},h._("FREE! No extra fees or charges."))))};a.prototype.render=function(){return!this.props.isShown?null:b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow")},onToggle:this.$3,shown:this.props.isShown,width:this.props.width||k},b("React").createElement(b("XUIDialogBody.react"),{className:"_52jv"},b("React").createElement(b("Image.react"),{className:"_1lcg",src:m}),b("React").createElement("div",{className:"_1lci"},h._("Instant, secure payments on Messenger.")),this.$5(),this.$4()))};e.exports=a}),null);
__d("InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"InstantGameLogCustomEventData!",defaultValue:null}],b=[{kind:"LinkedField",alias:"logCustomEvent",name:"instant_game_log_custom_event",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"InstantGameLogCustomEventData!"}],concreteType:"InstantGameLogCustomEventResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"client_mutation_id",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"mutation",name:"InstantGamesAnalyticsLogger_LogCustomAppEventMutation",id:"1543857295701947",text:null,metadata:{},fragment:{kind:"Fragment",name:"InstantGamesAnalyticsLogger_LogCustomAppEventMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"InstantGamesAnalyticsLogger_LogCustomAppEventMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("MessengerGamesCustomUpdateAdminContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"gameID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"gameID",type:"ID!"}];return{kind:"Request",operationKind:"query",name:"MessengerGamesCustomUpdateAdminContainerQuery",id:"1444897842249195",text:null,metadata:{},fragment:{kind:"Fragment",name:"MessengerGamesCustomUpdateAdminContainerQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"Application",selections:[{kind:"LinkedField",alias:"gameInfo",name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerGamesCustomUpdateAdmin_gameInfo",args:null}]}]}]}]},operation:{kind:"Operation",name:"MessengerGamesCustomUpdateAdminContainerQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"InlineFragment",type:"Application",selections:[{kind:"LinkedField",alias:"gameInfo",name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:!1,selections:[{kind:"ScalarField",alias:"name",name:"game_name",args:null,storageKey:null},{kind:"ScalarField",alias:"iconURI",name:"icon_uri",args:null,storageKey:null}]}]}]}]}}}();e.exports=a}),null);
__d("MessengerGamesCustomUpdateAdmin_gameInfo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MessengerGamesCustomUpdateAdmin_gameInfo",type:"GamesInstantPlayStyleInfo",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:"name",name:"game_name",args:null,storageKey:null},{kind:"ScalarField",alias:"iconURI",name:"icon_uri",args:null,storageKey:null}]};e.exports=a}),null);
__d("MessengerGamesLeaderboardProfileImageQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"userID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"userID",type:"ID!"}],c={kind:"LinkedField",alias:"profilePicture",name:"profile_picture",storageKey:"profile_picture(height:40,width:40)",args:[{kind:"Literal",name:"height",value:40,type:"Int"},{kind:"Literal",name:"width",value:40,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"MessengerGamesLeaderboardProfileImageQuery",id:"1819003481478242",text:null,metadata:{},fragment:{kind:"Fragment",name:"MessengerGamesLeaderboardProfileImageQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:b,concreteType:"User",plural:!1,selections:[c]}]},operation:{kind:"Operation",name:"MessengerGamesLeaderboardProfileImageQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:b,concreteType:"User",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}}}();e.exports=a}),null);
__d("ServicesAppointmentCreateScheduleDialogRootAppointmentsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"userID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"should_show_page_admin_calendar_view",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"card_visibility",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},g={kind:"LinkedField",alias:null,name:"catalog_items",storageKey:"catalog_items(first:100)",args:[{kind:"Literal",name:"first",value:100,type:"Int"}],concreteType:"ProductCatalogToProductItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ProductCatalogToProductItemsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"ProductItem",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"duration_in_seconds",args:null,storageKey:null},f]}]}]},h={kind:"ScalarField",alias:null,name:"should_allow_admin_enter_customer_notes",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"time_zone_name",args:null,storageKey:null},j=[{kind:"Variable",name:"id",variableName:"userID",type:"ID!"}];return{kind:"Request",operationKind:"query",name:"ServicesAppointmentCreateScheduleDialogRootAppointmentsQuery",id:"1597072830383611",text:null,metadata:{},fragment:{kind:"Fragment",name:"ServicesAppointmentCreateScheduleDialogRootAppointmentsQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[c,d,{kind:"LinkedField",alias:null,name:"services_card",storageKey:null,args:null,concreteType:"PageServicesCard",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"product_catalog",storageKey:null,args:null,concreteType:"ProductCatalog",plural:!1,selections:[g]}]},{kind:"LinkedField",alias:null,name:"services_vertical_info",storageKey:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",plural:!1,selections:[h,i]},{kind:"FragmentSpread",name:"ServicesAppointmentCreateScheduleDialog_thread",args:[{kind:"Variable",name:"userID",variableName:"userID",type:null}]}]},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:j,concreteType:"User",plural:!1,selections:[{kind:"FragmentSpread",name:"ServicesAppointmentCreateScheduleDialog_user",args:null}]}]},operation:{kind:"Operation",name:"ServicesAppointmentCreateScheduleDialogRootAppointmentsQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[c,d,{kind:"LinkedField",alias:null,name:"services_card",storageKey:null,args:null,concreteType:"PageServicesCard",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"product_catalog",storageKey:null,args:null,concreteType:"ProductCatalog",plural:!1,selections:[g,c]},c]},{kind:"LinkedField",alias:null,name:"services_vertical_info",storageKey:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",plural:!1,selections:[h,i,{kind:"ScalarField",alias:null,name:"thread_id",args:[{kind:"Variable",name:"user_id",variableName:"userID",type:"ID"}],storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:j,concreteType:"User",plural:!1,selections:[c,f,{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:70,width:70)",args:[{kind:"Literal",name:"height",value:70,type:"Int"},{kind:"Literal",name:"width",value:70,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]}]}]}}}();e.exports=a}),null);
__d("ServicesAppointmentCreateScheduleDialogRootManualCreateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"should_show_page_admin_calendar_view",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"card_visibility",args:null,storageKey:null},f={kind:"LinkedField",alias:null,name:"catalog_items",storageKey:"catalog_items(first:100)",args:[{kind:"Literal",name:"first",value:100,type:"Int"}],concreteType:"ProductCatalogToProductItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ProductCatalogToProductItemsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"ProductItem",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"duration_in_seconds",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]}]}]},g={kind:"LinkedField",alias:null,name:"services_vertical_info",storageKey:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"should_allow_admin_enter_customer_notes",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"time_zone_name",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"ServicesAppointmentCreateScheduleDialogRootManualCreateQuery",id:"1542244382561371",text:null,metadata:{},fragment:{kind:"Fragment",name:"ServicesAppointmentCreateScheduleDialogRootManualCreateQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[c,d,{kind:"LinkedField",alias:null,name:"services_card",storageKey:null,args:null,concreteType:"PageServicesCard",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"product_catalog",storageKey:null,args:null,concreteType:"ProductCatalog",plural:!1,selections:[f]}]},g]}]},operation:{kind:"Operation",name:"ServicesAppointmentCreateScheduleDialogRootManualCreateQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[c,d,{kind:"LinkedField",alias:null,name:"services_card",storageKey:null,args:null,concreteType:"PageServicesCard",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"product_catalog",storageKey:null,args:null,concreteType:"ProductCatalog",plural:!1,selections:[f,c]},c]},g]}]}}}();e.exports=a}),null);
__d("ServicesAppointmentCreateScheduleDialogRootScheduleQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"requestID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"userID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"should_show_page_admin_calendar_view",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"card_visibility",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"duration_in_seconds",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},h={kind:"LinkedField",alias:null,name:"catalog_items",storageKey:"catalog_items(first:100)",args:[{kind:"Literal",name:"first",value:100,type:"Int"}],concreteType:"ProductCatalogToProductItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ProductCatalogToProductItemsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"ProductItem",plural:!1,selections:[c,f,g]}]}]},i={kind:"ScalarField",alias:null,name:"should_allow_admin_enter_customer_notes",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"time_zone_name",args:null,storageKey:null},k=[{kind:"Variable",name:"id",variableName:"userID",type:"ID!"}],l=[{kind:"Variable",name:"id",variableName:"requestID",type:"ID!"}],m={kind:"ScalarField",alias:null,name:"requested_time",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"appointment_type",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"booking_status",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"consumer_name",args:null,storageKey:null};f={kind:"LinkedField",alias:null,name:"product_item",storageKey:null,args:null,concreteType:"ProductItem",plural:!1,selections:[c,g,f]};var q={kind:"LinkedField",alias:null,name:"additional_info",storageKey:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"field_key",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]},r=[{kind:"Literal",name:"first",value:1,type:"Int"}],s={kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},t={kind:"ScalarField",alias:null,name:"request_flow_type",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"service_general_info",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"start_time",args:null,storageKey:null},w={kind:"LinkedField",alias:null,name:"suggested_time_range",storageKey:null,args:null,concreteType:"TimeRange",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"start",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"ServicesAppointmentCreateScheduleDialogRootScheduleQuery",id:"1866674990062387",text:null,metadata:{},fragment:{kind:"Fragment",name:"ServicesAppointmentCreateScheduleDialogRootScheduleQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"page",name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[c,d,{kind:"LinkedField",alias:null,name:"services_card",storageKey:null,args:null,concreteType:"PageServicesCard",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"product_catalog",storageKey:null,args:null,concreteType:"ProductCatalog",plural:!1,selections:[h]}]},{kind:"LinkedField",alias:null,name:"services_vertical_info",storageKey:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",plural:!1,selections:[i,j]},{kind:"FragmentSpread",name:"ServicesAppointmentCreateScheduleDialog_thread",args:[{kind:"Variable",name:"userID",variableName:"userID",type:null}]}]},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:k,concreteType:"User",plural:!1,selections:[{kind:"FragmentSpread",name:"ServicesAppointmentCreateScheduleDialog_user",args:null}]},{kind:"LinkedField",alias:"appointment",name:"node",storageKey:null,args:l,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"NativeComponentFlowBookingRequest",selections:[m,c,n,o,p,f,q,{kind:"LinkedField",alias:null,name:"request_note",storageKey:"request_note(first:1)",args:r,concreteType:"PagesPlatformNoteFromComponentFlowRequestConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PagesPlatformNoteFromComponentFlowRequestEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"PagesPlatformNote",plural:!1,selections:[s]}]}]},t,u,v,w]}]}]},operation:{kind:"Operation",name:"ServicesAppointmentCreateScheduleDialogRootScheduleQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"page",name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[c,d,{kind:"LinkedField",alias:null,name:"services_card",storageKey:null,args:null,concreteType:"PageServicesCard",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"product_catalog",storageKey:null,args:null,concreteType:"ProductCatalog",plural:!1,selections:[h,c]},c]},{kind:"LinkedField",alias:null,name:"services_vertical_info",storageKey:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",plural:!1,selections:[i,j,{kind:"ScalarField",alias:null,name:"thread_id",args:[{kind:"Variable",name:"user_id",variableName:"userID",type:"ID"}],storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:k,concreteType:"User",plural:!1,selections:[c,g,{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:70,width:70)",args:[{kind:"Literal",name:"height",value:70,type:"Int"},{kind:"Literal",name:"width",value:70,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:"appointment",name:"node",storageKey:null,args:l,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},c,{kind:"InlineFragment",type:"NativeComponentFlowBookingRequest",selections:[m,n,o,p,f,q,{kind:"LinkedField",alias:null,name:"request_note",storageKey:"request_note(first:1)",args:r,concreteType:"PagesPlatformNoteFromComponentFlowRequestConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PagesPlatformNoteFromComponentFlowRequestEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"PagesPlatformNote",plural:!1,selections:[s,c]}]}]},t,u,v,w]}]}]}}}();e.exports=a}),null);
__d("ServicesAppointmentCreateScheduleDialog_appointment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"ServicesAppointmentCreateScheduleDialog_appointment",type:"NativeComponentFlowBookingRequest",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"requested_time",args:null,storageKey:null},a,{kind:"ScalarField",alias:null,name:"appointment_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"booking_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"consumer_name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"product_item",storageKey:null,args:null,concreteType:"ProductItem",plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"duration_in_seconds",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"additional_info",storageKey:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"field_key",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"request_note",storageKey:"request_note(first:1)",args:[{kind:"Literal",name:"first",value:1,type:"Int"}],concreteType:"PagesPlatformNoteFromComponentFlowRequestConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PagesPlatformNoteFromComponentFlowRequestEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"PagesPlatformNote",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]}]}]}]},{kind:"ScalarField",alias:null,name:"request_flow_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"service_general_info",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_time",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"suggested_time_range",storageKey:null,args:null,concreteType:"TimeRange",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"start",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end",args:null,storageKey:null}]}]}}();e.exports=a}),null);
__d("ServicesAppointmentCreateScheduleDialog_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"ServicesAppointmentCreateScheduleDialog_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[a,{kind:"ScalarField",alias:null,name:"should_show_page_admin_calendar_view",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"services_card",storageKey:null,args:null,concreteType:"PageServicesCard",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"card_visibility",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"product_catalog",storageKey:null,args:null,concreteType:"ProductCatalog",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"catalog_items",storageKey:"catalog_items(first:100)",args:[{kind:"Literal",name:"first",value:100,type:"Int"}],concreteType:"ProductCatalogToProductItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ProductCatalogToProductItemsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"ProductItem",plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"duration_in_seconds",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]}]}]}]}]},{kind:"LinkedField",alias:null,name:"services_vertical_info",storageKey:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"should_allow_admin_enter_customer_notes",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"time_zone_name",args:null,storageKey:null}]}]}}();e.exports=a}),null);
__d("ServicesAppointmentCreateScheduleDialog_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"ServicesAppointmentCreateScheduleDialog_thread",type:"Page",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"userID",type:"ID",defaultValue:null}],selections:[{kind:"LinkedField",alias:null,name:"services_vertical_info",storageKey:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_id",args:[{kind:"Variable",name:"user_id",variableName:"userID",type:"ID"}],storageKey:null}]}]};e.exports=a}),null);
__d("ServicesAppointmentCreateScheduleDialog_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"ServicesAppointmentCreateScheduleDialog_user",type:"User",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"dimension",type:"Int",defaultValue:70}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"dimension",type:"Int"},{kind:"Variable",name:"width",variableName:"dimension",type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("ServicesAppointmentMutationUtilsApproveAppointmentMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"InstantBookingConfirmAppointmentData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"instant_booking_confirm_appointment",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"InstantBookingConfirmAppointmentData!"}],concreteType:"InstantBookingConfirmAppointmentResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"request",storageKey:null,args:null,concreteType:"NativeComponentFlowBookingRequest",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"ServicesAppointmentMutationUtilsApproveAppointmentMutation",id:"1706697342750077",text:null,metadata:{},fragment:{kind:"Fragment",name:"ServicesAppointmentMutationUtilsApproveAppointmentMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ServicesAppointmentMutationUtilsApproveAppointmentMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("ServicesAppointmentMutationUtilsArchiveAppointmentMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"ServicesArchiveRequestData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"services_archive_request",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"ServicesArchiveRequestData!"}],concreteType:"ServicesArchiveRequestResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"request",storageKey:null,args:null,concreteType:"NativeComponentFlowBookingRequest",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"ServicesAppointmentMutationUtilsArchiveAppointmentMutation",id:"1722603757792044",text:null,metadata:{},fragment:{kind:"Fragment",name:"ServicesAppointmentMutationUtilsArchiveAppointmentMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ServicesAppointmentMutationUtilsArchiveAppointmentMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("ServicesAppointmentMutationUtilsAvailabilityMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"ServicesCreateAppointmentAvailabilityData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"services_create_appointment_availability",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"ServicesCreateAppointmentAvailabilityData!"}],concreteType:"ServicesCreateAppointmentAvailabilityResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"services_appointment_availability",storageKey:null,args:null,concreteType:"ServicesAppointmentAvailability",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"ServicesAppointmentMutationUtilsAvailabilityMutation",id:"1842285185830680",text:null,metadata:{},fragment:{kind:"Fragment",name:"ServicesAppointmentMutationUtilsAvailabilityMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ServicesAppointmentMutationUtilsAvailabilityMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("ServicesAppointmentMutationUtilsMarkAsSeenMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"ServicesRequestsSeenByAdminsData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"services_requests_seen_by_admins",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"ServicesRequestsSeenByAdminsData!"}],concreteType:"ServicesRequestsSeenByAdminsResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"total",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"mutation",name:"ServicesAppointmentMutationUtilsMarkAsSeenMutation",id:"1943563162324807",text:null,metadata:{},fragment:{kind:"Fragment",name:"ServicesAppointmentMutationUtilsMarkAsSeenMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ServicesAppointmentMutationUtilsMarkAsSeenMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("ServicesAppointmentMutationUtilsRequestStatusUpdateMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"NativeBookingRequestStatusUpdateData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"native_booking_request_status_update",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"NativeBookingRequestStatusUpdateData!"}],concreteType:"NativeBookingRequestStatusUpdateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"request",storageKey:null,args:null,concreteType:"NativeComponentFlowBookingRequest",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"ServicesAppointmentMutationUtilsRequestStatusUpdateMutation",id:"1533040073483876",text:null,metadata:{},fragment:{kind:"Fragment",name:"ServicesAppointmentMutationUtilsRequestStatusUpdateMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ServicesAppointmentMutationUtilsRequestStatusUpdateMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("ServicesAppointmentViewDetailsDialogRootQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"requestID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"userID",type:"ID!",defaultValue:null}],b={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c={kind:"LinkedField",alias:"page",name:"page",storageKey:null,args:[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],concreteType:"Page",plural:!1,selections:[b,{kind:"LinkedField",alias:null,name:"services_vertical_info",storageKey:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"time_zone_name",args:null,storageKey:null}]}]},d=[{kind:"Variable",name:"id",variableName:"userID",type:"ID!"}],e=[{kind:"Variable",name:"id",variableName:"requestID",type:"ID!"}],f={kind:"ScalarField",alias:null,name:"special_request",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"booking_status",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"consumer_name",args:null,storageKey:null},i=[b],j={kind:"LinkedField",alias:null,name:"page_comm_item",storageKey:null,args:null,concreteType:"PageCommItem",plural:!1,selections:i},k={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"requested_time",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"service_general_info",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"appointment_type",args:null,storageKey:null},o={kind:"LinkedField",alias:null,name:"consumer_phone_number",storageKey:null,args:null,concreteType:"PhoneNumber",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"country_code",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"display_number",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"extension",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"national_number",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"universal_number",args:null,storageKey:null}]},p={kind:"LinkedField",alias:null,name:"suggested_time_range",storageKey:null,args:null,concreteType:"TimeRange",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"start",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end",args:null,storageKey:null}]},q={kind:"ScalarField",alias:null,name:"user_availability",args:null,storageKey:null},r={kind:"LinkedField",alias:null,name:"additional_info",storageKey:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"field_key",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]};i={kind:"LinkedField",alias:null,name:"job_application",storageKey:null,args:null,concreteType:"JobApplication",plural:!1,selections:i};var s={kind:"ScalarField",alias:null,name:"request_flow_type",args:null,storageKey:null},t={kind:"LinkedField",alias:null,name:"request_note",storageKey:"request_note(first:1)",args:[{kind:"Literal",name:"first",value:1,type:"Int"}],concreteType:"PagesPlatformNoteFromComponentFlowRequestConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PagesPlatformNoteFromComponentFlowRequestEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"PagesPlatformNote",plural:!1,selections:[b,{kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]}]}]}]};return{kind:"Request",operationKind:"query",name:"ServicesAppointmentViewDetailsDialogRootQuery",id:"1947407345334167",text:null,metadata:{},fragment:{kind:"Fragment",name:"ServicesAppointmentViewDetailsDialogRootQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[c,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:d,concreteType:"User",plural:!1,selections:[{kind:"FragmentSpread",name:"ServicesAppointmentViewDetailsDialog_user",args:null}]},{kind:"LinkedField",alias:"appointment",name:"node",storageKey:null,args:e,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"NativeComponentFlowBookingRequest",selections:[f,b,g,h,j,{kind:"LinkedField",alias:null,name:"product_item",storageKey:null,args:null,concreteType:"ProductItem",plural:!1,selections:[k]},l,m,n,o,p,q,r,i,s,t]}]}]},operation:{kind:"Operation",name:"ServicesAppointmentViewDetailsDialogRootQuery",argumentDefinitions:a,selections:[c,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:d,concreteType:"User",plural:!1,selections:[b,k,{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:70,width:70)",args:[{kind:"Literal",name:"height",value:70,type:"Int"},{kind:"Literal",name:"width",value:70,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:"appointment",name:"node",storageKey:null,args:e,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},b,{kind:"InlineFragment",type:"NativeComponentFlowBookingRequest",selections:[f,g,h,j,{kind:"LinkedField",alias:null,name:"product_item",storageKey:null,args:null,concreteType:"ProductItem",plural:!1,selections:[k,b]},l,m,n,o,p,q,r,i,s,t]}]}]}}}();e.exports=a}),null);
__d("ServicesAppointmentViewDetailsDialog_appointment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b=[a];return{kind:"Fragment",name:"ServicesAppointmentViewDetailsDialog_appointment",type:"NativeComponentFlowBookingRequest",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"special_request",args:null,storageKey:null},a,{kind:"ScalarField",alias:null,name:"booking_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"consumer_name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"page_comm_item",storageKey:null,args:null,concreteType:"PageCommItem",plural:!1,selections:b},{kind:"LinkedField",alias:null,name:"product_item",storageKey:null,args:null,concreteType:"ProductItem",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"requested_time",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"service_general_info",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"appointment_type",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"consumer_phone_number",storageKey:null,args:null,concreteType:"PhoneNumber",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"country_code",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"display_number",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"extension",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"national_number",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"universal_number",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"suggested_time_range",storageKey:null,args:null,concreteType:"TimeRange",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"start",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"user_availability",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"additional_info",storageKey:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"field_key",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"job_application",storageKey:null,args:null,concreteType:"JobApplication",plural:!1,selections:b},{kind:"ScalarField",alias:null,name:"request_flow_type",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"request_note",storageKey:"request_note(first:1)",args:[{kind:"Literal",name:"first",value:1,type:"Int"}],concreteType:"PagesPlatformNoteFromComponentFlowRequestConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PagesPlatformNoteFromComponentFlowRequestEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"PagesPlatformNote",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]}]}]}]}]}}();e.exports=a}),null);
__d("ServicesAppointmentViewDetailsDialog_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"ServicesAppointmentViewDetailsDialog_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"services_vertical_info",storageKey:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"time_zone_name",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("ServicesAppointmentViewDetailsDialog_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"ServicesAppointmentViewDetailsDialog_user",type:"User",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"dimension",type:"Int",defaultValue:70}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"dimension",type:"Int"},{kind:"Variable",name:"width",variableName:"dimension",type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("PagesMessagingPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:PagesMessagingPerfLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:PagesMessagingPerfLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PagesMessagingPerfLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEventName=function(a){this.$1.event_name=a;return this};a.prototype.setExceptionCode=function(a){this.$1.exception_code=a;return this};a.prototype.setExceptionMessage=function(a){this.$1.exception_message=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setPerfTime=function(a){this.$1.perf_time=a;return this};a.prototype.setStack=function(a){this.$1.stack=a;return this};a.prototype.setThreadOffset=function(a){this.$1.thread_offset=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={event_name:!0,exception_code:!0,exception_message:!0,page_id:!0,perf_time:!0,stack:!0,thread_offset:!0,vc:!0};e.exports=a}),null);
__d("ServicesLeadGenBookableTasksSurveyTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ServicesLeadGenBookableTasksSurveyLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ServicesLeadGenBookableTasksSurveyLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ServicesLeadGenBookableTasksSurveyLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAdditionalData=function(a){this.$1.additional_data=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setCurrentView=function(a){this.$1.current_view=a;return this};a.prototype.setErrorMessage=function(a){this.$1.error_message=a;return this};a.prototype.setErrorTrace=function(a){this.$1.error_trace=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setOtherBookableTasks=function(a){this.$1.other_bookable_tasks=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setReferrer=function(a){this.$1.referrer=a;return this};a.prototype.setSelectedBookableTasks=function(a){this.$1.selected_bookable_tasks=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setSessionID=function(a){this.$1.session_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={additional_data:!0,current_view:!0,error_message:!0,error_trace:!0,event:!0,other_bookable_tasks:!0,page_id:!0,referrer:!0,selected_bookable_tasks:!0,session_id:!0,vc:!0};e.exports=a}),null);
__d("PagesMessagingPerfLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SEND_MESSAGE_JS_HANDLE_ERROR:"messages_send_message_js_handle_error",MESSAGELIST_LOAD_START:"messages_messagelist_load_start",MESSAGELIST_LOAD_END:"messages_messagelist_load_end",THREADLIST_LOAD_MORE_EVENT:"threadlist_load_more",THREADLIST_RENDER_COMPLETE_EVENT:"threadlist_render_complete",SEND_MESSAGE_JS_EXCEPTION:"messages_send_message_js_exception",SEND_MESSAGE_JS_END:"messages_send_message_js_end",SEND_MESSAGE_JS_START:"messages_send_message_js_start",COMPOSER_BLOCKED_WITH_WARNING:"composer_blocked_with_warning"})}),null);
__d("MercuryPageServerRequests",["CurrentUser","MercuryAPIArgsSource","MercuryAssert","MercuryServerDispatcher","MercuryServerRequests","MercurySingletonProvider","MessagingTag","MessengerServerPayloadTransformer.bs","PageMessageEnumTag","PagesMessagingPerfLoggerEvent","PagesMessagingPerfTypedLogger","PagesMessengerThreadUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("MercuryAPIArgsSource").MERCURY;a=babelHelpers.inherits(i,b("MercuryServerRequests"));g=a&&a.prototype;i.getForFBID=function(a){return j.getForFBID(a)};i.get=function(){return j.get()};function i(a){g.constructor.call(this,a);a={"/pages/messaging/thread_tag/add/":{request_user_id:a,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,batch_function:this.$MercuryPageServerRequests1,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},"/pages/messaging/thread_tag/remove/":{request_user_id:a,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,batch_function:this.$MercuryPageServerRequests1,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},"/pages/messaging/thread_tag/list/":{request_user_id:a,mode:b("MercuryServerDispatcher").IMMEDIATE,handler:function(a,b){return this.$MercuryPageServerRequests2(a,b)}.bind(this)},"/pages/messaging/thread_custom_tags/list/":{request_user_id:a,mode:b("MercuryServerDispatcher").IMMEDIATE,handler:function(a,b){return this.$MercuryPageServerRequests2(a,b)}.bind(this)},"/pages/messaging/create_note/":{request_user_id:a,mode:b("MercuryServerDispatcher").IMMEDIATE,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},"/pages/messaging/owner/list/":{request_user_id:a,mode:b("MercuryServerDispatcher").IMMEDIATE,handler:function(a,b){return this.$MercuryPageServerRequests2(a,b)}.bind(this)}};b("MercuryServerDispatcher").registerEndpoints(a)}i.prototype.$MercuryPageServerRequests2=function(a,c){if(a.graphql_payload){var d=a.graphql_payload.map(function(c){return b("MessengerServerPayloadTransformer.bs").transformThread(a.viewer,c,a.for_page)});d={ordered_threadlists:a.ordered_threadlists,payload_source:a.payload_source,threads:d};this.__handleUpdate(d,c)}else this.__handleUpdate(a,c)};i.prototype.$MercuryPageServerRequests1=function(a,b){var c=a?a.tag_name:b.tag_name;a=a?a.thread_ids:[];b=b?b.thread_ids:[];a=a.concat(b);b={tag_name:c,thread_ids:a};return b};i.prototype.addThreadFlag=function(a,c){b("MercuryAssert").isThreadID(a),this.__threadIDMap.getServerIDFromClientID(a,function(a){a={thread_ids:[a],tag_name:b("PageMessageEnumTag").FLAG};this.__sendRequest("/pages/messaging/thread_tag/add/",a)}.bind(this))};i.prototype.createNote=function(a,c,d){b("MercuryAssert").isThreadID(d),this.__threadIDMap.getServerIDFromClientID(d,function(b){b={body:a,message_id:c,other_user_fbid:b};this.__sendRequest("/pages/messaging/create_note/",b)}.bind(this))};i.prototype.fetchThreadlistInfo=function(a,c,d,e,f,i){__p&&__p();d===void 0&&(d=b("MessagingTag").INBOX);f===void 0&&(f=h);var j={folder:d,offset:a,limit:c,tag_name:null,custom_tags_filter:null,custom_tags:[],enum_tag:"",owner:"",owner_filter:null};if(b("PagesMessengerThreadUtils").isPageSpecficEnumFilter(e)){j.tag_name=e;this.__sendRequest("/pages/messaging/thread_tag/list/",j);return}if(e&&b("PagesMessengerThreadUtils").isCustomTagsFilter(e)){j.custom_tags_filter=e;j.custom_tags=b("PagesMessengerThreadUtils").parseCustomTagsFilter(e);b("PagesMessengerThreadUtils").isCustomTagsWithFlagFilter(e)&&(j.enum_tag=b("PageMessageEnumTag").FLAG);this.__sendRequest("/pages/messaging/thread_custom_tags/list/",j);return}if(e&&b("PagesMessengerThreadUtils").isOwnerFilter(e)){j.owner_filter=e;j.owner=b("PagesMessengerThreadUtils").parseOwnerFilter(e);this.__sendRequest("/pages/messaging/owner/list/",j);return}g.fetchThreadlistInfo.call(this,a,c,d,e,f,i)};i.prototype.removeThreadFlag=function(a,c){b("MercuryAssert").isThreadID(a),this.__threadIDMap.getServerIDFromClientID(a,function(a){a={thread_ids:[a],tag_name:b("PageMessageEnumTag").FLAG};this.__sendRequest("/pages/messaging/thread_tag/remove/",a)}.bind(this))};i.prototype.toString=function(){return"MercuryPageServerRequests"};i.prototype.__logMercurySendError=function(a){new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.__getFBID()).setEventName(b("PagesMessagingPerfLoggerEvent").SEND_MESSAGE_JS_HANDLE_ERROR).setExceptionMessage(a.error_data.description).setExceptionCode(a.error_data.code).log(),g.__logMercurySendError.call(this,a)};i.prototype.__getForAsyncRequest=function(a){a=a.getData();a=a.request_user_id?a.request_user_id:b("CurrentUser").getID();return i.getForFBID(a)};var j=new(b("MercurySingletonProvider"))(i);e.exports=i}),null);
__d("MercuryPageMessageActions",["MercuryActionType","MercuryMessageActions","MercuryPageServerRequests","MercuryPayloadSource","MercurySingletonMixin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("MercuryMessageActions"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.__serverRequests=b("MercuryPageServerRequests").getForFBID(a)}a.prototype.createNote=function(a,c,d){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({action_type:b("MercuryActionType").CREATE_PAGE_ADMIN_NOTE,message_id:d,note:a,thread_id:c},b("MercuryPayloadSource").CLIENT_CREATE_PAGE_ADMIN_NOTE)),this.__serverRequests.createNote(a.body.text,d,c)};Object.assign(a,b("MercurySingletonMixin"),{_instances:{}});e.exports=a}),null);
__d("MercuryPageThreadActions",["MercuryActionType","MercuryPageServerRequests","MercuryPayloadSource","MercurySingletonMixin","MercuryThreadActions","MessagingTag"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("MercuryThreadActions"));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this,a),this.__serverRequests=b("MercuryPageServerRequests").getForFBID(a)}a.prototype.addFlag=function(a,b){"use strict";this.batchFlag([a],b)};a.prototype.batchAddFlag=function(a,b){"use strict";a.forEach(function(a){this.__serverRequests.addThreadFlag(a,b)}.bind(this)),this.__dispatcher.handleUpdate(this.$MercuryPageThreadActions1(a,!0,b))};a.prototype.removeFlag=function(a,b){"use strict";this.batchRemoveFlag([a],b)};a.prototype.batchRemoveFlag=function(a,b){"use strict";a.forEach(function(a){this.__serverRequests.removeThreadFlag(a,b)}.bind(this)),this.__dispatcher.handleUpdate(this.$MercuryPageThreadActions1(a,!1,b))};a.prototype.batchChangeFolderToBackground=function(a,c){"use strict";this.batchChangeFolder(a,b("MessagingTag").PAGE_BACKGROUND)};a.prototype.batchChangeFolderToInbox=function(a,c){"use strict";this.batchChangeFolder(a,b("MessagingTag").INBOX)};a.prototype.$MercuryPageThreadActions1=function(a,c,d){"use strict";return this.__constructClientPayload(a,b("MercuryActionType").CHANGE_FLAG,b("MercuryPayloadSource").CLIENT_CHANGE_FLAG,{mark_as_flag:c,source:d})};Object.assign(a,b("MercurySingletonMixin"),{_instances:{}});e.exports=a}),null);
__d("MercuryLWARenderer",["MercuryConfig","MessengerLightweightActionUtils","MessengerTextWithEntities.react","React","TextWithEntities.react"],(function(a,b,c,d,e,f){"use strict";a={renderCollapsedText:function(a){var c=null;b("MercuryConfig").MessengerNewEmojiGK?c=b("React").createElement(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:b("MessengerLightweightActionUtils").getCollapsedLWAText(a)}):c=b("React").createElement(b("TextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:b("MessengerLightweightActionUtils").getCollapsedLWAText(a)});return b("React").createElement("span",null,c)}};e.exports=a}),null);
__d("MNCommerceLoggerEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ANONYMOUS_MESSAGE_COPYBACK:"anonymous_message_copyback",ANONYMOUS_MESSAGE_COPYBACK_NO_WEBHOOK:"anonymous_message_copyback_no_webhook",ANONYMOUS_MESSAGE_COPYBACK_END:"anonymous_message_copyback_end",ANONYMOUS_MESSAGE_COPYBACK_ERROR:"anonymous_message_copyback_error",ANONYMOUS_MESSAGE_COPYBACK_FAILURE:"anonymous_message_copyback_failure",ANONYMOUS_MESSAGE_WRONG_TRIGGER:"anonymous_message_wrong_trigger",ANONYMOUS_MESSAGE_DELETE_ADMIN_TEXT_FAILURE:"anonymous_message_delete_admin_text_failure",ANONYMOUS_MESSAGE_OBSERVER_FAILURE:"anonymous_message_observer_failure",USER_REPLY_TO_ANONYMOUS_MESSAGE:"user_reply_to_anonymous_message",PAGE_SEND_ANONYMOUS_MESSAGE:"page_send_anonymous_message",PAGE_SEND_ADMIN_TEXT_FOR_ANONYMOUS_MESSAGE:"page_send_admin_text_for_anonymous_message",RECEIVE_API_LATENCY:"receive_api_latency",NLP_API_LATENCY:"nlp_api_latency",NLP_API_FAILED:"nlp_api_failed",EVENTS_PUSH_SUCCESS:"events_push_success",EVENTS_PUSH_FAILED:"events_push_failed",ENTITY_CONFIGURATION_ERROR:"entity_configuration_error",ENTITY_SUBSCRIPTION_SUCCESS:"entity_subscribed",ENTITY_UNSUBSCRIPTION_SUCCESS:"entity_unsubscribed",ENTITY_UNSUBSCRIPTION_FAILED:"entity_unsubscribe_request_failed",ENTITY_SUBSCRIPTION_FAILED:"entity_subscribe_request_failed",APP_TO_PAGE_ASSOC_DELETE_FAILED:"app_to_page_assoc_delete_failed",APP_TO_PAGE_ASSOC_SET_FAILED:"app_to_page_assoc_set_failed",TAO_EXCEPTION:"tao_exception",IRIS_SUBSCRIPTION_NOTIFY:"iris_subscription_notify",RECEIVE_API_E2E_HANDLER_FAILURE:"receive_api_e2e_handler_failure",SKIPPED_STALE_DELTA_NEW_MESSAGE:"skipped_stale_delta_new_message",CHECK_INTERNAL_URI_FAILED:"check_internal_uril_failed",REMOVE_ALERT_ERROR:"remove_alert_error",SET_ALERT_ERROR:"set_alert_error",RECEIVE_API_IRIS_HANDLER_FAILURE:"receive_api_iris_handler_failure",RTCS_COUNTER_GET_FAILURE:"rtcs_counter_get_failure",MATCHED_USER_ID_NOT_FOUND:"matched_user_id_not_found",MATCHED_USER_ID_LOW_CONFIDENCE:"matched_user_id_low_confidence",MATCHED_USER_ID_HIGH_CONFIDENCE:"matched_user_id_high_confidence",MATCHED_USER_ID_HIGH_CONFIDENCE_NOT_EVERYONE:"matched_user_id_high_confidence_not_everyone",SEND_API_ERROR:"send_api_error",SEND_API_LATENCY:"send_api_latency",SEND_MESSAGE_WITH_AUDIO:"send_message_with_audio",SEND_MESSAGE_WITH_FILE:"send_message_with_file",SEND_MESSAGE_WITH_IMAGE:"send_message_with_image",SEND_MESSAGE_WITH_TEXT:"send_message_with_text",SEND_MESSAGE_WITH_VIDEO:"send_message_with_video",SEND_MESSAGE_WITH_ROBOTEXT:"send_message_with_robotext",SEND_MESSAGE_WITH_ATTACHMENT:"send_message_with_attachment",SEND_MESSAGE_WITH_LOG_MESSAGE:"send_message_with_log_message",SEND_MESSAGE_FAILURE:"send_message_failure",SEND_MESSAGE_INNER_FAILURE:"send_message_inner_failure",SEND_MESSAGE_WITH_AD_TEXT:"send_ad_message_with_text",SEND_MESSAGE_WITH_AD_ATTACHMENT:"send_ad_message_with_attachment",UPLOAD_API_ERROR:"upload_api_error",ID_CONVERSION_ERROR:"id_conversion_error",ID_CONVERSION_SUCCESS:"id_conversion_success",GIF_UPLOAD:"gif_upload",HIGH_MPS_ON:"high_mps_on",HIGH_MPS_OFF:"high_mps_off",USER_PROFILE_API_FAILED:"user_profile_api_failed",PASS_THREAD_CONTROL:"pass_thread_control",REQUEST_THREAD_CONTROL:"request_thread_control",TAKE_THREAD_CONTROL:"take_thread_control",HOP_MOVE_TO_BACKGROUND:"hop_move_to_background",HOP_MOVE_TO_BACKGROUND_ERROR:"hop_move_to_background_error",HOP_COMM_ITEM_MUTATION_ERROR:"hop_comm_item_mutation_error",HOP_BACKGROUND_DELTATHREADFOLDER_OBSERVED:"hop_background_deltathreadfolder_observed",PASS_THREAD_CONTROL_WEBHOOK:"pass_thread_control_webhook",ADD_APP_ROLE_SUCCESS:"add_app_role_success",ADD_APP_ROLE_FAILURE:"add_app_role_failure",SET_APP_ROLE_SUCCESS:"set_app_role_success",SET_APP_ROLE_FAILURE:"set_app_role_failure",REMOVE_APP_ROLES_SUCCESS:"remove_app_roles_success",REMOVE_APP_ROLES_FAILURE:"remove_app_roles_failure",MESSAGING_FEATURE_ACL_API_SUCCESS:"messaging_feature_acl_api_success",MESSAGING_FEATURE_ACL_API_FAILURE:"messaging_feature_acl_api_failure",RECEIVE_MESSAGE_WITH_TEXT:"receive_message_with_text",RECEIVE_MESSAGE_WITH_IMAGE:"receive_message_with_image",RECEIVE_MESSAGE_WITH_VIDEO:"receive_message_with_video",RECEIVE_MESSAGE_WITH_AUDIO:"receive_message_with_audio",RECEIVE_MESSAGE_WITH_FILE:"receive_message_with_file",RECEIVE_MESSAGE_WITH_ATTACHMENT:"receive_message_with_attachment",PAGE_PROMETHEUS_STATUS_NOTIFICATION:"page_prometheus_status_notification",GEN_CALL:"gen_call",DUPLICATE_CALL:"duplicate_call",ERROR:"error",APP_ID_FETCH_FAILURE:"app_id_fetch_failure",GEN_SHIPMENT_ENT:"gen_shipment_ent",GEN_SHIPMENT_TRACKING_ENT:"gen_shipment_tracking_ent",SHIPMENT_NOTIFICATION_READY:"shipment_notification_ready",SHIPMENT_NOTIFICATION_SENT:"shipment_notification_sent",SHIPMENT_NOTIF_READY:"shipment_notif_ready",SHIPMENT_NOTIF_SENT:"shipment_notif_sent",ETA_NOTIF_READY:"eta_notif_ready",ETA_NOTIF_SENT:"eta_notif_sent",DELIVERED_NOTIF_READY:"delivered_notif_ready",DELIVERED_NOTIF_SENT:"delivered_notif_sent",OUT_FOR_DELIVERY_NOTIF_READY:"out_for_delivery_notif_ready",OUT_FOR_DELIVERY_NOTIF_SENT:"out_for_delivery_notif_sent",DELAYED_NOTIF_READY:"delayed_notif_ready",DELAYED_NOTIF_SENT:"delayed_notif_sent",IN_TRANSIT_NOTIF_READY:"in_transit_notif_ready",IN_TRANSIT_NOTIF_SENT:"in_transit_notif_sent",ASYNC_EXECUTION:"async_execution",ASYNC_SCHEDULE:"async_schedule",ASYNC_THROTTLE:"async_throttle",ASYNC_USER_ACCOUNT_DISABLED:"async_user_account_disabled",ASYNC_GEN_DATA_ERROR:"async_gen_data_error",TRACKING_SHUTDOWN_WITH_EXCEPTION_ERROR:"tracking_shutdown_with_exception",TRACKING_SHUTDOWN_WITH_RETRY_ERROR:"tracking_shutdown_with_retry",DELIVERED_STATS:"delivered_stats",USER_LINKED:"user_linked",USER_LINK_FAILED:"user_link_failed",USER_TOKEN_DECRYPTION_FAILED:"user_token_decryption_failed",USER_TOKEN_DELIVERY_ATTEMPT:"user_token_delivery_attempt",USER_TOKEN_DELIVERED:"user_token_delivered",USER_TOKEN_DELIVERY_FAILED:"user_token_delivery_failed",USER_TOKEN_CRITICAL_LOOKUP:"user_token_critical_lookup",USER_TOKEN_LOOKUP_FAILED:"user_token_lookup_failed",USER_UNLINKED:"user_unlinked",USER_UNLINK_FAILED:"user_unlink_failed",USER_UNLINK_BUSINESS_NOTIFIED:"user_unlink_business_notified",USER_UNLINK_BUSINESS_NOTIFICATION_FAILED:"user_unlink_business_notification_failed",PLATFORM_PLUGIN_PAGE_APP_ID_MISMATCH:"platform_plugin_page_app_id_mismatch",RESET_MESSAGING_WINDOW_SUCCESS:"reset_messaging_window_success",RESET_MESSAGING_WINDOW_FAILURE:"reset_messaging_window_failure",SEND_TO_MESSENGER_RENDERED:"send_to_messenger_rendered",SEND_TO_MESSENGER_CLICKED:"send_to_messenger_clicked",SEND_TO_MESSENGER_OPT_IN:"send_to_messenger_opt_in",SEND_TO_MESSENGER_ID_DELIVERY_FAILURE:"send_to_messenger_id_delivery_failure",SEND_TO_MESSENGER_UNSUPPORTED_APP:"send_to_messenger_unsupported_app",SEND_TO_MESSENGER_ERROR:"send_to_messenger_error",SEND_TO_MESSENGER_SKIP_INTERSTITIAL:"send_to_messenger_skip_interstitial",MESSAGE_US_RENDERED:"message_us_rendered",MESSAGE_US_CLICKED:"message_us_clicked",MESSAGE_US_ERROR:"message_us_error",MESSENGER_PRECHECKED_ERROR:"messenger_prechecked_error",MESSENGER_PRECHECKED_RENDERED:"messenger_prechecked_rendered",MESSENGER_PRECHECKED_HIDDEN:"messenger_prechecked_hidden",MESSENGER_PRECHECKED_LOGIN:"messenger_prechecked_login",MESSENGER_PRECHECKED_NOTYOU:"messenger_prechecked_notyou",MESSENGER_PRECHECKED_CHECKED:"messenger_prechecked_checked",MESSENGER_PRECHECKED_UNCHECKED:"messenger_prechecked_unchecked",MESSENGER_PRECHECKED_RENDERED_OUT_OF_VIEW:"messenger_prechecked_rendered_out_of_view",MESSENGER_PRECHECKED_CHECKED_OUT_OF_VIEW:"messenger_prechecked_checked_out_of_view",MESSENGER_PRECHECKED_CHECKED_BY_DEFAULT:"messenger_prechecked_checked_by_default",MESSENGER_PRECHECKED_PAGE_BLOCKED_FOR_RENDER:"messenger_prechecked_page_blocked_for_render",MESSENGER_PRECHECKED_PAGE_NEED_REVIEW:"messenger_prechecked_page_need_review",MESSENGER_PRECHECKED_PAGE_MARKED_FROM_GHOSTBUSTER:"messenger_prechecked_page_marked_from_ghostbuster",MESSENGER_PRECHECKED_PIXEL_ERROR:"messenger_prechecked_pixel_error",MESSENGER_PRECHECKED_PIXEL_INVALID_APP_ID:"messenger_prechecked_pixel_invalid_app_id",MESSENGER_PRECHECKED_PIXEL_NO_APP_SUBSCRIPTION:"messenger_prechecked_pixel_no_app_subscription",MESSENGER_PRECHECKED_PIXEL_ENT_NOT_FOUND:"messenger_prechecked_pixel_ent_not_found",MESSENGER_PRECHECKED_PIXEL_USER_MISMATCH:"messenger_prechecked_pixel_user_mismatch",MESSENGER_PRECHECKED_PIXEL_INVALID_PLUGIN_STATE:"messenger_prechecked_pixel_invalid_plugin_state",MESSENGER_PRECHECKED_PIXEL_EVENT_SAVED:"messenger_prechecked_pixel_event_saved",MESSENGER_PRECHECKED_PIXEL_EVENT_SAVE_FAILED:"messenger_prechecked_pixel_event_save_failed",MESSENGER_PRECHECKED_PIXEL_WEBHOOK_EVENT_SENT:"messenger_prechecked_pixel_webhook_event_sent",MESSENGER_PRECHECKED_PIXEL_WEBHOOK_URI_NOT_WHITELISTED:"messenger_prechecked_pixel_webhook_uri_not_whitelisted",MESSENGER_PRECHECKED_API_ENT_NOT_FOUND:"messenger_prechecked_api_ent_not_found",MESSENGER_PRECHECKED_API_INVALID_USER_ID:"messenger_prechecked_api_invalid_user_id",MESSENGER_PRECHECKED_API_INVALID_PLUGIN_STATE:"messenger_prechecked_api_invalid_plugin_state",MESSENGER_PRECHECKED_API_PIXEL_NOT_FIRED:"messenger_prechecked_api_pixel_not_fired",MESSENGER_PRECHECKED_API_USER_MATCH_SUCCEEDED:"messenger_prechecked_api_user_match_succeeded",MESSENGER_PRECHECKED_API_ADMIN_MESSAGE_SENT:"messenger_prechecked_api_admin_message_sent",MESSENGER_PRECHECKED_API_ERROR:"messenger_prechecked_api_error",PLUGIN_ID_MATCH_INITIATED:"plugin_id_match_initiated",PLUGIN_ID_MATCH_FAILED:"plugin_id_match_failed",PLUGIN_ID_MATCH_NO_LOGGED_IN_USER:"plugin_id_match_no_logged_in_user",PLUGIN_ID_MATCH_HAS_NAME_MATCH:"plugin_id_match_has_name_match",PLUGIN_ID_MATCH_NO_NAME_MATCH:"plugin_id_match_no_name_match",PLUGIN_ID_MATCH_HAS_EMAIL_MATCH:"plugin_id_match_has_email_match",PLUGIN_ID_MATCH_NO_EMAIL_MATCH:"plugin_id_match_no_email_match",PLUGIN_ID_MATCH_HAS_MATCH:"plugin_id_match_has_match",PLUGIN_ID_MATCH_NO_MATCH:"plugin_id_match_no_match",PLUGIN_ID_MATCH_ERROR:"plugin_id_match_error",ECOMMERCE_OPT_IN:"ecommerce_opt_in",ECOMMERCE_OPT_IN_EVENT_DELIVERED:"ecommerce_opt_in_event_delivered",ECOMMERCE_OPT_OUT:"ecommerce_opt_out",ECOMMERCE_OPT_OUT_EVENT_DELIVERED:"ecommerce_opt_out_event_delivered",ECOMMERCE_ERROR:"ecommerce_error",AUTH_MUTATION_SUCCEEDED:"auth_mutation_succeeded",AUTH_MUTATION_ERROR:"auth_mutation_error",AUTH_MUTATION_NEW_MODEL_ATTEMPT:"auth_mutation_new_model_attempt",AUTH_BITMASK_MUTATION_SUCCEEDED:"auth_bitmask_mutation_succeeded",AUTH_BITMASK_MUTATION_ERROR:"auth_bitmask_mutation_error",PERMISSIONS_DOUBLE_WRITE_SUCCEEDED:"permissions_double_write_succeeded",PERMISSIONS_DOUBLE_WRITE_ERROR:"permissions_double_write_error",CTA_RESET_24HR_WINDOW_SUCCESS:"cta_reset_24hr_window_success",CTA_RESET_24HR_WINDOW_FAILURE:"cta_reset_24hr_window_failure",THREAD_DELETION_REVOKE_SUCCESS:"thread_deletion_revoke_success",COMMERCE_TOKEN_CONVERSION_REQUESTED:"commerce_token_conversion_requested",COMMERCE_TOKEN_CONVERSION_INVALID_TOKEN:"commerce_token_conversion_invalid_token",COMMERCE_TOKEN_CONVERSION_USER_NOT_LINKED:"commerce_token_conversion_user_not_linked",COMMERCE_TOKEN_CONVERSION_NO_THREAD:"commerce_token_conversion_no_thread",COMMERCE_TOKEN_CONVERSION_PSID_GENEREATED:"commerce_token_conversion_psid_genereated",COMMERCE_TOKEN_CONVERSION_FAILURE:"commerce_token_conversion_failure",EXTENSIONS_DRAWER_LIST_ADD_REQUEST:"extensions_drawer_list_add_request",EXTENSIONS_DRAWER_LIST_ADD_SUCCESS:"extensions_drawer_list_add_success",EXTENSIONS_DRAWER_LIST_FETCH_FAILED:"extensions_drawer_list_fetch_failed",EXTENSIONS_DRAWER_LIST_FETCH_REQUEST:"extensions_drawer_list_fetch_request",EXTENSIONS_DRAWER_LIST_FETCH_SUCCESS:"extensions_drawer_list_fetch_succes",EXTENSIONS_DRAWER_DELTA_SEND_IGNORED:"extensions_drawer_delta_send_ignored",EXTENSIONS_DRAWER_DELTA_SEND_FAILED:"extensions_drawer_delta_send_failed",EXTENSIONS_DRAWER_DELTA_SEND_REQUEST:"extensions_drawer_delta_send_request",EXTENSIONS_DRAWER_DELTA_SEND_SUCCESS:"extensions_drawer_delta_send_success",PLUGIN_CLIENT_RENDERED:"plugin_client_rendered",PLUGIN_RENDERED:"plugin_rendered",PLUGIN_HIDDEN_ALREADY_LINKED:"plugin_hidden_already_linked",PLUGIN_BLOCKED:"plugin_blocked",PLUGIN_UPDATES_DISALLOWED:"plugin_updates_disallowed",PLUGIN_UPDATES_REALLOWED:"plugin_updates_reallowed",PLUGIN_ASSOC_MUTATE_FAILED:"plugin_assoc_mutate_failed",PLUGIN_ASSOC_READ_FAILED:"plugin_assoc_read_failed",PLUGIN_MESSAGE_US_CLICK:"plugin_message_us_click",LAST_DIGITS_PLUGIN_ERROR_PARSING_MESSAGE:"last_digits_plugin_error_parsing_message",LAST_DIGITS_PLUGIN_ERROR_UNAUTHORIZED_DOMAIN:"last_digits_plugin_error_unauthorized_domain",LAST_DIGITS_PLUGIN_VERIFICATION_RESULT:"last_digits_plugin_verification_result",LAST_DIGITS_PLUGIN_MESSAGE_RECEIVED:"last_digits_plugin_message_received",LAST_DIGITS_PLUGIN_MESSAGE_POSTED:"last_digits_plugin_message_posted",SIMPLE_LINK_PLUGIN_IMPRESSION:"simple_link_plugin_impression",SIMPLE_LINK_PLUGIN_UNCHECKED:"simple_link_plugin_unchecked",SIMPLE_LINK_PLUGIN_LINKED:"simple_link_plugin_linked",ORDER_CANCELLED:"order_cancelled",ORDER_CANCELLATION_FAILED:"order_cancellation_failed",SEND_BLOCK_ALL_LOG_MESSAGE_EXCEPTION:"send_block_all_log_message_exception",SEND_UNBLOCK_ALL_LOG_MESSAGE_EXCEPTION:"send_unblock_all_log_message_exception",DIALOG_OPENED:"dialog_opened",DIALOG_CLOSED:"dialog_closed",DIALOG_LOAD_ERROR:"dialog_load_error",DIALOG_LOAD_SUCCESS:"dialog_load_success",PLATFORM_SUBSCRIPTION_LAST_USER_SENT_MESSAGE_UPDATED:"platform_subscription_last_user_sent_message_updated",PLATFORM_SUBSCRIPTION_EXTRA_MESSAGE_COUNT_UPDATED:"platform_subscription_extra_message_count_updated",PLATFORM_SUBSCRIPTION_STATE_MUTATION_FAILED:"platform_subscription_state_mutation_failed",PLATFORM_SUBSCRIPTION_ASSOC_NOT_FOUND:"platform_subscription_assoc_not_found",PLATFORM_SUBSCRIPTION_MESSAGE_WITHIN_ONE_DAY:"platform_subscription_message_within_one_day",PLATFORM_SUBSCRIPTION_WHITELISTED_TEMPLATE:"platform_subscription_whitelisted_template",PLATFORM_SUBSCRIPTION_PERMISSION_CHECK:"platform_subscription_permission_check",PLATFORM_SUBSCRIPTION_ACTION_SUCCESS:"platform_subscription_action_success",PLATFORM_SUBSCRIPTION_ACTION_FAILURE:"platform_subscription_action_failure",MESSAGE_LIMIT_ASSOC_UPDATED:"message_limit_assoc_updated",MESSAGE_LIMIT_SV_READ_ERROR:"message_limit_sv_read_error",PLATFORM_TAGS_SUCCESS:"platform_tags_success",PLATFORM_TAGS_FAILURE:"platform_tags_failure",PLATFORM_TAGS_BAD_PAGE:"platform_tags_bad_page",PLATFORM_TAG_FORM_SUBMISSION_SUCCESS:"platform_tag_form_submission_success",PLATFORM_TAG_FORM_SUBMISSION_FAILURE:"platform_tag_form_submission_failure",PLATFORM_TAG_SUBMISSION_UPDATE_SUCCESS:"platform_tag_submission_update_success",PLATFORM_TAG_SUBMISSION_UPDATE_FAILURE:"platform_tag_submission_update_failure",PLATFORM_TAG_REQUEST_WEEKLY_EMAIL_SEND_SUCCESS:"platform_tag_request_weekly_email_send_success",PLATFORM_TAG_REQUEST_WEEKLY_EMAIL_SEND_FAILURE:"platform_tag_request_weekly_email_send_failure",QR_CODES_API_CALL:"qr_codes_api_call",QR_CODES_API_SUCCESS:"qr_codes_api_success",QR_CODES_API_FAILURE:"qr_codes_api_failure",QR_CODES_API_STANDARD_WITH_REF:"qr_codes_api_standard_with_ref",QR_CODES_API_STANDARD_WITHOUT_REF:"qr_codes_api_standard_without_ref",QR_CODES_NEW_GRAPHQL_ATTEMPT:"qr_codes_new_graphql_attempt",QR_CODES_NEW_GRAPHQL_INVALID_HASH:"qr_codes_new_graphql_invalid_hash",QR_CODES_NEW_GRAPHQL_LEGACY_CODE_SUCCESS:"qr_codes_new_graphql_legacy_code_success",QR_CODES_NEW_GRAPHQL_PARAMETRIC_CODE_SUCCESS:"qr_codes_new_graphql_parametric_code_success",QR_CODES_NEW_GRAPHQL_EXCEPTION:"qr_codes_new_graphql_exception",QR_CODES_LEGACY_GRAPHQL_ATTEMPT:"qr_codes_legacy_graphql_attempt",QR_CODES_LEGACY_GRAPHQL_SUCCESS:"qr_codes_legacy_graphql_success",QR_CODES_LEGACY_GRAPHQL_EXCEPTION:"qr_codes_legacy_graphql_exception",QR_CODES_LEGACY_GRAPHQL_INVALID_HASH:"qr_codes_legacy_graphql_invalid_hash",QR_CODES_LEGACY_GRAPHQL_FALLBACK_LOGIC:"qr_codes_legacy_graphql_fallback_logic",NOT_YOU_CLICKED:"not_you_clicked",PRODUCT_SUBSCRIPTION_CLICKED:"product_subscription_clicked",RECEIPTS:"receipts",CANCELLATIONS:"cancellations",SHIPMENTS:"shipments",NOW_IN_STOCK:"nowinstock",NOTIFY_ME:"notifyme",PROMOTIONAL_MESSAGE:"promotionalmessage",RETAIL_CANCELLATIONS:"retailcancellations",RETAIL_RECEIPTS:"retailreceipts",UPDATE_RECEIPTS:"updatereceipts",RETAIL_SHIPMENTS:"retailshipments",RETAIL_UPDATE_RECEIPTS:"retailupdatereceipts",AIRLINE_ITINERARY:"airlineitinerary",AIRLINE_REMINDER:"airlinereminder",AIRLINE_CHECKIN:"airlinecheckin",AIRLINE_UPDATE:"airlineupdate",AIRLINE_BOARDINGPASS:"airlineboardingpass",BILL_PAYMENT_REQUEST:"billpaymentrequest",SIMPLE_LINK_WITH_STATE:"simplelinkwithstate",BUSINESS_MESSAGE:"businessmessage",MARK_SPAM:"spam",ACCOUNT_UNLINK_SUCCESS:"account_unlink_success",ACCOUNT_UNLINK_FAILURE:"account_unlink_failure",ACCOUNT_UNLINK_UNKNOWN_FAILURE:"account_unlink_unknown_failure",ACCOUNT_UNLINK_FORCE_FAILURE:"account_unlink_force_failure",ACCOUNT_UNLINK_NO_WEBHOOK_SUBSCRIPTION:"account_unlink_no_webhook_subscription",ACCOUNT_LINK_SUCCESS:"account_link_success",ACCOUNT_LINK_FAILURE:"account_link_failure",ACCOUNT_LINK_NO_WEBHOOK_SUBSCRIPTION:"account_link_no_webhook_subscription",ACCOUNT_LINK_TOP_LEVEL_EXCEPTION:"account_link_top_level_exception",ACCOUNT_LINK_UNKNOWN_FAILURE:"account_link_unknown_failure",ACCOUNT_LINK_NO_AUTHORIZATION_CODE:"account_link_no_authorization_code",ACCOUNT_LINK_NO_VALID_COOKIE:"account_link_no_valid_cookie",ACCOUNT_LINK_NO_USER:"account_link_no_user",ACCOUNT_LINK_INVALID_NONCE:"account_link_invalid_nonce",ACCOUNT_LINKING_URL_DELETE_FAILED:"account_linking_url_delete_failed",ACCOUNT_LINKING_TOKEN_CREATED:"account_linking_token_created",ACCOUNT_LINK_REDIRECT_REQUEST:"account_link_redirect_request",ACCOUNT_LINK_FB_COOKIE_NOT_SET:"account_link_fb_cookie_not_set",ACCOUNT_LINK_INVALID_VIEWER_CONTEXT:"account_link_invalid_viewer_context",ACCOUNT_LINK_URI_GEN_INPROGRESS:"account_link_uri_gen_inprogress",ACCOUNT_LINK_URI_GEN_START:"account_link_uri_gen_start",ACCOUNT_LINK_URI_GEN_END:"account_link_uri_gen_end",ACCOUNT_LINK_NULL_URI:"account_link_null_uri",ACCOUNT_LINK_URI_ADD_FAILED:"account_link_uri_add_failed",ACCOUNT_LINK_USER_ID_MISMATCH:"account_link_user_id_mismatch",PROMOTION_CREATION_ATTEMPTED:"promotion_creation_attempted",PROMOTION_ENT_CREATED:"promotion_ent_created",PROMOTION_SCHEDULED:"promotion_scheduled",PROMOTION_KILLED:"promotion_killed",PROMOTION_USER_ATTEMPTED:"promotion_user_attempted",PROMOTION_USER_GK_FAILED:"promotion_user_gk_failed",PROMOTION_USER_GK_PASSED:"promotion_user_gk_passed",PROMOTION_USER_ALREADY_LINKED:"promotion_user_already_linked",PROMOTION_USER_NOT_LINKED:"promotion_user_not_linked",PROMOTION_USER_PREVIOUSLY_UNLINKED:"promotion_user_previously_unlinked",PROMOTION_USER_BLOCKED_PROMOTION:"promotion_user_blocked_promotion",PROMOTION_USER_SEND_MESSAGE_EXCEPTION:"promotion_user_send_message_exception",PROMOTION_ATOMIC_MESSAGE_SENT:"promotion_atomic_message_sent",PROMOTION_LOG_MESSAGE_SENT:"promotion_log_message_sent",PROMOTION_ROBOTEXT_SENT:"promotion_robotext_sent",PROMOTION_ATTACHMENT_SENT:"promotion_attachment_sent",PROMOTION_ASYNC_JOB_ERROR:"promotion_async_job_error",REF_SEND_SUCCESS:"referral_send_success",REF_SEND_FAILURE:"referral_send_failure",REF_SEND_INVALID_AUTH_STATE:"referral_send_invalid_auth_state",USER_CONTROL_BLOCKED_ALL:"user_control_blocked_all",USER_CONTROL_BLOCKED_PROMOTION:"user_control_blocked_promotion",USER_CONTROL_UNBLOCKED_ALL:"user_control_unblocked_all",USER_CONTROL_UNBLOCKED_PROMOTION:"user_control_unblocked_promotion",USER_CONTROL_SUBSCRIBE_SUCCESS:"user_control_subscribe_success",USER_CONTROL_SUBSCRIBE_FAILURE:"user_control_subscribe_failure",USER_CONTROL_UNSUBSCRIBE_SUCCESS:"user_control_unsubscribe_success",USER_CONTROL_UNSUBSCRIBE_FAILURE:"user_control_unsubscribe_failure",USER_CONTROL_REPORT_AD:"user_control_report_ad",USER_CONTROL_REPORT_OTHER_ABUSE:"user_control_report_other_abuse",USER_CONTROL_V2_IMPRESSION:"user_control_v2_impression",USER_CONTROL_MENU_CLICKED:"user_control_menu_clicked",USER_CONTROL_V2_MUTED:"user_control_v2_muted",USER_CONTROL_V2_UNMUTED:"user_control_v2_unmuted",USER_CONTROL_V2_BLOCKED:"user_control_v2_blocked",USER_CONTROL_V2_UNBLOCKED:"user_control_v2_unblocked",ACCEPT_MESSAGE_REQUEST_ACTION:"accept_message_request",IGNORE_MESSAGE_REQUEST_ACTION:"ignore_message_request",PLATFORM_REPORT_FAILURE:"platform_report_failure",PLATFORM_REPORT_SUCCEEDED:"platform_report_succeeded",PLATFORM_REPORT_ADMIN_MSG_SENT:"platform_report_admin_msg_sent",PLATFORM_REPORT_PAGE_BLOCKED:"platform_report_page_blocked",PLATFORM_REPORT_PAGE_REPORT_FAILURE:"platform_report_page_report_failure",M_SUGGESTION_CALL:"m_suggestion_call",M_SUGGESTION_ENT_CREATED:"m_suggestion_ent_created",M_SUGGESTION_LINK_IF_NECESSARY:"m_suggestion_link_if_necessary",M_SUGGESTION_SEND_MESSAGE:"m_suggestion_send_message",GEN_CANCELLATION_ENT:"gen_cancellation_ent",CANCELLATION_NOTIFICATION_READY:"cancellation_notification_ready",CANCELLATION_NOTIFICATION_SENT:"cancellation_notification_sent",LIVECHAT_HISTORY_USER_FETCH_FAILURE:"livechat_history_user_fetch_failure",LIVECHAT_HISTORY_PAGE_FETCH_FAILURE:"livechat_history_page_fetch_failure",LIVECHAT_HISTORY_API_SUCCESS:"livechat_history_api_success",LIVECHAT_HISTORY_API_FAILURE:"livechat_history_api_failure",ECOMMERCE_EVENT_CALL:"ecommerce_event_call",ECOMMERCE_EVENT_DATA_VALIDATED:"ecommerce_event_data_validated",ECOMMERCE_EVENT_SECURITY_CHECKED:"ecommerce_event_security_checked",ECOMMERCE_EVENT_MESSAGE_SENT:"ecommerce_event_message_sent",ECOMMERCE_EVENT_INVALID_SENDER:"ecommerce_event_invalid_sender",ECOMMERCE_EVENT_MULTIPLE_WELCOME_MESSAGE_NOT_ALLOWED:"ecommerce_event_multiple_welcome_message_not_allowed",ECOMMERCE_EVENT_NO_OPT_IN:"ecommerce_event_no_opt_in",ECOMMERCE_EVENT_HANDLER_EXCEPTION:"ecommerce_event_handler_exception",PROMOTION_CTA_CLICKED:"promotion_cta_clicked",ACCESS_ENT_WITHOUT_MESSAGE_ID:"access_ent_without_message_id",ACCESS_ENT_WITH_WRONG_MESSAGE_ID:"access_ent_with_wrong_message_id",ACCESS_ENT_WITHOUT_CAN_SEE_SHARE_TOKEN:"access_ent_without_can_see_share_token",ACCESS_ENT_WITH_WRONG_SHARE_ID:"access_ent_with_wrong_share_id",ACCESS_ENT_WITH_GENIE_MSG_LOOP:"access_ent_with_genie_msg_loop",BOT_SHARE_MSG_SENT:"bot_share_msg_sent",PAGE_SHARE_MSG_SENT:"page_share_msg_sent",PAGE_SHARE_MSG_FAILURE:"page_share_msg_failure",ELEMENT_SHARE_MSG_SENT:"element_share_msg_sent",EXTENSIBLE_SHARE_MSG_SENT:"extensible_share_msg_sent",SUBSCRIPTION_SHARE_MSG_SENT:"subscription_share_msg_sent",ELEMENT_SHARE_MSG_FAILURE:"element_share_msg_failure",SUBSCRIPTION_SHARE_MSG_FAILURE:"subscription_share_msg_failure",ELEMENT_SHARE_ATTACHMENT_CREATION_FAILED:"element_share_attachment_creation_failed",ELEMENT_SHARE_GET_PAGE_LINK_FAILED:"element_share_get_page_link_failed",WEBVIEW_SHARE_ATTACHMENT_CREATION_FAILED:"webview_share_attachment_creation_failed",WEBVIEW_SHARE_MSG_FAILURE:"webview_share_msg_failure",WEBVIEW_SHARE_MSG_SENT:"webview_share_msg_sent",WEBVIEW_SHARE_NULL_PAGE_ID:"webview_share_with_null_page_id",WEBVIEW_SHARE_EMPTY_TITLE:"webview_share_with_empty_title",WEBVIEW_SHARE_INVALID_BUTTON_DATA:"webview_share_with_invalid_button_data",WEBVIEW_SHARE_URL_MISSING:"webview_share_without_url_data",PAGE_ATTACHMENT_FORWARDING:"page_attachment_forwarding",BOT_ATTACHMENT_FORWARDING:"bot_attachment_forwarding",MEDIA_ATTACHMENT_FORWARDING:"media_attachment_forwarding",BRANDED_CAMERA_EMPTY_BUTTON_TITLE:"branded_camera_empty_button_title",BRANDED_CAMERA_NULL_ATTACHMENT_ID:"branded_camera_null_attachment_id",BRANDED_CAMERA_NULL_CONTENT_ID:"branded_camera_null_content_id",BRANDED_CAMERA_INVALID_CONTENT_ID:"branded_camera_invalid_content_id",BRANDED_CAMERA_SHARE_SENT:"branded_camera_share_sent",BRANDED_CAMERA_SHARE_FAILUER:"branded_camera_share_failure",BRANDED_CAMERA_WEBHOOK_SUCCESS:"branded_camera_share_webhook_success",BRANDED_CAMERA_WEBHOOK_FAILURE:"branded_camera_share_webhook_failure",BRANDED_CAMERA_NO_WEBHOOK_SUBSCRIPTION:"branded_camera_no_webhook_subscription",BOT_REVIEW_CREATION:"bot_review_creation",BOT_REVIEW_UPDATE:"bot_review_update",BOT_REVIEW_DELETION:"bot_review_deletion",BOT_REVIEW_FAILURE:"bot_review_failure",BOT_REVIEW_DEVSITE_PAGE_SKIPPED:"bot_review_devsite_page_skipped",AGGREGATE_BOT_RATING_FETCH_FAILURE:"aggregate_bot_rating_fetch_failure",AGGREGATE_BOT_RATING_INC_FAILURE:"aggregate_bot_rating_inc_failure",AGGREGATE_BOT_RATING_INC_PERM_FAILURE:"aggregate_bot_rating_inc_perm_failure",INVALID_RATING:"invalid_rating",BOT_REVIEW_ADMIN_MSG_FAILURE:"bot_review_admin_msg_failure",BOT_REVIEW_NOTIF_FAILURE:"bot_review_notification_failure",BOT_REVIEW_NOTIF_INVALID_DB_DATA:"bot_review_notification_invalid_db_data",BOT_REVIEW_NOTIF_PAGE_REVIEW_GEN_FAILURE:"bot_review_notification_page_review_gen_failure",BOT_REVIEW_NOTIF_SEND_FAILURE:"bot_review_notification_send_failure",BOT_REVIEW_NOTIF_SEND_SUCCESS:"bot_review_notification_send_success",BOT_REVIEW_NOTIF_PAGE_SEND_FAILURE:"bot_review_notification_page_send_failure",LINK_CLICK:"link_click",POSTBACK_CLICKED:"postback_cta_clicked",POSTBACK_SUCCESS:"postback_cta_success",POSTBACK_NO_WEBHOOK_SUBSCRIPTION:"postback_no_webhook_subscription",POSTBACK_SEND_FAILED:"postback_send_failed",POSTBACK_FAILED:"postback_failed",POSTBACK_INVALID_IDS:"postback_invalid_ids",POSTBACK_DEBUG_EVENT:"postback_debug_event",POSTBACK_MUTATION_FAILURE:"postback_mutation_failure",POSTBACK_MUTATION_SUCCESS:"postback_mutation_success",COMPOSER_CTA_PAGE_GEN_FAILED:"composer_cta_page_gen_failed",COMPOSER_CTA_DOUBLE_TAPPED:"composer_cta_double_tapped",CTA_FETCH_THREAD_ID_FAILED:"cta_fetch_thread_id_failed",NULLSTATE_CTAS_DELETE_INITIATED:"nullstate_ctas_delete_initiated",NULLSTATE_CTAS_DELETE_FAILED:"nullstate_ctas_delete_failed",NULLSTATE_CTAS_UPDATE_INITIATED:"nullstate_ctas_update_initiated",NULLSTATE_CTAS_UPDATE_FAILED:"nullstate_ctas_update_failed",NULLSTATE_CTAS_ADDED:"nullstate_ctas_added",NULLSTATE_CTAS_UPDATED:"nullstate_ctas_updated",NULLSTATE_CTAS_DELETED:"nullstate_ctas_deleted",NULLSTATE_ATTACHMENT_CREATION_FAILED:"nullstate_attachment_creation_failed",STRUCTURED_MENU_CTAS_DELETE_INITIATED:"structured_menu_ctas_delete_initiated",STRUCTURED_MENU_CTAS_DELETE_FAILED:"structured_menu_ctas_delete_failed",STRUCTURED_MENU_CTAS_UPDATE_INITIATED:"structured_menu_ctas_update_initiated",STRUCTURED_MENU_CTAS_UPDATE_FAILED:"structured_menu_ctas_update_failed",STRUCTURED_MENU_CTAS_ADDED:"structured_menu_ctas_added",STRUCTURED_MENU_CTAS_UPDATED:"structured_menu_ctas_updated",STRUCTURED_MENU_CTAS_DELETED:"structured_menu_ctas_deleted",STRUCTURED_MENU_CTAS_MIGRATED:"structured_menu_ctas_migrated",STRUCTURED_MENU_CTAS_MIGRATION_FAILED:"structured_menu_ctas_migration_failed",V2_STRUCTURED_MENU_UPDATED:"v2_structured_menu_updated",V2_STRUCTURED_MENU_UPDATE_FAIL:"v2_structured_menu_update_fail",NULLSTATE_GREETING_UPDATE_INITIATED:"nullstate_greeting_update_initiated",NULLSTATE_GREETING_UPDATE_FAILED:"nullstate_greeting_update_failed",NULLSTATE_GREETING_DELETE_SUCCEEDED:"nullstate_greeting_delete_succeeded",NULLSTATE_GREETING_DELETE_FAILED:"nullstate_greeting_delete_failed",WHITELIST_DOMAIN_UPDATED:"whitelist_domain_updated",WHITELIST_DOMAIN_UPDATE_FAILED:"whitelist_domain_update_failed",PAYMENT_SETTING_UPDATED:"payment_setting_updated",PAYMENT_SETTING_UPDATE_FAILED:"payment_setting_update_failed",THREAD_SETTING_DELETE_FAILED:"thread_setting_delete_failed",PAYMENT_SETTING_DELETE_FAILED:"payment_setting_delete_failed",TARGET_AUDIENCE_UPDATE_FAILED:"target_audience_update_failed",TARGET_AUDIENCE_UPDATE_SUCCEEDED:"target_audience_update_succeeded",THREAD_OWNER_API_SUCCESS:"thread_owner_api_success",THREAD_OWNER_API_FAILURE:"thread_owner_api_failure",DEVX_GET_STARTED_RENDERED:"devx_get_started_rendered",DEVX_TOS_CARD_RENDERED:"devx_tos_card_rendered",DEVX_BOT_CREATION_STARTED:"devx_bot_creation_started",DEVX_BOT_CREATION_SUCCESS:"devx_bot_creation_success",DEVX_BOT_CREATION_FAIL:"devx_bot_creation_fail",DEVX_PAGE_TOKEN_CARD_RENDERED:"devx_page_token_card_rendered",DEVX_PAGE_TOKEN_CALLBACK:"devx_page_token_callback",DEVX_PAGE_TOKEN_CALLBACK_NO_PAGE:"devx_page_token_callback_no_page",DEVX_PAGE_TOKEN_CALLBACK_NO_PERMISSIONS:"devx_page_token_callback_no_permissions",DEVX_PAGE_TOKEN_GENERATED:"devx_page_token_generated",DEVX_FINITE_LENGTH_PAGE_TOKEN_GENERATED:"devx_finite_length_page_token_generated",DEVX_PAGE_TOKEN_CALLBACK_FAILED:"devx_page_token_callback_failed",DEVX_PAKE_TOKEN_POPUP_OPEN_FAILED:"devx_page_token_popup_open_failed",DEVX_UPSELL_CARD_RENDERED:"devx_upsell_card_rendered",DEVX_UPSELL_LEARN_MORE_CLICKED:"devx_upsell_learn_more_clicked",DEVX_TEST_USER_ACCEPT_APP_ROLE_SUCCESS:"devx_test_user_accept_app_role_success",DEVX_TEST_USER_ACCEPT_APP_ROLE_ERROR:"devx_test_user_accept_app_role_error",DEVX_TEST_USER_ACCEPT_PAGE_ROLE_SUCCESS:"devx_test_user_accept_page_role_success",DEVX_TEST_USER_ACCEPT_PAGE_ROLE_ERROR:"devx_test_user_accept_page_role_error",DEBUG_EVENT_FOR_SEND_MESSAGE:"debug_event_send_message",PARSE_USER_INFO_FAILURE:"parse_user_info_failure",QUICK_REPLY_FALLBACK:"quick_reply_fallback",QUICK_REPLY_DECODE_FAILED:"quick_reply_decode_failed",QUICK_REPLY_PAYLOAD_WITH_WRONG_IDS:"quick_rely_payload_with_wrong_ids",PAGE_MESSAGE_TOPICS:"page_message_topics",DELIVER_PAYMENT_TO_WEBHOOK_SUCCEED:"deliver_payment_to_webhook_succeed",DELIVER_PAYMENT_TO_WEBHOOK_FAILED:"deliver_payment_to_webhook_failed",BROADCAST_MESSAGES_API_SUCCESS:"broadcast_messages_api_success",BROADCAST_MESSAGES_API_FAILURE:"broadcast_messages_api_failure",MESSAGE_CREATIVE_API_FAILURE:"message_creative_api_failure",BROADCAST_REACH_ESTIMATION_API_SUCCESS:"broadcast_reach_estimation_api_success",CANCEL_BROADCAST_API_FAILURE:"cancel_broadcast_api_failure",BROADCAST_SEND_LATENCY:"broadcast_send_latency",BROADCAST_MESSAGE_FAILURE:"broadcast_message_failure",BROADCAST_MESSAGE_SUCCESS:"broadcast_message_success",BROADCAST_SCHEDULE_FAILURE:"broadcast_schedule_failure",BROADCAST_SCHEDULE_SUCCESS:"broadcast_schedule_success",START_SCHEDULED_BROADCAST_SUCCESS:"start_scheduled_broadcast_success",START_SCHEDULED_BROADCAST_FAILURE:"start_scheduled_broadcast_failure",CUSTOM_LABEL_API_FAILURE:"custom_label_api_failure",REACH_ESTIMATION_FAILURE:"reach_estimation_failure",REACH_ESTIMATION_SUCCESS:"reach_estimation_success",RETRIEVE_REACH_ESTIMATION_FAILURE:"retrieve_reach_estimation_failure",RETRIEVE_REACH_ESTIMATION_SUCCESS:"retrieve_reach_estimation_success",WRITE_BROADCAST_DELIVERY_COUNTER_TO_ENT_FAILURE:"write_broadcast_delivery_counter_to_ent_failure",WRITE_BROADCAST_DELIVERY_COUNTER_TO_ENT_ASYNC_JOB_FAILURE:"write_broadcast_delivery_counter_to_ent_async_job_failure",BROADCAST_MESSAGE_CANNOT_REACH_USER:"broadcast_cannot_reach_user",BROADCAST_REACH_ESTIMATE_CANNOT_REACH_USER:"broadcast_reach_estimate_cannot_reach_user",TRANSLATE_DYNAMIC_TEXT_FAILURE:"translate_dynamic_text_failure",USER_MESSAGE_OBSERVER_FAILURE:"user_message_observer_failure",USER_HAS_REPLIED_MIGRATION_FAILURE:"user_has_replied_migration_failure",DELIVER_CHECKOUT_UPDATES_TO_WEBHOOK_SUCCEED:"deliver_checkout_updates_to_webhook_succeed",DELIVER_CHECKOUT_UPDATES_TO_WEBHOOK_FAILED:"deliver_checkout_updates_to_webhook_failed",PAYMENT_CHECKOUT_UPDATES_SUCCEED:"payment_checkout_updates_succeed",PAYMENT_CHECKOUT_UPDATES_FAILED:"payment_checkout_updates_failed",PAYMENT_CHARGE_CALL_SUCCEED:"payment_charge_call_succeed",PAYMENT_CHARGE_CALL_FAILED:"payment_charge_call_failed",PAYMENTS_WEB_FORM_SUCCESS:"payments_web_form_success",PAYMENTS_WEB_FORM_FAILURE:"payments_web_form_failure",PAYMENTS_WEB_FORM_APPROVED:"payments_web_form_approved",PAYMENTS_WEB_FORM_APPROVAL_FAILED:"payments_web_form_approval_failed",PAYMENTS_WEB_FORM_REQUEST_PROCESSED:"payments_web_form_request_processed",PAYMENTS_WEB_FORM_REQUEST_PROCESSING_FAILED:"payments_web_form_request_processing_failed",PAYMENTS_WEB_FORM_DEVELOPER_AGREEMENT_SENT:"payments_web_form_developer_agreement_sent",PAYMENTS_WEB_FORM_AGREEMENT_EMAIL_SENT:"payments_web_agreement_email_sent",SEARCH_POST_RANK_FAILED:"search_post_rank_failed",SEARCH_EXISTING_THREADS_FAILED:"search_existing_threads_failed",GAME_PLAY_NO_WEBHOOK_SUBSCRIPTION:"game_play_no_webhook_subscription",GAME_PLAY_PERMISSION_NOT_GRANTED:"game_play_permission_not_granted",GAME_PLAY_WEBHOOK_FAILURE:"game_play_webhook_failure",GAME_PLAY_WEBHOOK_SUCCESS:"game_play_webhook_success",GAME_POLICY_ACCESS_DENIED:"game_policy_access_denied",GAME_POLICY_ACCESS_GRANTED:"game_policy_access_granted",GAME_POLICY_ACCESS_VIOLATION:"game_policy_access_violation",GAME_POLICY_DEBUG:"game_policy_debug",GAME_USER_TURN_OFF_UPDATES:"game_user_turn_off_updates",MESSENGER_PROFILE_DELETE_SUCCESS:"messenger_profile_delete_success",MESSENGER_PROFILE_DELETE_FAILURE:"messenger_profile_delete_failure",MESSENGER_PROFILE_INVALID_DATA:"messenger_profile_invalid_data",MESSENGER_PROFILE_UPDATE_SUCCESS:"messenger_profile_update_success",MESSENGER_PROFILE_UPDATE_FAILURE:"messenger_profile_update_failure",MESSENGER_PROFILE_HOME_URL_UPDATE_SUCCESS:"messenger_profile_home_url_update_success",MESSENGER_PROFILE_HOME_URL_UPDATE_FAILURE:"messenger_profile_home_url_update_failure",MESSENGER_PROFILE_HOME_URL_GET_SUCCESS:"messenger_profile_home_url_get_success",MESSENGER_PROFILE_HOME_URL_GET_FAILURE:"messenger_profile_home_url_get_failure",MESSENGER_PROFILE_HOME_URL_DELETE_SUCCESS:"messenger_profile_home_url_delete_success",MESSENGER_PROFILE_DUPLICATE_REQUEST:"messenger_profile_duplicate_request",MN_PLATFORM_THREAD_CONTEXT_SUCCESS:"mn_platform_thread_context_success",MN_PLATFORM_THREAD_CONTEXT_FAILED:"mn_platform_thread_context_failed",MESSENGER_EXTENSIONS_GET_CONTEXT_SUCCESS:"messenger_extensions_get_context_success",MESSENGER_EXTENSIONS_GET_CONTEXT_FAILURE:"messenger_extensions_get_context_failure",MESSENGER_BOT_BLOCK_FEATURE_SUCCESS:"messenger_bot_block_feature_success",MESSENGER_BOT_BLOCK_FEATURE_FAILURE:"messenger_bot_block_feature_failure",MESSENGER_BOT_UNBLOCK_FEATURE_SUCCESS:"messenger_bot_unblock_feature_success",MESSENGER_BOT_UNBLOCK_FEATURE_FAILURE:"messenger_bot_unblock_feature_failure",MESSENGER_BOT_SPAM_WARNING_SUCCESS:"messenger_bot_spam_warning_success",MESSENGER_BOT_SPAM_WARNING_FAILURE:"messenger_bot_spam_warning_failure",MEDIA_ATTACHMENT_PREVIEW_FAILED:"media_preview_failed",PAGE_SETTINGS_MESSENGER_PLATFORM_VIEWED:"page_settings_messenger_platform_viewed",PAGE_SETTINGS_MESSENGER_REVIEWS_VIEWED:"page_settings_messenger_reviews_viewed",SPONSORED_MESSAGE_ADS_CREATE_REQUEST:"sponsored_message_ads_create_request",SPONSORED_MESSAGE_ADS_CREATE_SUCCESS:"sponsored_message_ads_create_success",SPONSORED_MESSAGE_ADS_CREATE_FAILURE:"sponsored_message_ads_create_failure",PAID_SEND_MESSAGE_CREDIT_USED:"paid_send_message_credit_used",BUSINESS_TOOLS_BROADCAST_SUCCESS:"business_tools_broadcast_success",BUSINESS_TOOLS_BROADCAST_FAILURE:"business_tools_broadcast_failure",PAGE_MESSAGING_NEW_CONNECTION:"page_messaging_new_connection",BOM_PRIVACY_PASS:"bom_privacy_pass",INTERNAL_BOT_MESSAGE_SEND_SUCCESS:"internal_bot_message_send_success",INTERNAL_BOT_MESSAGE_SEND_FAILURE:"internal_bot_message_send_failure",WEBHOOK_EVENT_SEND_SUCCESS:"webhook_event_send_success",WEBHOOK_EVENT_SEND_FAILURE:"webhook_event_send_failure",WEBHOOK_PERMISSION_CHECK_FAILURE:"webhook_permission_check_failure",PAGE_CONNECT_APP_INSTALL_SUCCESS:"page_connect_app_install_success",PAGE_CONNECT_APP_INSTALL_FAILURE:"page_connect_app_install_failure",PAGE_CONNECT_APP_ROLE_INSTALL_SUCCESS:"page_connect_app_role_install_success",PAGE_CONNECT_APP_ROLE_INSTALL_FAILURE:"page_connect_app_role_install_failure",PAGE_CONNECT_STEP:"page_connect_step",DEVSITE_APP_ANALYTICS_RENDERED:"devsite_app_analytics_rendered",APP_ANALYTICS_CSV_DOWNLOAD_SUCCESS:"app_analytics_csv_download_success",APP_ANALYTICS_CSV_DOWNLOAD_FAILURE:"app_analytics_csv_download_failure",GRAPH_API_CALL_ERROR:"graph_api_call_error",GRAPH_API_CALL_USING_TOKEN_FROM_SYSTEM_USER:"graph_api_call_using_token_from_system_user",GET_PAGE_ACCESS_TOKEN_USING_SYSTEM_USER:"get_page_access_token_using_system_user",PERMISSION_MIGRATION_INCONSISTENCY:"permission_migration_inconsistency",CONTENT_SUBSCRIPTION_POST:"CONTENT_SUBSCRIPTION_POST",S160308_INVALID_USER_ID:"s160308_invalid_user_id",S160308_INVALID_PAGE_ID:"s160308_invalid_page_id",S160308_MESSAGE_DELETE_SUCCESS:"s160308_message_delete_success",S160308_MESSAGE_DELETE_FAILURE:"s160308_message_delete_failure",S160308_THREAD_PROCESSING_SUCCESS:"s160308_thread_processing_success",S160308_THREAD_PROCESSING_FAILURE:"s160308_thread_processing_failure"})}),null);
__d("MNCommerceLoggingConstants",[],(function(a,b,c,d,e,f){a={DIALOG_SURFACE:{CHECKOUT_ORDER_CONFIG:"checkout_order_config",SHIPMENT:"shipment",RECEIPT:"receipt",UNLINK:"unlink",UNLINK_ERROR:"unlink_error",MANAGE:"manage"}};e.exports=a}),null);
__d("MNCommerceUnlinkDialog.react",["fbt","MNCommerceButton.react","MNCommerceDialog.react","MNCommerceDialogBody.react","MNCommerceDialogFooter.react","MNCommerceDialogTitle.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=g._("Cancel"),c=g._("Turn Off");return b("React").createElement(b("MNCommerceDialog.react"),{onToggle:this.props.onToggle,shown:this.props.shown},b("React").createElement(b("MNCommerceDialogTitle.react"),{showCloseButton:!1},g._("Unlink account?")),b("React").createElement(b("MNCommerceDialogBody.react"),null,b("React").createElement("div",null,g._("You can turn off updates if you didn't sign up or just don't want to get them anymore."))),b("React").createElement(b("MNCommerceDialogFooter.react"),null,b("React").createElement(b("MNCommerceButton.react"),{label:a,onClick:this.props.onCancelButtonClick,use:"default"}),b("React").createElement(b("MNCommerceButton.react"),{label:c,onClick:this.props.onTurnOffButtonClick,use:"confirm"})))};function a(){h.apply(this,arguments)}a.propTypes={onCancelButtonClick:c.func,onTurnOffButtonClick:c.func};e.exports=a}),null);
__d("MNCommerceUnlinkErrorDialog.react",["fbt","MNCommerceAttachmentConstants","MNCommerceButton.react","MNCommerceDialog.react","MNCommerceDialogBody.react","MNCommerceDialogFooter.react","MNCommerceDialogTitle.react","MNCommerceErrors","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=g._("OK"),c=null,d=null;switch(this.props.errorType){case b("MNCommerceErrors").ALREADY_UNLINKED:d=b("React").createElement("div",null,g._("Updates Are Already Off"));c=b("React").createElement("div",null,g._("You aren't getting updates in Messenger."));break;default:d=b("React").createElement("div",null,g._("Couldn't Turn Off Updates"));c=b("React").createElement("div",null,g._("Sorry, something went wrong. Please try again."));break}return b("React").createElement(b("MNCommerceDialog.react"),{onToggle:this.props.onToggle,shown:this.props.shown,width:b("MNCommerceAttachmentConstants").UNLINK_ERROR_DIALOG.WIDTH},b("React").createElement(b("MNCommerceDialogTitle.react"),null,d),b("React").createElement(b("MNCommerceDialogBody.react"),null,c),b("React").createElement(b("MNCommerceDialogFooter.react"),null,b("React").createElement(b("MNCommerceButton.react"),{label:a,onClick:this.props.onOkayButtonClick,use:"confirm"})))};function a(){h.apply(this,arguments)}a.propTypes={errorType:c.number,onOkayButtonClick:c.func};e.exports=a}),null);
__d("MNCommerceUnlinkDialogContainer.react",["BanzaiLogger","MNCommerceDialogStateActions","MNCommerceDialogStateStore","MNCommerceLoggerEvents","MNCommerceLoggingConstants","MNCommerceUnlinkDialog.react","MNCommerceUnlinkErrorDialog.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){a||this.$2()}.bind(this),this.$2=function(){b("MNCommerceDialogStateActions").hideDialog()},c}a.prototype.render=function(){var a=b("MNCommerceDialogStateStore").getState();if(a&&a.errorType){b("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:b("MNCommerceLoggerEvents").DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:b("MNCommerceLoggingConstants").DIALOG_SURFACE.UNLINK_ERROR})});return b("React").createElement(b("MNCommerceUnlinkErrorDialog.react"),{onToggle:this.$1,shown:!!a,errorType:a.errorType,onOkayButtonClick:this.$2})}else{b("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:b("MNCommerceLoggerEvents").DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:b("MNCommerceLoggingConstants").DIALOG_SURFACE.UNLINK})});return b("React").createElement(b("MNCommerceUnlinkDialog.react"),{onToggle:this.$1,shown:!!a,onCancelButtonClick:this.$2,onTurnOffButtonClick:a&&a.onTurnOffButtonClick})}};e.exports=a}),null);
__d("XMNCommerceUnlinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/unlink/",{page_id:{type:"String",required:!0},user_id:{type:"String",required:!0}})}),null);
__d("MNCommerceUnlinkDataManager",["AsyncRequest","MNCommerceDialogStateActions","MNCommerceUnlinkDialogContainer.react","XMNCommerceUnlinkController"],(function(a,b,c,d,e,f){"use strict";a.prototype.unlink=function(a,c){a=b("XMNCommerceUnlinkController").getURIBuilder().setString("page_id",a).setString("user_id",c).getURI();new(b("AsyncRequest"))().setURI(a).setErrorHandler(this.$1).send()};a.prototype.$1=function(a){b("MNCommerceDialogStateActions").showDialog(b("MNCommerceUnlinkDialogContainer.react"),{errorType:a.error})};function a(){}e.exports=new a()}),null);
__d("MNCommerceLogMessageUtils",["cx","fbt","invariant","BanzaiLogger","CurrentUser","Link.react","MercuryIDs","MessengerState.bs","MNCommerceDialogStateActions","MNCommerceLoggerEvents","MNCommerceLoggingConstants","MNCommercePromotionBlockDataManager","MNCommercePromotionManageBlockDialogContainer.react","MNCommerceReplyTypes","MNCommerceUnlinkDataManager","MNCommerceUnlinkDialogContainer.react","React","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a.prototype.isCommercePageAdminMessage=function(a){return!!(a&&a.log_message_data&&(a.log_message_data.replyType===b("MNCommerceReplyTypes").COMMERCE_LINK||a.log_message_data.replyType===b("MNCommerceReplyTypes").COMMERCE_UNLINK))};a.prototype.getCommercePageManage=function(a,c){__p&&__p();var d=null;if(b("gkx")("AT7IUpMNCDwRhHRxDzBLrJpPbYE8uTJ1DeVPi7kI4P6d1kkPlaoUvVQ4PD7tRb3ytv8Qfy0k-XTjn2GSfPmPRWCn")){var e=function(){var c=b("MercuryIDs").getUserIDFromParticipantID(a.author),d=function(a,c){return b("MNCommercePromotionBlockDataManager").block(a,c)};b("MNCommerceDialogStateActions").showDialog(b("MNCommercePromotionManageBlockDialogContainer.react"),{pageID:c,onConfirmButtonClick:d});b("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:b("MNCommerceLoggerEvents").DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:b("MNCommerceLoggingConstants").DIALOG_SURFACE.MANAGE})})};d=b("React").createElement(b("Link.react"),{className:(c?"":"_2w2m")+(c?" _1jvn":""),onClick:e},h._("Manage"))}else if(a.log_message_data.replyType===b("MNCommerceReplyTypes").COMMERCE_LINK){e=function(){__p&&__p();var c=b("MercuryIDs").getUserIDFromParticipantID(a.author),d=b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),a.thread_id);d||i(0);var e=null;d.participants.every(function(c){if(c!==a.author){e=b("MercuryIDs").getUserIDFromParticipantID(c);return!1}return!0});d=function(){b("MNCommerceDialogStateActions").hideDialog(),b("MNCommerceUnlinkDataManager").unlink(c,e)};b("MNCommerceDialogStateActions").showDialog(b("MNCommerceUnlinkDialogContainer.react"),{onTurnOffButtonClick:d});b("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:b("MNCommerceLoggerEvents").DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:b("MNCommerceLoggingConstants").DIALOG_SURFACE.UNLINK})})};d=b("React").createElement(b("Link.react"),{className:(c?"":"_2w2m")+(c?" _1jvn":""),onClick:e},h._("Turn Off"))}return b("React").createElement("span",null,a.log_message_body," ",d)};function a(){}e.exports=new a()}),null);
__d("InstantGamesAnalyticsLogger",["Promise","ClientIDs","RelayAPIConfig","RelayFBEnvironment","RelayModern","InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ClientIDs").getNewClientID,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=function(){return b("InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql")};function a(a){this.$1=a}a.prototype.logCustomAppEvent=function(a,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=d?JSON.stringify(d):null;return new(b("Promise"))(function(d,f){h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,event_name:a,game_id:this.$1,client_mutation_id:g(),value_to_sum:c,params:e}},onCompleted:d,onError:f})}.bind(this))};e.exports=a}),null);
__d("MessengerGamesCustomUpdateAdmin.react",["cx","fbt","Image.react","Link.react","MessengerButtonReact.bs","MessengerContactImageReact.bs","React","RelayModern","MessengerGamesCustomUpdateAdmin_gameInfo.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MessengerButtonReact.bs").jsComponent,k=b("MessengerContactImageReact.bs").jsComponent;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=this.props.data.getImageURL(),c=this.props.data.getText(),d=this.props.data.getTitle()?this.props.data.getTitle():h._("Play");return!this.props.gameInfo?b("React").createElement("span",null,c):b("React").createElement("div",null,b("React").createElement(b("Link.react"),{className:"_fy2 _2621","aria-haspopup":"true","aria-label":h._("View Less"),href:"#",onClick:this.props.hideAdmin,role:"button"}),b("React").createElement("div",{className:"_261_"},b("React").createElement(k,{size:25,src:this.props.gameInfo.iconURI}),b("React").createElement("h2",{className:"_2620"},this.props.gameInfo.name)),b("React").createElement("div",{className:"_3rpv"},b("React").createElement(b("Image.react"),{className:"_3rp-",onClick:this.props.playGame,src:a}),b("React").createElement("div",{className:"_3rp_"},c),b("React").createElement("div",{className:"_3cnr"},b("React").createElement(j,{className:"_3rq0 _fy2",label:d,onClick:this.props.playGame,type:"primary",use:"default"}))))};function a(){i.apply(this,arguments)}e.exports=c(a,{gameInfo:function(){return b("MessengerGamesCustomUpdateAdmin_gameInfo.graphql")}})}),null);
__d("MessengerGamesCustomUpdateAdminContainer.react",["fbt","MessengerGamesCustomUpdateAdmin.react","React","RelayFBEnvironment","RelayModern","MessengerGamesCustomUpdateAdminContainerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){__p&&__p();return b("React").createElement(j,{environment:b("RelayFBEnvironment"),query:i||(i=function(){return b("MessengerGamesCustomUpdateAdminContainerQuery.graphql")}),variables:{gameID:this.props.gameID},render:function(a){var c=a.error;a=a.props;if(c)return b("React").createElement("div",null,g._("Failed to Load"));else if(a){c=a.node&&a.node.gameInfo;return!c?b("React").createElement("div",null,this.props.text):b("React").createElement(b("MessengerGamesCustomUpdateAdmin.react"),babelHelpers["extends"]({},this.props,{gameInfo:c}))}return this.props.renderLoading()}.bind(this)})};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("GamesQuicksilverContextKey",["InstantGameContextType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a.id,this.$2=a.size,this.$3=a.sourceID,this.$4=a.type}a.prototype.getID=function(){return this.$1};a.prototype.getSize=function(){return this.$2};a.prototype.getSourceID=function(){return this.$3};a.prototype.getType=function(){return this.$4};a.prototype.getTypeAPIValue=function(){switch(this.getType()){case b("InstantGameContextType").LINK:case b("InstantGameContextType").GROUP:return"group";case b("InstantGameContextType").STORY:return"post";case b("InstantGameContextType").THREAD:return"thread";case b("InstantGameContextType").SOLO:default:return"solo"}};a.prototype.getSDKContextInfo=function(){return{contextID:this.$1,contextSize:this.$2,contextType:this.getTypeAPIValue()}};a.prototype.isGroup=function(){return this.$4===b("InstantGameContextType").GROUP||this.$4===b("InstantGameContextType").LINK};a.prototype.isStory=function(){return this.$4===b("InstantGameContextType").STORY};a.prototype.isThread=function(){return this.$4===b("InstantGameContextType").THREAD};a.prototype.isSoloPlay=function(){return this.$4===b("InstantGameContextType").SOLO};e.exports=a}),null);
__d("MessengerGamesCustomUpdateData",["GamesQuicksilverContextKey","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();this.$1=null;this.$2=a.custom_image_url||null;this.$4=a.text||a.collapsed_text||a.expanded_text||"";this.$5=a.cta_title;this.$6=a.template||null;a=new(b("URI"))(a.cta_url).getQueryData();this.$3=a.payload||null;var c=a.context_id||null;a=a.context_type;a&&(this.$1=new(b("GamesQuicksilverContextKey"))({id:null,size:null,sourceID:c,type:a}))}a.prototype.getContextKey=function(){return this.$1};a.prototype.getImageURL=function(){return this.$2};a.prototype.getPayload=function(){return this.$3};a.prototype.getTitle=function(){return this.$5};a.prototype.getText=function(){return this.$4};a.prototype.getTemplate=function(){return this.$6};e.exports=a}),null);
__d("MessengerGameAdminMessageRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("react-relay/classic/route/RelayRoute"));g&&g.prototype;function a(){g.apply(this,arguments)}a.routeName="MessengerGameAdminMessageRoute";a.queries={adminMessageText:function(a){return function(a){return{calls:[{kind:"Call",metadata:{type:"MessageData!"},name:"thread_and_message_id",value:{kind:"CallVariable",callVariableName:"messageData"}}],children:[].concat.apply([],[{fieldName:"__typename",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"},b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"message",kind:"Query",metadata:{isAbstract:!0,identifyingArgName:"thread_and_message_id",identifyingArgType:"MessageData!"},name:"MessengerGameAdminMessageRoute",type:"Message"}}(a.getFragment("adminMessageText"))}};a.paramDefinitions={messageData:{type:"MessageData!",required:!0}};e.exports=a}),null);
__d("MessengerGamesLeaderboardProfileImage.react",["MessengerContactImageReact.bs","React","RelayFBEnvironment","RelayModern","MessengerGamesLeaderboardProfileImageQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("MessengerContactImageReact.bs").jsComponent,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(j,{environment:b("RelayFBEnvironment"),query:h||(h=function(){return b("MessengerGamesLeaderboardProfileImageQuery.graphql")}),render:function(a){a.error;a=a.props;if(a){return b("React").createElement(i,{size:40,src:(a=a.user)!=null?(a=a.profilePicture)!=null?a.uri:a:a,customBadge:String(this.props.rank)})}return b("React").createElement(i,{size:40,src:null,customBadge:String(this.props.rank)})}.bind(this),variables:{userID:this.props.userID}})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("MessengerGamesHorizontalLeaderboard.react",["cx","MessengerGamesLeaderboardProfileImage.react","MessengerHorizontalScroll.react","MessengerResponsiveBlock.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=10,j=150,k=function(a){var c=a.name;a=a.score;return b("React").createElement("div",{className:"_4u4_"},b("React").createElement("h3",null,c),b("React").createElement("div",null,a))},l=function(a,c){if(!a)return null;var d=a.score_str,e=a.id,f=a.name;a=a.rank;return b("React").createElement("div",{className:"_4u50",key:c},b("React").createElement(b("MessengerGamesLeaderboardProfileImage.react"),{userID:e,rank:a}),b("React").createElement(k,{name:f,score:d}))};h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.componentDidMount=function(){this.props.onLoad&&this.props.onLoad()};a.prototype.render=function(){var a=this.props.leaderboard.scores;return b("React").createElement(b("MessengerResponsiveBlock.react"),{breakpointsToggles:function(a){return[a]}},function(c){c=c[0];return b("React").createElement(b("MessengerHorizontalScroll.react"),{batchScroll:!0,childPadding:i,childWidth:j,numChildrenVisible:Math.floor(c/(j+i)),width:c||0},a.map(l).filter(Boolean))})};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("MessengerGamesExpandedAdmin.react",["cx","fbt","Link.react","MessengerButtonReact.bs","MessengerContactImageReact.bs","MessengerGamesHorizontalLeaderboard.react","React","RelayClassic_DEPRECATED","react-relay/classic/query/RelayQL"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MessengerButtonReact.bs").jsComponent,k=b("MessengerContactImageReact.bs").jsComponent,l=function(a){var c=a.name;a=a.uri;return b("React").createElement("div",{className:"_261_"},b("React").createElement(k,{size:25,src:a}),b("React").createElement("h2",{className:"_2620"},c))};i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.componentDidMount=function(){this.props.onLoad&&this.props.onLoad()};a.prototype.render=function(){var a,c,d=this.$1(),e=this.$2();if(!e||!d)return null;c=(c=e)!=null?(c=c.game)!=null?c.name:c:c;a=(a=e)!=null?(a=a.game)!=null?(a=a.instant_game_info)!=null?a.icon_uri:a:a:a;return b("React").createElement("div",null,b("React").createElement("div",{className:"_4ea2 _2kar"}),b("React").createElement(b("Link.react"),{className:"_fy2 _2621","aria-haspopup":"true","aria-label":h._("View Less"),href:"#",onClick:this.props.hideAdmin,role:"button"}),b("React").createElement(l,{name:c,uri:a}),b("React").createElement("div",{className:"_2622"},e.expanded_text),b("React").createElement(b("MessengerGamesHorizontalLeaderboard.react"),{leaderboard:d,onLoad:this.props.onLoad}),b("React").createElement(j,{className:"_fy2 _2623",label:h._("Play Now"),onClick:this.props.playGame,type:"primary",use:"default"}),b("React").createElement("div",{className:"_4ea2 _2kar"}))};a.prototype.$1=function(){var a;a=((a=this.props.data)!=null?a.leaderboard_json:a)||((a=this.props.data)!=null?a.leaderboard:a);return!a?null:JSON.parse(a)};a.prototype.$2=function(){var a;return(a=this.props)!=null?(a=a.adminMessageText)!=null?a.extensible_message_admin_text:a:a};function a(){i.apply(this,arguments)}e.exports=b("RelayClassic_DEPRECATED").createContainer(a,{fragments:{adminMessageText:function(){return function(){return{children:[{fieldName:"__typename",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"},{children:[{children:[{fieldName:"__typename",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"},{children:[{children:[{fieldName:"name",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"icon_uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"instant_game_info",kind:"Field",metadata:{canHaveSubselections:!0},type:"GamesInstantPlayStyleInfo"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"game",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Application"},{fieldName:"expanded_text",kind:"Field",metadata:{},type:"String"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"InstantGameUpdateExtensibleMessageAdminText",type:"InstantGameUpdateExtensibleMessageAdminText"}],fieldName:"extensible_message_admin_text",kind:"Field",metadata:{canHaveSubselections:!0,isAbstract:!0},type:"ExtensibleMessageAdminText"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"GenericAdminTextMessage",type:"GenericAdminTextMessage"},{children:[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{isAbstract:!0},name:"IdFragment",type:"Node"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{isAbstract:!0},name:"MessengerGamesExpandedAdmin_AdminMessageTextRelayQL",type:"Message"}}()}}})}),null);
__d("MessengerGamesExpandedAdminContainer.react",["fbt","MessengerGameAdminMessageRoute","MessengerGamesExpandedAdmin.react","React","RelayClassic_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RelayClassic_DEPRECATED").RootContainer;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.renderLoaded=function(a){var c=this.props,d=c.gameID,e=c.hideAdmin,f=c.playGame;c=c.threadFBID;return b("React").createElement(b("MessengerGamesExpandedAdmin.react"),babelHelpers["extends"]({},a,{data:this.props.data,gameID:d,hideAdmin:e,onLoad:this.props.onLoad,playGame:f,threadFBID:c}))}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.messageID,d=a.threadFBID;a=a.renderLoading;return b("React").createElement(i,{Component:b("MessengerGamesExpandedAdmin.react"),route:new(b("MessengerGameAdminMessageRoute"))({messageData:{message_id:c,thread_id:d}}),renderLoading:a,renderFetched:this.renderLoaded,renderFailure:this.renderFailure})};a.prototype.renderFailure=function(){return g._("Failed to Load")};e.exports=a}),null);
__d("MessengerGameAdminMessage.react",["cx","fbt","AppCustomEventType","Bootloader","ImmutableObject","InstantGameContextType","InstantGamesAnalyticsLogger","Link.react","MercuryIDs","MessengerDialogs.bs","MessengerGamesCustomUpdateAdminContainer.react","MessengerGamesCustomUpdateData","MessengerGamesExpandedAdminContainer.react","QuicksilverSources","React","UniversalCustomEventField"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state=this.$1(),this.renderText=function(){return b("React").createElement("span",null,b("React").createElement("span",null,this.props.text," "),b("React").createElement(b("Link.react"),{className:"_fy2",onClick:this.state.isExpanded?this.$2:this.$4},h._("View")))}.bind(this),this.$3=function(){__p&&__p();if(this.state.playerOpen)return;b("Bootloader").loadModules(["MessengerGamesQuicksilverPlayerContainer.react"],function(a){b("MessengerDialogs.bs").showDialog(function(){var c=this.getXMATData(),d=c.update_data?JSON.parse(c.update_data):c;d=new(b("MessengerGamesCustomUpdateData"))(d);c.update_type==="custom_message"&&this.$5(c.game_id,d);var e=b("MercuryIDs").getThreadFBIDFromThreadID(this.props.message.thread_id),f=b("InstantGameContextType").SOLO,g=null,h=d.getContextKey();h?(f=h.getType(),g=h.getSourceID()):e&&(f=b("InstantGameContextType").THREAD,g=e);return b("React").createElement(a,{initialContextSourceID:g,initialContextType:f,initialEntryPointData:d.getPayload()||undefined,initialGameID:c.game_id,onHide:this.$6,initialSource:b("QuicksilverSources").MESSENGER_ADMIN_MESSAGE,sourceID:e,invitationID:this.props.message.message_id,threadID:this.props.message.thread_id})}.bind(this))}.bind(this),"MessengerGameAdminMessage.react");this.setState({playerOpen:!0})}.bind(this),this.$6=function(){b("MessengerDialogs.bs").removeAllDialogs(),this.setState({playerOpen:!1})}.bind(this),this.$4=function(){this.setState({isExpanded:!0})}.bind(this),this.$2=function(){this.setState({isExpanded:!1})}.bind(this),c}a.prototype.$1=function(){return{isExpanded:this.props.isLastOfType,playerOpen:!1}};a.prototype.componentDidMount=function(){this.props.onLoad&&this.props.onLoad()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.props.isLastOfType!==a.isLastOfType&&this.setState({isExpanded:a.isLastOfType})};a.prototype.getXMATData=function(){return this.props.message.log_message_data&&this.props.message.log_message_data.untypedData?new(b("ImmutableObject"))(this.props.message.log_message_data.untypedData):new(b("ImmutableObject"))()};a.prototype.render=function(){var a=this.getXMATData(),c=null;switch(a.update_type){case"game_score":return this.state.isExpanded?b("React").createElement("span",null,b("React").createElement(b("MessengerGamesExpandedAdminContainer.react"),{data:a,hideAdmin:this.$2,gameID:a.game_id,messageID:this.props.message.message_id,playGame:this.$3,threadFBID:b("MercuryIDs").getThreadFBIDFromThreadID(this.props.message.thread_id),onLoad:this.props.onLoad,renderLoading:this.renderText})):b("React").createElement("span",null,this.renderText(),c);case"custom_message":var d=a.update_data?JSON.parse(a.update_data):a;d=new(b("MessengerGamesCustomUpdateData"))(d);return this.state.isExpanded?b("React").createElement("span",null,b("React").createElement(b("MessengerGamesCustomUpdateAdminContainer.react"),{data:d,gameID:a.game_id,hideAdmin:this.$2,playGame:this.$3,renderLoading:this.renderText,text:this.props.text})):b("React").createElement("span",null,this.renderText(),c);default:return b("React").createElement("span",null,this.props.text)}};a.prototype.$5=function(a,c){a=new(b("InstantGamesAnalyticsLogger"))(a);var d={};d[b("UniversalCustomEventField").FB_INSTANT_GAMES_TEMPLATE_NAME]=c.getTemplate();a.logCustomAppEvent(b("AppCustomEventType").FB_INSTANT_GAMES_UPDATE_CLICK,null,d)};a.propTypes={message:c.instanceOf(b("ImmutableObject")).isRequired,text:c.string.isRequired,isLastOfType:c.bool.isRequired};e.exports=a}),null);
__d("MessengerGroupPollingUtils",["ix","CurrentUser","FacepileRounded.react","MercuryIDs","MessengerParticipants.bs","MessengerTextWithEntities.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=2;a={renderEmojiText:function(a){return b("React").createElement(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:a})},renderVoterFacepiles:function(a,c,d,e,f){var g=h,i=d-h;d===h+1&&(g=d,i=0);return b("React").createElement(b("FacepileRounded.react"),{className:a,imageSize:c,direction:"descending",numProfilesToDisplay:g,remainingProfilesCount:i,profiles:this._getProfilePictures(g,e,f),hoverBehavior:"name"})},_getProfilePictures:function(a,c,d){__p&&__p();if(d===!0){d=b("CurrentUser").getID();d=c.indexOf(d);if(d!==-1){var e=c[d];c[d]=c[0];c[0]=e}}d=c.slice(0,a).map(function(a){a=b("MercuryIDs").getParticipantIDFromUserID(a);a=b("MessengerParticipants.bs").getNow(a);return{image_src:a&&a.image_src||g("98939"),name:a&&a.name||"Facebook User"}});e=c.slice(a,c.length).map(function(a){var c=b("MercuryIDs").getParticipantIDFromUserID(a);c=b("MessengerParticipants.bs").getNow(c);return{image_src:a,name:c&&c.name||"Facebook User"}});return d.concat(e)}};e.exports=a}),null);
__d("XMessagingGetPollOptionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/mercury/get_poll_options/",{question_id:{type:"FBID",required:!0}})}),null);
__d("MessengerGroupPollingAdminMessage.react",["cssVar","cx","fbt","ix","AsyncRequest","BootloadOnRender.react","Image.react","ImmutableObject","JSResource","LazyComponent.react","MessengerContextualDialog.react","MessengerEnvironment","MessengerGroupPollingUtils","MessengerSpinner.react","React","XMessagingGetPollOptionsController"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k;c=b("React").PropTypes;var l=16,m=24,n=j("86887"),o=j("86886"),p=3;d=babelHelpers.inherits(a,b("React").Component);k=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.state={flyoutOpen:!1,options:null},this.$1=!1,this.$4=function(a){this.setState({flyoutOpen:a})}.bind(this),this.$5=function(){this.setState({flyoutOpen:!1})}.bind(this),this.$9=function(a){this.$1=this.state.flyoutOpen}.bind(this),this.$8=function(a){a.stopPropagation();if(this.state.flyoutOpen||this.$1)return;!this.state.options&&!this.state.flyoutOpen&&this.$2();this.setState({flyoutOpen:!this.state.flyoutOpen})}.bind(this),b}a.prototype.componentDidMount=function(){this.$2()};a.prototype.render=function(){__p&&__p();var a,c=this.props.customColor||"#0084ff",d=b("MessengerGroupPollingUtils").renderEmojiText(this.props.message.log_message_body),e=b("MessengerEnvironment").messengerui,f=this.props.isLastOfType||this.state.flyoutOpen&&e;if(!f)return d;f=(f=this.props.message)!=null?(f=f.log_message_data)!=null?(f=f.untypedData)!=null?f.question_json:f:f:f;f=f&&JSON.parse(f);if(!f)return this.$3();var g=e?m:l,h=b("React").createElement("div",{className:"_8bt"+(e?"":" _5il4")},b("React").createElement(b("MessengerSpinner.react"),{color:"grey"})),j=null;this.state.flyoutOpen&&(j=b("React").createElement(b("MessengerContextualDialog.react"),{contextRef:function(){return this.refs.voteButton}.bind(this),shown:this.state.flyoutOpen,onToggle:this.$4,onBlur:this.$5},b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{customColor:c,questionID:f.id,questionText:f.text,options:this.state.options,onSubmitHandler:this.$5}),loader:b("JSResource")("MessengerGroupPollingFlyout.react").__setRef("MessengerGroupPollingAdminMessage.react"),placeholder:h})));if(!this.state.options)return d;h=this.state.options.slice(0,p).map(function(a){var b;b=(b=a)!=null?(b=b.voters)!=null?b.edges:b:b;var c=[];b&&(c=b.map(function(a){return a.node.id}));return babelHelpers["extends"]({},a,{total_count:a.voters.count,voters:c})});var k=((a=h)!=null?(a=a[0])!=null?a.total_count:a:a)||0;a=h.map(function(a){return b("React").createElement("div",{className:"_3b4a"+(e?"":" _4ic5"),key:a.id},b("React").createElement("div",{className:"_3b4c"},b("React").createElement("div",{className:(e?"_3b4f":"")+(e?"":" _4ic6")},b("MessengerGroupPollingUtils").renderEmojiText(a.text)),b("MessengerGroupPollingUtils").renderVoterFacepiles("_4ic7"+(e?"":" _8kg"),g,a.total_count,a.voters,a.viewer_has_voted==="true")),b("React").createElement("div",{className:"_3b4h"+(e?"":" _4ic8")},b("React").createElement("span",{style:{width:this.$6(a.total_count,k),backgroundColor:c}})))}.bind(this));h=f.viewer_has_voted==="true"?i._("Change Vote"):i._("Vote");return b("React").createElement("div",null,d,b("React").createElement("div",{className:"_3b4t"+(e?"":" _4ic9")},b("React").createElement("div",{className:"_3b4u"+(e?"":" _2wew")},b("React").createElement(b("Image.react"),{className:"_4ica"+(e?"":" _2ozk"),src:e?n:o}),i._("Poll")),b("React").createElement("div",{className:(e?"_3b4v":"")+(e?"":" _2wex")},b("MessengerGroupPollingUtils").renderEmojiText(f.text)),b("React").createElement("div",{className:"_3b4w"},a),b("React").createElement("div",{className:"_8bu"},this.$7(f.total_count)),b("React").createElement("div",{className:"_4icb"+(e?"":" _4icc")+(e?" uiContextualLayerParent":"")+(e?" _5f0v":""),onClick:this.$8,onMouseDown:this.$9,ref:"voteButton",role:"button",style:{color:c},tabIndex:"0"},h,j)))};a.prototype.$3=function(){return b("React").createElement("span",null,i._("{original-admin-message} Use the mobile app to vote.",[i._param("original-admin-message",this.props.message.log_message_body)]))};a.prototype.$7=function(a){a=a-p;if(a<=0)return null;else return i._({"*":"{number of remaining answer options} more options...","_1":"{number of remaining answer options} more option..."},[i._param("number of remaining answer options",a),i._plural(a)])};a.prototype.$2=function(){__p&&__p();var a;a=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.question_id:a:a:a;if(!a){this.setState({options:[]},function(){typeof this.props.onLoad==="function"&&this.props.onLoad()}.bind(this));return}a=b("XMessagingGetPollOptionsController").getURIBuilder().setFBID("question_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){this.setState({options:a.payload},function(){typeof this.props.onLoad==="function"&&this.props.onLoad()}.bind(this))}.bind(this)).send()};a.prototype.$6=function(a,b){return b===0?"0%":a/b*100+"%"};a.propTypes={customColor:c.string,message:c.instanceOf(b("ImmutableObject")).isRequired,isLastOfType:c.bool.isRequired,onLoad:c.func};e.exports=a}),null);
__d("MessengerWaveEntrypoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DIVEBAR:"divebar",THREAD_VIEW:"thread_view",NEW_FRIEND_BUMP:"new_friend_bump",GROUP_NULL_STATE:"group_null_state",CANONICAL_NULL_STATE:"canonical_null_state",PROFILE:"profile"})}),null);
__d("MessengerNewWavePrompt.react",["cx","fbt","ix","MercuryMessageActions","Bootloader","Image.react","MercuryConfig","MercuryMessageObject","MercuryMessages","MercurySourceType","MessagingGenericAdminTextType","MessengerButtonReact.bs","CurrentUser","MessengerWaveEntrypoint","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("MercuryMessageActions").get(),l=b("MessengerButtonReact.bs").jsComponent,m=b("CurrentUser").getID(),n=i("392389");c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={hasWaved:!1,shouldPromptWave:!1},this.$3=function(event){var a=b("MercuryMessageObject").getForFBID(m).constructAttachmentMessageObject(b("MercurySourceType").MESSENGER_WEB,this.props.threadID);a.lightweight_action_attachment={lwa_state:"INITIATED",lwa_type:"WAVE"};k.send(a);this.$4(this.props.threadID,this.props.entrypoint);this.setState({hasWaved:!0})}.bind(this),c}a.prototype.componentDidMount=function(){b("MercuryMessages").get().getThreadMessagesRange(this.props.threadID,0,1,function(a){return this.$1(a)}.bind(this))};a.prototype.render=function(){if(!this.state.shouldPromptWave||this.state.hasWaved)return null;var a=this.props.recipientName?h._("Say hi to {recipient} with a wave.",[h._param("recipient",this.props.recipientName)]):h._("Say hi with a wave.");return b("React").createElement("div",{className:"_4qet"},b("React").createElement("h3",{className:"_4qeu"},a),b("React").createElement("div",{className:"_63l7"},b("React").createElement(b("Image.react"),{className:"_4qev",src:n})),this.$2())};a.prototype.$2=function(){return b("React").createElement(l,{className:"_4qew",onClick:this.$3,label:h._("Wave"),type:"primary",use:"default"})};a.prototype.$1=function(a){if(!a.length){this.setState({shouldPromptWave:b("MercuryConfig").MNWNS});return}a=a[0];this.setState({shouldPromptWave:a.source===b("MercurySourceType").FRIENDING_ADMIN_BUMP||a.log_message_data!=null&&a.log_message_data.message_type===b("MessagingGenericAdminTextType").CONFIRM_FRIEND_REQUEST||a.log_message_data!=null&&a.log_message_data.message_type===b("MessagingGenericAdminTextType").GROUP_THREAD_CREATED})};a.prototype.$4=function(a,c){b("Bootloader").loadModules(["MercuryIDs","MessengerWebWaveTypedLogger","LightweightActionState"],function(b,d,e){b=b.getUserIDFromThreadID(a);new d().setUserID(m).setRecipientID(b).setEntrypoint(c).setLwaState(e.INITIATED).log()},"MessengerNewWavePrompt.react")};a.propTypes={threadID:c.string.isRequired,recipientName:c.string,entrypoint:c.oneOf(Object.values(b("MessengerWaveEntrypoint"))).isRequired};e.exports=a}),null);
__d("MessengerPagesCommercePaymentEnabledAdminMessage.react",["cssVar","cx","fbt","ix","Image.react","Link.react","MessengerEnvironment","PagesCommerceBuyerNUXDialog.react","React"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k;c=babelHelpers.inherits(a,b("React").PureComponent);k=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.state={showDialog:!1},this.$1=function(){this.setState({showDialog:!1})}.bind(this),this.$2=function(){this.setState({showDialog:!0})}.bind(this),b}a.prototype.render=function(){var a=b("MessengerEnvironment").messengerui;return b("React").createElement("div",{className:a?"_2piv":""},b("React").createElement(b("Image.react"),{className:"_3-96",src:j("275999")}),b("React").createElement("div",null,this.props.message.log_message_body),b("React").createElement("div",{className:"_3-8w"},b("React").createElement(b("Link.react"),{onClick:this.$2,style:{color:"#0084ff",textDecoration:"none"}},i._("Learn More"))),b("React").createElement(b("PagesCommerceBuyerNUXDialog.react"),{isShown:this.state.showDialog,onConfirm:this.$1}))};e.exports=a}),null);
__d("LightweightEventGuestStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GOING:"GOING",INVITED:"INVITED",DECLINED:"DECLINED"})}),null);
__d("XEventReminderRSVPController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/eventreminder/rsvp/",{acontext:{type:"String",required:!0},event_reminder_id:{type:"Int",required:!0},guest_state:{type:"Enum",required:!0,enumType:1}})}),null);
__d("MessengerReminderAdminMessage.react",["cx","fbt","AsyncRequest","CurrentUser","EventPlanStrings","EventReminderConstants","EventsMessengerComActionContextJSConfig","FBJSON","ImmutableObject","LightweightEventGuestStatus","MessagingGenericAdminTextType","MessengerButtonReact.bs","React","XEventReminderRSVPController","formatDate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MessengerButtonReact.bs").jsComponent;c=b("React").PropTypes;var k=b("EventReminderConstants").GuestStates;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.$1=function(){var a;a=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.guest_state_list:a:a:a;if(typeof a==="string")try{a=JSON.parse(a)}catch(a){return[]}return Array.isArray(a)?a:[]};a.prototype.$2=function(){return this.$1().filter(function(a){return a.guest_list_state===b("LightweightEventGuestStatus").GOING}).length};a.prototype.$3=function(){var a=this.$2();return b("React").createElement("div",{className:"_3wan"+(this.props.isMessenger?"":" _3wao")},b("EventPlanStrings").getSubtitle(a,null,!1))};a.prototype.$4=function(){__p&&__p();var a;if(!this.props.isMessenger)return null;a=(a=this.props.message)!=null?(a=a.log_message_data)!=null?a.message_type:a:a;if(a===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_DELETE)return null;a=this.$5();if(!a)return null;var c=Math.floor(Date.now()/1e3);if(a<=c)return null;a=b("LightweightEventGuestStatus").INVITED;c=this.$1();for(var d=0;d<c.length;d++)c[d].node&&c[d].node.id===b("CurrentUser").getID()&&(a=c[d].guest_list_state);d=h._("Going");c=h._("Can't Go");return b("React").createElement("div",{className:"_3waq"},b("React").createElement("div",{className:"_3war"},b("React").createElement(j,{className:"_3waw"+(a===b("LightweightEventGuestStatus").GOING?" _3wat":""),onClick:function(event){event.stopPropagation(),this.$6(k.GOING)}.bind(this),label:d,type:"primary",use:"default"})),b("React").createElement("div",{className:"_3wax"},b("React").createElement(j,{className:"_3waw"+(a===b("LightweightEventGuestStatus").DECLINED?" _3wat":""),onClick:function(event){event.stopPropagation(),this.$6(k.DECLINED)}.bind(this),label:c,type:"primary",use:"default"})))};a.prototype.$6=function(a){var c;c=(c=this.props.message)!=null?(c=c.log_message_data)!=null?(c=c.untypedData)!=null?c.event_id:c:c:c;if(!c)return;var d={action_history:[{surface:b("EventsMessengerComActionContextJSConfig").messenger_com,mechanism:b("EventsMessengerComActionContextJSConfig").reminder_admin_text}]};c=b("XEventReminderRSVPController").getURIBuilder().setInt("event_reminder_id",c).setEnum("guest_state",a).setString("acontext",b("FBJSON").stringify(d));new(b("AsyncRequest"))(c.getURI()).send()};a.prototype.$5=function(){var a;a=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_time:a:a:a;if(!a)return null;typeof a==="string"&&(a=parseInt(a,10));return a};a.prototype.$7=function(){__p&&__p();var a,c=this.$5();if(!c)return[null,null];a=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_end_time:a:a:a;typeof a==="string"?a=parseInt(a,10):typeof a!=="number"&&(a=0);var d=Math.floor(Date.now()/1e3),e=b("formatDate")(c,"j"),f=e[e.length-1]>="0"&&e[e.length-1]<=9,g=b("formatDate")(c,"M"),i=[];i.push(this.props.isMessenger?b("React").createElement("div",{className:"_3way"},b("React").createElement("div",{className:"_3waz"},g.toUpperCase()),b("React").createElement("div",{className:"_3wa-"+(f?"":" _279y")},e)):null);c<=d&&d<=a?g=h._("Happening now"):g=b("EventPlanStrings").getDisplayDateAndTimeFBT(c);i.push(b("React").createElement("div",{className:"_3wan"+(this.props.isMessenger?"":" _3wao")},g));return i};a.prototype.$8=function(){var a;a=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_title:a:a:a;return a?b("React").createElement("div",{className:"_3wb0"+(this.props.isMessenger?"":" _3wao")},a):null};a.prototype.$9=function(){var a;a=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_location_name:a:a:a;return a?b("React").createElement("div",{className:"_3wan"+(this.props.isMessenger?"":" _3wao")},a):null};a.prototype.render=function(){var a=this.props.message;a=a.log_message_body;if(!this.props.isLastOfType)return b("React").createElement("span",null," ",a," ");var c=this.$3(),d=this.$4(),e=this.$7(),f=e[0];e=e[1];var g=this.$8(),h=this.$9();return b("React").createElement("div",null,a,b("React").createElement("div",{className:"_3wb1"},f,b("React").createElement("div",{className:"_3wb3"+(this.props.isMessenger?"":" _3wb4")},g,e,h||c),d))};function a(){i.apply(this,arguments)}a.propTypes={message:c.instanceOf(b("ImmutableObject")).isRequired,isLastOfType:c.bool.isRequired,isMessenger:c.bool.isRequired};e.exports=a}),null);
__d("PagesMarkAsPaidMessagingActionText.react",["fbt","CommerceInvoiceAdminActions","Link.react","PagesCommercePaymentInvoiceReferrer","React"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return!a.isPageMessage?null:b("React").createElement("div",null,a.message," ",b("React").createElement(b("Link.react"),{onClick:c},g._("Confirm receipt")));function c(){b("CommerceInvoiceAdminActions").toggleActionsDialog(!0,a.messageID,"confirm_payment",b("PagesCommercePaymentInvoiceReferrer").XMAT)}};e.exports=a}),null);
__d("XMessagingPartiesImageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/parties/parties_images/",{})}),null);
__d("PartiesInviteAdmin.react",["cx","fbt","ix","AsyncRequest","Image.react","MessengerButtonReact.bs","MessengerContactImageReact.bs","React","XMessagingPartiesImageController"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("MessengerButtonReact.bs").jsComponent,l=b("MessengerContactImageReact.bs").jsComponent;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.UNSAFE_componentWillMount=function(){var a=b("XMessagingPartiesImageController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).setHandler(function(a){this.setState({imageURI:a.payload.bonfire_image_uri})}.bind(this)).setErrorHandler(function(a){}).send()};a.prototype.render=function(){var a=this.props,c=a.logMessage,d=a.actionText,e=a.isInvite;a=a.actionBehavior;e=e?"":h._("Join the video chat through Messenger.");return this.state?b("React").createElement("div",null,b("React").createElement("div",{className:"_6153"},b("React").createElement(l,{size:25,src:i("348994")}),b("React").createElement("h2",{className:"_6154"},"Bonfire")),b("React").createElement("div",{className:"_6155"},c," ",e),b("React").createElement("div",{className:"_6156"},b("React").createElement(b("Image.react"),{className:"_6157",src:this.state.imageURI}),b("React").createElement("div",{className:"_3cnr"},b("React").createElement(k,{className:"_6158 _fy2",label:d,onClick:a,type:"primary",use:"default"})))):b("React").createElement("span",null,c)};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("PartiesInviteType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INVITE:0,NUDGE:1,FIRESTARTER:2,MISSED_CALL:3,POST_CONNECTED_CALL:4,PRESENCE:5})}),null);
__d("XBonfireAppController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/bonfire/{?*bonfire_id}",{bonfire_id:{type:"String"},referrer:{type:"String"}})}),null);
__d("XFacebookBonfireController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fbbonfire/",{rest:{type:"String"}})}),null);
__d("PartiesUtils",["CurrentUser","URI","XBonfireAppController","XFacebookBonfireController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("URI"))(document.URL),h=b("XBonfireAppController").getURIBuilder().getURI().setDomain(g.getDomain().replace(/\.[^.]+\.com$/,".mybonfire.com")).setProtocol("https").toString();function i(a){return/^\d+$/.test(a)}a={payloadParticipantsToPartiesUsers:function(a){return a.map(function(a){return{accepts_messenger_user_feedback:!1,big_image_src:a.profile_picture_uri,employee:!1,fbid:a.fbid.toString(),gender:0,href:null,id:"fbid:"+a.fbid.toString(),image_src:a.profile_picture_uri,is_business_enabled:null,is_employee_away:null,is_friend:null,is_messenger_user:null,is_messenger_platform_bot:null,is_parties_user:!0,is_verified:null,name:a.display_name,short_name:a.display_name,type:null,vanity:a.username,timezone:null,personal_id:null,work_id:null}})},joinBonfire:function(a,c){if(i(a)){a=b("CurrentUser").isWorkUser()?b("XFacebookBonfireController").getURIBuilder().getURI()+a:b("XBonfireAppController").getURIBuilder().setString("bonfire_id",a).setString("referrer",c).getURI().setDomain(g.getDomain().replace(/\.[^.]+\.com$/,".mybonfire.com")).setProtocol("https");window.open(a,"_blank")}},navigateToBonfireAppPage:function(){window.open(h,"_blank")}};e.exports=a}),null);
__d("PartiesInviteDialog.react",["cx","fbt","ix","BonfireStrings","Image.react","MercuryIDs","MessengerButtonReact.bs","MessengerDialogCancelButton.react","MessengerDialogHeader.react","MessengerDialogTitle.react","MessengerParticipants.bs","PartiesUtils","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("MessengerButtonReact.bs").jsComponent;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.UNSAFE_componentWillMount=function(){this.$1()};a.prototype.render=function(){return this.$2()};a.prototype.$1=function(){var a=b("MercuryIDs").getParticipantIDFromUserID(this.props.authorID);b("MessengerParticipants.bs").get(a,function(a){this.setState({senderName:a.short_name})}.bind(this))};a.prototype.$2=function(){var a=this.state.senderName||h._("Your friend");return b("React").createElement("div",{className:"_3liw"},b("React").createElement(b("MessengerDialogHeader.react"),null,b("React").createElement(b("MessengerDialogCancelButton.react"),null),b("React").createElement(b("MessengerDialogTitle.react"),null,h._("Bonfire Video Chat"))),b("React").createElement(b("Image.react"),{className:"_6157",src:i("361336")}),b("React").createElement("div",{className:"_1t6j"},b("React").createElement("div",{className:"_1t6l"},h._("You missed {capitalized_sender_name}'s video chat on Bonfire",[h._param("capitalized_sender_name",a)])),b("React").createElement("div",{className:"_1t6m"},h._("Get the Bonfire app to start your own video chats and invite friends."))),b("React").createElement("div",{className:"_3cnr"},b("React").createElement(k,{className:"_352- _fy2",label:b("BonfireStrings").get_bonfire_button,onClick:b("PartiesUtils").navigateToBonfireAppPage,type:"primary",use:"default"})))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("XMessagingPartiesConferenceInfoController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/parties/parties_conference_info/",{sender_fbid:{type:"FBID",required:!0}})}),null);
__d("PartiesJoinPartyInterstitialDialog.react",["cx","fbt","ix","AsyncRequest","BonfireStrings","Image.react","immutable","MercuryIDs","MessengerButtonReact.bs","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogHeader.react","MessengerDialogTitle.react","MessengerParticipants.bs","MessengerRTCGroupCallContactList.react","PartiesInviteDialog.react","PartiesUtils","React","RTCUtils","XMessagingPartiesConferenceInfoController","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("MessengerButtonReact.bs").jsComponent,l=460,m=8;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.UNSAFE_componentWillMount=function(){this.$1(),this.$2(this.props.authorID)};a.prototype.render=function(){var a=h._("Loading...");if(this.state.loading)return this.$3(a,a);else if(this.state.partyConferenceName)return this.$4(this.state.isFull,this.state.isLocked,this.state.partyConferenceName);else return this.$5(this.props.authorID)};a.prototype.$1=function(){var a=b("MercuryIDs").getParticipantIDFromUserID(this.props.authorID);b("MessengerParticipants.bs").get(a,function(a){this.setState({senderName:a.short_name})}.bind(this))};a.prototype.$2=function(a){this.setState({loading:!0});a=b("XMessagingPartiesConferenceInfoController").getURIBuilder().setFBID("sender_fbid",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).setHandler(function(a){var c;((c=a)!=null?(c=c.payload)!=null?c.party_conference_name:c:c)?this.setState({loading:!1,isFull:a.payload.active_users.length>=m,isLocked:a.payload.party_locked,participants:b("PartiesUtils").payloadParticipantsToPartiesUsers(a.payload.active_users),partyConferenceName:a.payload.party_conference_name}):this.setState({loading:!1,partyConferenceName:null})}.bind(this)).setErrorHandler(function(a){}).send()};a.prototype.$4=function(a,c,d){var e=b("immutable").Map(),f=this.$6(),g=this.$7(),j=a||c?this.$8():null;return b("React").createElement(b("MessengerDialog.react"),{onToggle:this.props.onUnmount,type:"default",width:l},b("React").createElement("div",{className:"_2m1r"},b("React").createElement(b("MessengerDialogHeader.react"),null,b("React").createElement(b("MessengerDialogCancelButton.react"),null),b("React").createElement(b("MessengerDialogTitle.react"),null,h._("Bonfire Video Chat")),b("React").createElement(b("MessengerDialogButton.react"),{label:h._("Join"),onClick:function(){return b("PartiesUtils").joinBonfire(d)},type:"primary",disabled:c||a})),b("React").createElement(b("Image.react"),{className:"_6157",src:i("361336")}),b("React").createElement("div",{className:"_1t6j"},b("React").createElement("div",{className:"_1t6l"},f),b("React").createElement("div",{className:"_1t6m"},g)),b("React").createElement("div",{className:"_3oko"},b("React").createElement(b("MessengerRTCGroupCallContactList.react"),{isParticipantSelected:e,onClick:b("emptyFunction"),remoteUsers:b("RTCUtils").payloadParticipantsToRTCUsers(this.state.participants).sort(function(a,b){return a.userName.localeCompare(b.userName)})})),j))};a.prototype.$6=function(){var a=this.state.senderName||h._("Your Friend");return this.state.isLocked?h._("{capitalized_sender_name}'s Bonfire video chat is now locked",[h._param("capitalized_sender_name",a)]):this.state.isFull?h._("{capitalized_sender_name}'s Bonfire video chat is now full",[h._param("capitalized_sender_name",a)]):h._("Join {capitalized_sender_name}'s Bonfire",[h._param("capitalized_sender_name",a)])};a.prototype.$7=function(){var a=this.state.senderName||h._("Your friend");return this.state.isLocked||this.state.isFull?h._("Get the Bonfire app to start your own video chats and invite friends."):h._("{sender_name} is video chatting on Bonfire, and you can join now.",[h._param("sender_name",a)])};a.prototype.$8=function(){return b("React").createElement("div",{className:"_1j95"},b("React").createElement(k,{className:"_352- _fy2",label:b("BonfireStrings").get_bonfire_button,onClick:b("PartiesUtils").navigateToBonfireAppPage,type:"primary",use:"default"}))};a.prototype.$5=function(a){return b("React").createElement(b("MessengerDialog.react"),{onToggle:this.props.onUnmount,type:"default",width:l},b("React").createElement(b("PartiesInviteDialog.react"),{authorID:a,onUnmount:this.props.onUnmount}))};a.prototype.$3=function(a,c){return b("React").createElement(b("MessengerDialog.react"),{onToggle:this.props.onUnmount,type:"default",width:l},b("React").createElement(b("MessengerDialogHeader.react"),null,b("React").createElement(b("MessengerDialogCancelButton.react"),null),b("React").createElement(b("MessengerDialogTitle.react"),null,a)),b("React").createElement("div",{className:"_2m1r"},c))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("PartiesJoinPartyInterstitialDialogController.react",["DOM","PartiesJoinPartyInterstitialDialog.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";var g={_container:b("DOM").create("div"),render:function(a){var c=a.authorID;a.handleCall;a.partiesUserID;b("ReactDOM").render(b("React").createElement(b("PartiesJoinPartyInterstitialDialog.react"),{authorID:c,onUnmount:g._onUnmount}),this._container)},_onUnmount:function(){b("ReactDOM").unmountComponentAtNode(g._container)}};e.exports=g}),null);
__d("PartiesInviteAttachment.react",["fbt","PartiesInviteAdmin.react","PartiesInviteType","PartiesJoinPartyInterstitialDialogController.react","PartiesUtils","React","RTCConfig"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(){b("PartiesJoinPartyInterstitialDialogController.react").render({authorID:this.props.authorID,partiesUserID:this.props.partiesUserID})}.bind(this),c}a.prototype.render=function(){var a=this.props.authorID!==this.props.otherUserID,c=this.props.partiesInviteType?this.props.partiesInviteType===b("PartiesInviteType").INVITE.toString():!0,d=this.$1(c),e=c?b("PartiesUtils").navigateToBonfireAppPage:this.$2,f=this.props.logMessage;return!b("RTCConfig").RenderPartiesMessengerAttachments||a?b("React").createElement("span",null,f):b("React").createElement(b("PartiesInviteAdmin.react"),{actionBehavior:e,actionText:d,isInvite:c,logMessage:f})};a.prototype.$1=function(a){return a?g._("Get Bonfire"):g._("Join Video Chat")};e.exports=a}),null);
__d("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2016667251691695"};c.getQueryID=function(){"use strict";return"391244851334288"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("ServicesAppointmentOptOutRequestsAdminText.react",["fbt","CurrentUser","Link.react","React","ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation","WebGraphQL","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","promiseDone","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={showDialog:!1,showError:!1},this.showDialog=function(){this.setState({showDialog:!0})}.bind(this),this.onHide=function(){this.setState({showDialog:!1}),this.setState({showError:!1})}.bind(this),this.onConfirm=function(){this.setState({showDialog:!1});var a=new(b("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation"))({input:{page_id:this.props.pageID,client_mutation_id:b("uuid")(),actor_id:b("CurrentUser").getID(),user_id:this.props.userID}});b("promiseDone")(b("WebGraphQL").exec(a),function(a){a=(a=a)!=null?(a=a.messenger_appointment_opt_out)!=null?(a=a.messenger_appointment_opt_out)!=null?a.has_opted_out:a:a:a;a||(this.setState({showDialog:!0}),this.setState({showError:!0}))}.bind(this),function(a){this.setState({showDialog:!0}),this.setState({showError:!0})}.bind(this))}.bind(this),c}a.prototype.render=function(){var a=g._("Opt Out");return b("React").createElement("div",null,this.props.message," ",b("React").createElement(b("Link.react"),{onClick:this.showDialog},g._("you can opt out now.")),this.state.showError?this.renderError():b("React").createElement(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.onHide,shown:this.state.showDialog,width:400},b("React").createElement(b("XUIDialogTitle.react"),null,g._("Are you sure?")),b("React").createElement(b("XUIDialogBody.react"),null,g._("You will no longer receive appointment request messages.")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",label:a,onClick:this.onConfirm}))))};a.prototype.renderError=function(){return b("React").createElement(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.onHide,shown:this.state.showDialog,width:400},b("React").createElement(b("XUIDialogTitle.react"),null,g._("Error")),b("React").createElement(b("XUIDialogBody.react"),null,g._("Something went wrong. Please try again later.")))};e.exports=a}),null);
__d("ServicesAppointmentReminderAdminText.react",["fbt","DateConsts","React","formatDate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.isPageMessage,d=a.message,e=a.productName,f=a.startTime,h=a.timestamp;a=a.userName;if(!f)return d;d=b("formatDate")(f,"g:i A");if(c)if(f-h/1e3<b("DateConsts").SEC_PER_HOUR)return g._("{user-name} has an appointment {product-name} at {start-time}",[g._param("user-name",a),g._param("product-name",e),g._param("start-time",d)]);else if(f-h/1e3<b("DateConsts").SEC_PER_DAY)return g._("{user-name} has an appointment tomorrow at {start-time}",[g._param("user-name",a),g._param("start-time",d)]);else return g._("{user-name} has an appointment {product-name} on {start-date} at {start-time}",[g._param("user-name",a),g._param("product-name",e),g._param("start-date",b("formatDate")(f,"F d")),g._param("start-time",d)]);if(f-h/1e3<b("DateConsts").SEC_PER_HOUR)return g._("You have an appointment at {start-time}",[g._param("start-time",d)]);else if(f-h/1e3<b("DateConsts").SEC_PER_DAY)return g._("You have an appointment tomorrow at {start-time}",[g._param("start-time",d)]);else return g._("You have an appointment on {start-date} at {start-time}",[g._param("start-date",b("formatDate")(f,"F d")),g._param("start-time",d)])};e.exports=a}),null);
__d("ServicesBookableServicesSurveyActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS:null,BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA:null,BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD:null,BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS:null,BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER:null,BOOKABLE_SERVICES_SURVEY_RESET:null,BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER:null,BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR:null,BOOKABLE_SERVICES_SURVEY_SET_RADIUS:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_AREA:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE:null,BOOKABLE_SERVICES_SURVEY_SET_STEP:null});e.exports=a}),null);
__d("BookableServicesCustomServiceItem",["immutable"],(function(a,b,c,d,e,f){var g;g=babelHelpers.inherits(a,b("immutable").Record({label:"",key:"",selected:!1}));g&&g.prototype;function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("BookableServicesServiceAreaRadiusValues",[],(function(a,b,c,d,e,f){"use strict";a=[1,2,3,5,10,20,30,50,100];e.exports=a}),null);
__d("ServicesBookableServicesSurveyStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOT_SUBMITTED:0,SUBMITTED:1})}),null);
__d("ServicesBookableServicesSurveySteps",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CONFIRMATION:null,CUSTOM_SERVICE_ITEM:null,GET_STARTED:null,SERVICES_AREA:null,SERVICES_SELECTION:null});e.exports=a}),null);
__d("ServicesBookableServicesSurveyStore",["BookableServicesCustomServiceItem","BookableServicesServiceAreaRadiusValues","FluxReduceStore","immutable","SearchableEntry","ServicesBookableServicesSurveyActionTypes","ServicesBookableServicesSurveyStatus","ServicesBookableServicesSurveySteps","ServicesCTAUnificationDispatcher","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS,j=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA,k=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM,l=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM,m=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM,n=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD,o=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS,p=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER,q=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_RESET,r=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER,s=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR,t=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_RADIUS,u=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_SELECTED_AREA,v=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE,w=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE,x=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_STEP;c=10;g=babelHelpers.inherits(y,b("immutable").Record({address:"",canVisitMyBusiness:!1,customServices:b("immutable").List(),customServiceItem:"",hasServiceArea:!1,mutationSuccess:!0,noPermissions:!1,pageID:"",predefinedBookableTasks:b("immutable").List(),radius:c,referrer:"",selectedServices:b("immutable").Set(),serviceAreaCenter:null,serviceAreaCenterCoordinates:null,serviceAreaCenterID:"",sessionID:"",shouldShowCustomServicesEntry:!0,showLoadingIndicator:!1,step:b("ServicesBookableServicesSurveySteps").GET_STARTED,surveyStatus:b("ServicesBookableServicesSurveyStatus").NOT_SUBMITTED}));g&&g.prototype;function y(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new y()};a.prototype.reduce=function(a,c){__p&&__p();switch(c.type){case n:c.payload.radius&&b("BookableServicesServiceAreaRadiusValues").includes(c.payload.radius)&&(a=a.set("radius",c.payload.radius));return a.set("address",c.payload.address).set("canVisitMyBusiness",c.payload.customersCanVisitBusiness).set("customServices",b("immutable").List(c.payload.manualBookableTasks.map(function(a){return new(b("BookableServicesCustomServiceItem"))({label:a,key:b("uuid")(),selected:!0})}))).set("hasServiceArea",!!c.payload.serviceAreaCenter).set("pageID",c.payload.pageID).set("predefinedBookableTasks",c.payload.predefinedBookableTasks).set("referrer",c.payload.referrer).set("serviceAreaCenter",c.payload.serviceAreaCenter).set("serviceAreaCenterCoordinates",c.payload.serviceAreaCenterCoordinates).set("serviceAreaCenterID",c.payload.serviceAreaCenterID).set("selectedServices",c.payload.surveyStatus===b("ServicesBookableServicesSurveyStatus").NOT_SUBMITTED?b("immutable").Set(c.payload.predefinedBookableTasks.map(function(a){return a.task})):b("immutable").Set(c.payload.selectedBookableTasks.filter(function(a){return a!=null&&a.task!=null}).map(function(a){return a.task}))).set("sessionID",c.payload.sessionID).set("shouldShowCustomServicesEntry",c.payload.shouldShowCustomServicesEntry).set("surveyStatus",c.payload.surveyStatus);case o:return a.set("noPermissions",!0);case r:var d=c.payload,e=d.serviceAreaCenter,f=d.serviceAreaCenterCoordinates;d=d.serviceAreaCenterID;return a.set("serviceAreaCenter",e).set("serviceAreaCenterCoordinates",f).set("serviceAreaCenterID",d);case p:return a.set("serviceAreaCenter",null).set("serviceAreaCenterCoordinates",null).set("serviceAreaCenterID","");case t:e=c.payload.radius;return a.set("radius",e);case x:c.payload.mutationSuccess!=null&&(a=a.set("mutationSuccess",c.payload.mutationSuccess));f=c.payload.step;return a.set("step",f);case w:d=c.payload.selectedService;return a.set("selectedServices",a.selectedServices.has(d)?a.selectedServices["delete"](d):a.selectedServices.add(d));case v:var g=c.payload.selectedCustomService;e=a.customServices.findIndex(function(a){return a.key===g});f=e>=0?a.customServices.get(e):null;return f?a.set("customServices",a.customServices.set(e,f.set("selected",!f.selected))):a;case i:return a.set("canVisitMyBusiness",!a.canVisitMyBusiness);case j:return a.set("hasServiceArea",!a.hasServiceArea);case u:d=c.payload.selectedArea;var h=d.getUniqueID();e=a.selectedAreas.find(function(a){return a.getUniqueID()===h});f=a.set("selectedAreas",e?a.selectedAreas["delete"](e):a.selectedAreas.add(d));return f;case m:e=c.payload.text;return a.set("customServiceItem",e);case k:return a.set("customServiceItem","");case l:return a.set("customServices",a.customServices.push(new(b("BookableServicesCustomServiceItem"))({label:a.customServiceItem,key:b("uuid")(),selected:!0})));case s:return a.set("showLoadingIndicator",!a.showLoadingIndicator);case q:return this.getInitialState();default:return a}};a.prototype.getPageID=function(){return this.getState().pageID};a.prototype.getReferrer=function(){return this.getState().referrer};a.prototype.getSessionID=function(){return this.getState().sessionID};a.prototype.getStep=function(){return this.getState().step};a.prototype.hasAnyServicesSelected=function(){var a=this.getState(),b=a.customServices;a=a.selectedServices;if(a.size>0)return!0;a=b.find(function(a){return a.selected});return!!a};a.prototype.hasServiceAreaDefined=function(){var a=this.getState(),b=a.canVisitMyBusiness,c=a.serviceAreaCenter;a=a.hasServiceArea;return!a&&!b||a&&!c?!1:!0};a.prototype.isCustomServiceValid=function(){return this.getState().customServiceItem.trim().length>0};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("ServicesCTAUnificationDispatcher"))}),null);
__d("ServicesBookableServicesSurveyLogger",["ServicesBookableServicesSurveyStore","ServicesLeadGenBookableTasksSurveyTypedLogger"],(function(a,b,c,d,e,f){"use strict";a={log:function(event){new(b("ServicesLeadGenBookableTasksSurveyTypedLogger"))().setCurrentView(b("ServicesBookableServicesSurveyStore").getStep().toString()).setEvent(event).setPageID(b("ServicesBookableServicesSurveyStore").getPageID()).setReferrer(b("ServicesBookableServicesSurveyStore").getReferrer()).setSessionID(b("ServicesBookableServicesSurveyStore").getSessionID()).log()}};e.exports=a}),null);
__d("ServicesLeadGenSurveyDialogQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1661271817288231"};c.getQueryID=function(){"use strict";return"1791976917774098"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1706923136039787"};c.getQueryID=function(){"use strict";return"224836864728650"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("ServicesBookableServicesSurveyActions",["immutable","SearchableEntry","ServicesBookableServicesSurveyActionTypes","ServicesBookableServicesSurveyLogger","ServicesBookableServicesSurveyStatus","ServicesBookableServicesSurveySteps","ServicesBookableServicesSurveyStore","ServicesCTAUnificationDispatcher","ServicesLeadGenSurveyDialogQueryWebGraphQLQuery","ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation","WebGraphQL","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS,h=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA,i=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM,j=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM,k=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM,l=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD,m=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS,n=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER,o=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_RESET,p=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER,q=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR,r=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_RADIUS;b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_SELECTED_AREA;var s=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE,t=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE,u=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_STEP,v={initialLoad:function(a,c,d,e,f,g,h,i,j,k,m,n,o,p){b("ServicesCTAUnificationDispatcher").dispatch({type:l,payload:{address:a,customersCanVisitBusiness:c,manualBookableTasks:d,pageID:e,predefinedBookableTasks:f,radius:g,referrer:h,selectedBookableTasks:i,serviceAreaCenter:j,serviceAreaCenterCoordinates:k,serviceAreaCenterID:m,sessionID:n,shouldShowCustomServicesEntry:o,surveyStatus:p}})},loadDataAndInitialize:function(a,c,d,e){__p&&__p();b("ServicesCTAUnificationDispatcher").dispatch({type:q}),b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesLeadGenSurveyDialogQueryWebGraphQLQuery"))({page_id:a})),function(f){__p&&__p();var g,h,i,j,k,l,n,o;o=((o=f)!=null?(o=o.page)!=null?o.viewer_profile_permissions:o:o)||[];if(!o.includes("EDIT_PROFILE")){b("ServicesCTAUnificationDispatcher").dispatch({type:m});b("ServicesCTAUnificationDispatcher").dispatch({type:q});return}o=((o=f)!=null?(o=o.page)!=null?(o=o.address)!=null?o.single_line_full_address:o:o:o)||"";n=(n=f)!=null?(n=n.page)!=null?(n=n.business_details)!=null?n.bookable_services_survey_status:n:n:n;n=n?b("ServicesBookableServicesSurveyStatus")[n]:b("ServicesBookableServicesSurveyStatus").NOT_SUBMITTED;l=((l=f)!=null?(l=l.page)!=null?(l=l.business_details)!=null?l.customers_can_visit_business:l:l:l)||!1;k=(k=f)!=null?(k=k.page)!=null?(k=k.services_vertical_info)!=null?k.predefined_bookable_tasks:k:k:k;var p=function(a){var b;return{category:(b=a)!=null?b.category:b,consumer_name:(b=a)!=null?b.consumer_name:b,task:(b=a)!=null?b.task:b}};k=k?k.map(p):[];j=((j=f)!=null?(j=j.page)!=null?(j=j.business_details)!=null?(j=j.bookable_tasks)!=null?j.nodes:j:j:j:j)||[];var r=[],s=[];j.forEach(function(a){var b;b=((b=a)!=null?b.info:b)||{};b.task==="OTHER"&&a.manual_name!=null?r.push(a.manual_name):s.push(p(b))});j=((j=f)!=null?(j=j.page)!=null?(j=j.business_details)!=null?j.service_area_radius:j:j:j)||0;i=(i=f)!=null?(i=i.page)!=null?(i=i.business_details)!=null?(i=i.service_area_center)!=null?i.name:i:i:i:i;h=(h=f)!=null?(h=h.page)!=null?(h=h.business_details)!=null?(h=h.service_area_center)!=null?h.id:h:h:h:h;i=i&&h?new(b("SearchableEntry"))({uniqueID:h,title:i}):null;g=(g=f)!=null?(g=g.page)!=null?(g=g.business_details)!=null?(g=g.service_area_center)!=null?g.page_map_location:g:g:g:g;f=(f=f)!=null?(f=f.page)!=null?(f=f.services_vertical_info)!=null?f.should_show_survey_custom_services_entry:f:f:f;v.initialLoad(o,l,b("immutable").List(r),a,b("immutable").List(k),j,c,b("immutable").List(s),i,g,h||"",d,f!=null?f:!1,n);b("ServicesCTAUnificationDispatcher").dispatch({type:q});e()})},nextStep:function(){b("ServicesBookableServicesSurveyLogger").log("next_question");var a=null;switch(b("ServicesBookableServicesSurveyStore").getStep()){case b("ServicesBookableServicesSurveySteps").GET_STARTED:a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:a=b("ServicesBookableServicesSurveySteps").SERVICES_AREA;break;default:a=b("ServicesBookableServicesSurveySteps").GET_STARTED}b("ServicesCTAUnificationDispatcher").dispatch({type:u,payload:{step:a}})},previousStep:function(){b("ServicesBookableServicesSurveyLogger").log("previous_question");var a=null;switch(b("ServicesBookableServicesSurveyStore").getStep()){case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;default:a=b("ServicesBookableServicesSurveySteps").GET_STARTED}b("ServicesCTAUnificationDispatcher").dispatch({type:u,payload:{step:a}})},startCustomServiceItem:function(){var a=b("ServicesBookableServicesSurveySteps").CUSTOM_SERVICE_ITEM;b("ServicesCTAUnificationDispatcher").dispatch({type:u,payload:{step:a}})},selectService:function(a){b("ServicesBookableServicesSurveyLogger").log("toggle_service"),b("ServicesCTAUnificationDispatcher").dispatch({type:t,payload:{selectedService:a}})},selectCustomService:function(a){b("ServicesBookableServicesSurveyLogger").log("toggle_service"),b("ServicesCTAUnificationDispatcher").dispatch({type:s,payload:{selectedCustomService:a}})},checkCanVisitMyBusiness:function(){b("ServicesBookableServicesSurveyLogger").log("toggle_can_visit_business"),b("ServicesCTAUnificationDispatcher").dispatch({type:g})},checkHasServiceArea:function(){b("ServicesBookableServicesSurveyLogger").log("toggle_has_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:h})},removeServiceAreaCenter:function(){b("ServicesBookableServicesSurveyLogger").log("remove_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:n})},selectServiceAreaCenter:function(a,c,d){b("ServicesBookableServicesSurveyLogger").log("select_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:p,payload:{serviceAreaCenter:a,serviceAreaCenterCoordinates:c,serviceAreaCenterID:d||""}})},customServiceItemChange:function(a){a=a.target.value;b("ServicesCTAUnificationDispatcher").dispatch({type:k,payload:{text:a}})},clearCustomServiceItem:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:i})},createCustomServiceItem:function(){b("ServicesBookableServicesSurveyLogger").log("add_manual_service");var a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;b("ServicesCTAUnificationDispatcher").dispatch({type:j});b("ServicesCTAUnificationDispatcher").dispatch({type:u,payload:{step:a}})},resetSurvey:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:o})},setRadius:function(a){b("ServicesBookableServicesSurveyLogger").log("select_radius"),b("ServicesCTAUnificationDispatcher").dispatch({type:r,payload:{radius:a}})},submitSurvey:function(a){__p&&__p();var c=b("ServicesBookableServicesSurveyStore").getState(),d=c.canVisitMyBusiness,e=c.customServices,f=c.hasServiceArea,g=c.pageID,h=c.radius,i=c.referrer,j=c.selectedServices,k=c.serviceAreaCenterID;c=c.sessionID;b("ServicesBookableServicesSurveyLogger").log("submit");b("ServicesCTAUnificationDispatcher").dispatch({type:q});var l=[];for(var j=j.toArray(),m=Array.isArray(j),n=0,j=m?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=j.length)break;o=j[n++]}else{n=j.next();if(n.done)break;o=n.value}o=o;o!=="%future added value"&&l.push(o)}b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation"))({input:{client_mutation_id:"0",actor_id:a,session_id:c,page_id:g,referrer:i,selected_bookable_tasks:l,other_bookable_tasks:e.toArray().filter(function(a){return a.selected}).map(function(a){return a.label}),customers_can_visit_business:d,service_area_center_id:f&&k?k:null,service_area_radius:f&&k?h:null}})),function(a){a=((a=a)!=null?(a=a.services_page_business_details_edit)!=null?a.success:a:a)||!1;var c=b("ServicesBookableServicesSurveySteps").CONFIRMATION;b("ServicesCTAUnificationDispatcher").dispatch({type:q});b("ServicesCTAUnificationDispatcher").dispatch({type:u,payload:{step:c,mutationSuccess:a}})})}};e.exports=v}),null);
__d("BookableServicesSurveyGetStartedView.react",["cx","fbt","ix","Image.react","React","ServicesBookableServicesSurveyActions","XUIButton.react","XUIText.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_2piq _2owm _52jv _yxk"},b("React").createElement(b("Image.react"),{src:i("478460")}),b("React").createElement(b("XUIText.react"),{className:"_2pib _2owm",display:"block",size:"header3",weight:"bold"},h._("Connect to the right customers near you.")),b("React").createElement(b("XUIText.react"),{className:"_2pie _yxm",display:"block",size:"body1"},h._("Answer a few simple questions about your business so people who need your services can find you.")),b("React").createElement(b("XUIButton.react"),{className:"_3-8q",label:h._("Next"),onClick:b("ServicesBookableServicesSurveyActions").nextStep,size:"xlarge",use:"confirm"}))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("BookableServicesSurveySelectionContainer.react",["ix","cx","fbt","BookableServicesCustomServiceItem","FluxContainer","Image.react","immutable","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","ShimButton.react","XUIButton.react","XUICheckboxInput.react","XUIText.react","XUITextInput.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.editOtherService=function(){this.setState({isEditingOther:!0})}.bind(this),this.saveOtherService=function(){this.setState({isEditingOther:!1}),b("ServicesBookableServicesSurveyActions").createCustomServiceItem(),b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()}.bind(this),this.stopEditingOtherService=function(){this.setState({isEditingOther:!1}),b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()}.bind(this),c}a.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};a.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState();return!a?{customServiceItem:c.customServiceItem,customServices:c.customServices,isCustomServiceValid:b("ServicesBookableServicesSurveyStore").isCustomServiceValid(),isEditingOther:!1,isHovered:!1,predefinedBookableTasks:c.predefinedBookableTasks,selectedServices:c.selectedServices,shouldShowCustomServicesEntry:c.shouldShowCustomServicesEntry}:babelHelpers["extends"]({},a,{customServiceItem:c.customServiceItem,customServices:c.customServices,isCustomServiceValid:b("ServicesBookableServicesSurveyStore").isCustomServiceValid(),predefinedBookableTasks:c.predefinedBookableTasks,selectedServices:c.selectedServices,shouldShowCustomServicesEntry:c.shouldShowCustomServicesEntry})};a.prototype.componentWillUnmount=function(){b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()};a.prototype.render=function(){var a=this.state.predefinedBookableTasks.map(function(a,c){return b("React").createElement(b("ShimButton.react"),{className:"_2pi6 _2pit _2plf _2plg",key:c,onClick:function(){b("ServicesBookableServicesSurveyActions").selectService(a.task)}},a.task&&b("React").createElement(b("XUICheckboxInput.react"),{checked:this.state.selectedServices.has(a.task),className:"_3-91",onClick:function(){b("ServicesBookableServicesSurveyActions").selectService(a.task)},readOnly:!0}),b("React").createElement(b("XUIText.react"),{size:"body1",weight:"normal"},a.consumer_name))}.bind(this)),c=this.state.customServices.map(function(a,c){return b("React").createElement(b("ShimButton.react"),{className:"_2pi6 _2pit _2plf _2plg",key:c,onClick:function(){b("ServicesBookableServicesSurveyActions").selectCustomService(a.key)}},b("React").createElement(b("XUICheckboxInput.react"),{checked:a.selected,className:"_3-91",onClick:function(){b("ServicesBookableServicesSurveyActions").selectCustomService(a.key)},readOnly:!0}),b("React").createElement(b("XUIText.react"),{size:"body1",weight:"normal"},a.label))}),d=this.state.isEditingOther?b("React").createElement("div",{className:"_2pi6 _2o1n _2plg"},b("React").createElement(b("XUITextInput.react"),{className:"_2plj",height:"tall",onChange:b("ServicesBookableServicesSurveyActions").customServiceItemChange,placeholder:"Describe your service",value:this.state.customServiceItem}),b("React").createElement("div",{className:"_3-8y _2plk"},b("React").createElement(b("XUIButton.react"),{disabled:!this.state.isCustomServiceValid,label:i._("Add"),size:"large",onClick:this.saveOtherService,use:"confirm"}),b("React").createElement(b("XUIButton.react"),{className:"_3-91",label:i._("Cancel"),onClick:this.stopEditingOtherService}))):b("React").createElement(b("ShimButton.react"),{className:"_2pi6 _2pit _2plf _2plg",onClick:this.editOtherService},b("React").createElement(b("Image.react"),{className:"_3-91",src:g("483771")}),b("React").createElement(b("XUIText.react"),{size:"body1",weight:"normal"},i._("Other")));return b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{className:"_3-96",display:"block",size:"header3",weight:"bold"},i._("Which services do you provide?")),b("React").createElement("div",{className:"_2pll",fade:!0,maxHeight:500},a,c,this.state.shouldShowCustomServicesEntry&&d))};e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyCheckboxQuestion.react",["cx","React","ShimButton.react","XUICheckboxInput.react","XUIText.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_2o1k _2ctu"},b("React").createElement(b("ShimButton.react"),{className:"_2ctv",onClick:this.props.onClick},b("React").createElement(b("XUICheckboxInput.react"),{checked:this.props.isChecked,className:"_3-91",onClick:this.props.onClick,readOnly:!0}),b("React").createElement(b("XUIText.react"),{display:"inline",size:"body1"},this.props.title)),this.props.children)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("BookableServicesSurveyServiceAreaContainer.react",["cx","fbt","AddressTypeaheadCaller","AddressTypeaheadDisplayOrder","AddressTypeaheadGraphQLSearchSource","AddressTypeaheadIntegration","AddressTypeaheadPageCategory","AddressTypeaheadProvider","AddressTypeaheadSearchSourceConfig","AddressTypeaheadType","BookableServicesServiceAreaRadiusValues","BookableServicesSurveyCheckboxQuestion.react","DistanceConstants","FBTilesMap.react","FluxContainer","GeoCoordinates","LeafletCircle.react","LeafletView","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","XUISingleSelector.react","XUIText.react","XUITokenizer.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("DistanceConstants").METERS_PER_MILE,k=b("XUISingleSelector.react").Option,l=new(b("LeafletView"))({center:new(b("GeoCoordinates"))(38.82255,-97.64649),zoom:3});c=3;var m=new(b("AddressTypeaheadGraphQLSearchSource"))(new(b("AddressTypeaheadSearchSourceConfig"))(null,null,b("AddressTypeaheadProvider").FACEBOOK,b("AddressTypeaheadType").STREET_PLACE_TYPEAHEAD,b("AddressTypeaheadIntegration").STRING_MATCH,b("AddressTypeaheadDisplayOrder").INTERLEAVE,c,b("AddressTypeaheadCaller").SERVICES_LEAD_GEN_SURVEY,["USA"],[b("AddressTypeaheadPageCategory").POSTAL_CODE]));d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.onSelectEntryAttempt=function(a){var c=a.getAuxiliaryData();c&&c.latitude&&this.setState({view:new(b("LeafletView"))({center:new(b("GeoCoordinates"))(c.latitude,c.longitude),zoom:9})});b("ServicesBookableServicesSurveyActions").selectServiceAreaCenter(a,c,c.locationID)}.bind(this),this.onViewChange=function(a){this.setState({view:a})}.bind(this),c}a.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};a.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState(),d=c.serviceAreaCenterCoordinates&&c.serviceAreaCenterCoordinates.latitude?new(b("GeoCoordinates"))(c.serviceAreaCenterCoordinates.latitude,c.serviceAreaCenterCoordinates.longitude):null;return!a?{address:c.address,canVisitMyBusiness:c.canVisitMyBusiness,hasServiceArea:c.hasServiceArea,radius:c.radius,serviceAreaCenter:c.serviceAreaCenter?[c.serviceAreaCenter]:[],serviceAreaCenterCoordinates:d,view:d?new(b("LeafletView"))({center:d,zoom:9}):l}:babelHelpers["extends"]({},a,{canVisitMyBusiness:c.canVisitMyBusiness,hasServiceArea:c.hasServiceArea,radius:c.radius,serviceAreaCenter:c.serviceAreaCenter?[c.serviceAreaCenter]:[],serviceAreaCenterCoordinates:d})};a.prototype.onRemoveEntryAttempt=function(a){b("ServicesBookableServicesSurveyActions").removeServiceAreaCenter()};a.prototype.onSelectRadius=function(a){b("ServicesBookableServicesSurveyActions").setRadius(a.value)};a.prototype.renderMap=function(){return this.state.view==null?null:b("React").createElement(b("FBTilesMap.react"),{className:"_3zv_",onViewChange:this.onViewChange,setZoomPosition:{vertical:"top",horizontal:"left"},showZoomControls:!0,view:this.state.view},this.state.serviceAreaCenterCoordinates?b("React").createElement(b("LeafletCircle.react"),{center:this.state.serviceAreaCenterCoordinates,radius:this.state.radius*j}):null)};a.prototype.renderSelectorOptions=function(){return b("BookableServicesServiceAreaRadiusValues").map(function(a){return b("React").createElement(k,{key:a,value:a},b("React").createElement("span",null,h._({"*":"Within {number} miles","_1":"Within 1 mile"},[h._plural(a,"number")])))})};a.prototype.render=function(){return b("React").createElement("div",null,this.renderMap(),b("React").createElement("div",{className:"_4gao _2pib _2pie"},this.state.address?b("React").createElement(b("BookableServicesSurveyCheckboxQuestion.react"),{isChecked:this.state.canVisitMyBusiness,onClick:b("ServicesBookableServicesSurveyActions").checkCanVisitMyBusiness,title:h._("Customers can visit this business")},b("React").createElement(b("XUIText.react"),{className:"_3-8y _spx",color:"secondary",display:"block",size:"body3"},this.state.address)):null,b("React").createElement(b("BookableServicesSurveyCheckboxQuestion.react"),{isChecked:this.state.hasServiceArea,onClick:b("ServicesBookableServicesSurveyActions").checkHasServiceArea,title:h._("This business provides services in a surrounding area")},this.state.hasServiceArea?b("React").createElement("div",{className:"_3-8y _spy"},b("React").createElement(b("XUIText.react"),{size:"body3",weight:"bold"},h._("ZIP code")),b("React").createElement(b("XUITokenizer.react"),{className:"_3-9b",entries:this.state.serviceAreaCenter,entriesWidthMatchContext:!0,extraTypeaheadProps:{maxLength:5},limit:1,onAddEntryAttempt:this.onSelectEntryAttempt,onRemoveEntryAttempt:this.onRemoveEntryAttempt,placeholder:h._("e.g. 12345"),searchSource:m,selectOnBlur:!0}),b("React").createElement(b("XUISingleSelector.react"),{className:"_3-9b",onChange:this.onSelectRadius,value:this.state.radius,size:"xlarge"},this.renderSelectorOptions())):null),b("React").createElement(b("XUIText.react"),{className:"_3-8y",color:"secondary",display:"block",size:"body3"},h._("The information you provide won't be shown on your Page."))))};e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyDialogContentContainer.react",["cx","fbt","ix","BookableServicesSurveyGetStartedView.react","BookableServicesSurveySelectionContainer.react","BookableServicesSurveyServiceAreaContainer.react","CurrentUser","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyLogger","ServicesBookableServicesSurveySteps","ServicesBookableServicesSurveyStore","ServicesCTAUnificationDispatcher","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};a.calculateState=function(){var a=b("ServicesBookableServicesSurveyStore").getState(),c=b("ServicesBookableServicesSurveyStore").hasAnyServicesSelected(),d=b("ServicesBookableServicesSurveyStore").hasServiceAreaDefined();return{hasAnyServicesSelected:c,hasServiceAreaDefined:d,mutationSuccess:a.mutationSuccess,noPermissions:a.noPermissions,showLoadingIndicator:a.showLoadingIndicator,step:a.step}};a.prototype.UNSAFE_componentWillMount=function(){b("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("ServicesBookableServicesSurveyActions").loadDataAndInitialize(this.props.pageID,this.props.referrer,b("uuid")(),function(){b("ServicesBookableServicesSurveyLogger").log("www_survey_impression")})};a.prototype.componentWillUnmount=function(){b("ServicesBookableServicesSurveyLogger").log("dismiss"),b("ServicesBookableServicesSurveyActions").resetSurvey()};a.prototype.renderBody=function(){__p&&__p();if(this.state.showLoadingIndicator)return b("React").createElement(b("XUIDialogBody.react"),{className:"_52jv"},b("React").createElement(b("XUISpinner.react"),{size:"large"}));else if(this.state.noPermissions)return b("React").createElement(b("XUIDialogBody.react"),{className:"_2pib _52jv"},b("React").createElement(b("XUIText.react"),{display:"block",size:"body1"},h._("You don't have permission to edit this page.")));switch(this.state.step){case b("ServicesBookableServicesSurveySteps").CONFIRMATION:return!this.state.mutationSuccess?b("React").createElement(b("XUIDialogBody.react"),{className:"_2pib _52jv"},b("React").createElement(b("XUIText.react"),{display:"block",size:"body1"},h._("We're sorry, there were problems with saving your survey. Please try again later."))):b("React").createElement(b("XUIDialogBody.react"),{className:"_2pib _2pi6 _52jv"},b("React").createElement(b("Image.react"),{className:"_3-97",src:i("491857")}),b("React").createElement(b("XUIText.react"),{display:"block",size:"body1"},h._("Thanks for telling us more about your business.")));case b("ServicesBookableServicesSurveySteps").GET_STARTED:return b("React").createElement(b("XUIDialogBody.react"),{className:"_2pib"},b("React").createElement(b("BookableServicesSurveyGetStartedView.react"),null));case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:return b("React").createElement(b("XUIDialogBody.react"),{className:"_1kto"},b("React").createElement(b("BookableServicesSurveyServiceAreaContainer.react"),null));case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:return b("React").createElement(b("XUIDialogBody.react"),{className:"_2pib"},b("React").createElement(b("BookableServicesSurveySelectionContainer.react"),null));default:return null}};a.prototype.renderTitle=function(){__p&&__p();if(this.props.hideTitle)return null;var a=null;switch(this.state.step){case b("ServicesBookableServicesSurveySteps").GET_STARTED:a=h._("Quick Survey");break;case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:if(this.state.showLoadingIndicator){a=h._("Submitting...");break}a=h._("Verify Location");break;case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:a=h._("Add your services");break;case b("ServicesBookableServicesSurveySteps").CONFIRMATION:default:break}return b("React").createElement(b("XUIDialogTitle.react"),{id:"dialogTitle"},a)};a.prototype.renderFooter=function(){__p&&__p();if(this.state.showLoadingIndicator)return null;switch(this.state.step){case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:return b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{label:h._("Back"),size:"xlarge",onClick:b("ServicesBookableServicesSurveyActions").previousStep}),b("React").createElement(b("XUIDialogButton.react"),{disabled:!this.state.hasServiceAreaDefined,label:h._("Done"),size:"xlarge",onClick:function(){b("ServicesBookableServicesSurveyActions").submitSurvey(b("CurrentUser").getID())},use:"confirm"}));case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:if(!this.state.hasAnyServicesSelected)return b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{label:h._("Done"),size:"xlarge",onClick:function(){b("ServicesBookableServicesSurveyActions").submitSurvey(b("CurrentUser").getID())},use:"confirm"}));else return b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{label:h._("Next"),size:"xlarge",onClick:b("ServicesBookableServicesSurveyActions").nextStep}));case b("ServicesBookableServicesSurveySteps").CONFIRMATION:case b("ServicesBookableServicesSurveySteps").GET_STARTED:default:return null}};a.prototype.render=function(){return b("React").createElement("div",null,this.renderTitle(),this.renderBody(),this.renderFooter())};function a(){j.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyDialogContainer.react",["BookableServicesSurveyDialogContentContainer.react","DialogExpansion","LayerFadeOnHide","LayerFadeOnShow","LayerRemoveOnHide","React","XUIDialog.react"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerRemoveOnHide:b("LayerRemoveOnHide"),DialogExpansion:b("DialogExpansion")},fixedTopPosition:100,labelledBy:"dialogTitle",hideOnEscape:!0,layerHideOnBlur:!1,onToggle:this.props.onToggle,shown:this.props.shown,width:480},b("React").createElement(b("BookableServicesSurveyDialogContentContainer.react"),{onToggle:this.props.onToggle,pageID:this.props.pageID,referrer:this.props.referrer}))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("ServicesLeadGenBookableServicesAdminText.react",["cx","fbt","BookableServicesSurveyDialogContainer.react","React","ShimButton.react","XUIButton.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={referrer:null,showDialog:!1},this.toggleDialog=function(a,b){b&&this.setState({referrer:b}),this.setState({showDialog:a})}.bind(this),b}a.prototype.renderDialog=function(){return!this.state.showDialog?null:b("React").createElement(b("BookableServicesSurveyDialogContainer.react"),{onToggle:this.toggleDialog,pageID:this.props.pageID,referrer:this.state.referrer,shown:this.state.showDialog})};a.prototype.render=function(){return this.props.edit?b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{size:"body1"},h._("Get better quote requests by")," ",b("React").createElement(b("ShimButton.react"),{form:"link",onClick:function(){this.toggleDialog(!0,"edit")}.bind(this)},h._("telling us more about the services you offer"))),this.renderDialog()):b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{display:"block",size:"body1"},this.props.message),b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("XUIButton.react"),{label:h._("Yes"),onClick:function(){this.toggleDialog(!0,"yes")}.bind(this),size:"small"}),b("React").createElement(b("XUIButton.react"),{label:h._("No"),onClick:function(){this.toggleDialog(!0,"no")}.bind(this),size:"small"})),this.renderDialog())};e.exports=a}),null);
__d("MercuryXMATRenderer",["cx","fbt","EventRemindersGating","FacepileRounded.react","LightweightEventType","Link.react","MercuryConfig","MercuryIDs","MessagingGenericAdminTextType","MessengerEnvironment","MessengerGameAdminMessage.react","MessengerGroupPollingAdminMessage.react","MessengerNewWavePrompt.react","MessengerPagesCommercePaymentEnabledAdminMessage.react","MessengerParticipants.bs","MessengerReminderAdminMessage.react","MessengerTextWithEntities.react","MNAdsMessageUtils","PagesMarkAsPaidMessagingActionText.react","PartiesInviteAttachment.react","QE2Logger","React","ServicesAppointmentOptOutRequestsAdminText.react","ServicesAppointmentReminderAdminText.react","ServicesLeadGenBookableServicesAdminText.react","gkx","isWebGLEnabled"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a={renderText:function(a,c,d,e,f){__p&&__p();var g,i=c.log_message_body?b("React").createElement(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:c.log_message_body}):null;g=(g=c)!=null?(g=g.log_message_data)!=null?g.message_type:g:g;switch(g){case b("MessagingGenericAdminTextType").JOURNEY_PROMPT_COLOR:i=h._("You need to be on the latest version of Messenger on a mobile device to pick a color for this conversation.");break;case b("MessagingGenericAdminTextType").JOURNEY_PROMPT_NICKNAME:var j=null,k=b("MercuryIDs").getUserIDFromParticipantID(c.author);if(c.other_user_fbid&&k!==c.other_user_fbid){k=b("MercuryIDs").getParticipantIDFromUserID(c.other_user_fbid);j=b("MessengerParticipants.bs").getNow(k)}j&&j.short_name?i=h._("You need to be on the latest version of Messenger on a mobile device to set a nickname for {admin-text-message} .",[h._param("admin-text-message",j.short_name)]):i=h._("You need to be on the latest version of Messenger on a mobile device to set a nickname for yourself.");break;case b("MessagingGenericAdminTextType").JOURNEY_PROMPT_LIKE:i=h._("You need to be on the latest version of Messenger on a mobile device to pick an emoji for this conversation.");break;case b("MessagingGenericAdminTextType").INSTANT_GAME_UPDATE:b("gkx")("AT4VU3LTU_m0y3MeJeai7hJytsOcRy63JbTrv7QtkGDcMH9aN_sV8sDNC1ebrhVq0RfT0H4FEgW5UVoJHsOiHpnF")&&b("isWebGLEnabled")()&&(i=b("React").createElement(b("MessengerGameAdminMessage.react"),{message:c,text:c.log_message_body,isLastOfType:d,onLoad:e}));break;case b("MessagingGenericAdminTextType").ADS_WELCOME_MSG:break;case b("MessagingGenericAdminTextType").AD_MANAGE_MESSAGE:b("MNAdsMessageUtils").isAdsAdminMessage(c)&&(i=b("MNAdsMessageUtils").getAdsPageManage(c,!1));break;case b("MessagingGenericAdminTextType").WORK_INVITE_CLAIMED:i=c.log_message_body?c.log_message_body:h._("You're now connected on Workplace Chat.");if(c.log_message_data.untypedData){k=c.log_message_data.untypedData.invite_recipient;j=c.log_message_data.untypedData.invite_sender;k=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(k));j=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(j));if(j!=null&&k!=null){k=[k,j];i=b("React").createElement(b("FacepileRounded.react"),{profiles:k,message:i,numProfilesToDisplay:2,className:"_8lx"})}}break;case b("MessagingGenericAdminTextType").GENERIC_NEW_CONNECTION:case b("MessagingGenericAdminTextType").CONFIRM_FRIEND_REQUEST:j=g==b("MessagingGenericAdminTextType").CONFIRM_FRIEND_REQUEST;k=c.log_message_data.untypedData;if(!k)break;g=j?k.friend_request_recipient:k.recipient_id;j=j?k.friend_request_sender:k.initiator_id;k=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(g));g=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(j));if(g==null||k==null)break;j=[k,g];k=b("MercuryIDs").getParticipantIDFromUserID(c.other_user_fbid);g=b("MessengerParticipants.bs").getNow(k);k=g?g.short_name:null;b("QE2Logger").logExposureForUser("messenger_growth_tombstone");i=b("React").createElement("div",null,b("React").createElement(b("FacepileRounded.react"),{profiles:j,message:c.log_message_body,numProfilesToDisplay:2,className:"_8lx"}),b("MercuryConfig").NFBW?b("React").createElement(b("MessengerNewWavePrompt.react"),{threadID:c.thread_id,recipientName:k,entrypoint:"new_friend_bump"}):null);break;case b("MessagingGenericAdminTextType").GROUP_THREAD_CREATED:i=b("React").createElement("div",null,i,b("gkx")("AT7uCGaYk4KWBCIq3SurfBIwk1DjmbU_QXgSqcY73Sdnw3DJhbzA4qigZjhm4wwYtWnHVZcxghHN6RO33C1W8YjG")?b("React").createElement(b("MessengerNewWavePrompt.react"),{threadID:c.thread_id,recipientName:null,entrypoint:"group_null_state"}):null);break;case b("MessagingGenericAdminTextType").GROUP_POLL:i=b("React").createElement(b("MessengerGroupPollingAdminMessage.react"),{customColor:a,message:c,isLastOfType:d,onLoad:e});break;case b("MessagingGenericAdminTextType").PAGES_COMMERCE_PAYMENT_ENABLED:i=b("React").createElement(b("MessengerPagesCommercePaymentEnabledAdminMessage.react"),{message:c});break;case b("MessagingGenericAdminTextType").THREAD_CUSTOMIZATION_UPSELL:b("MessengerEnvironment").messengerui?i=h._("Customize this conversation: choose the color, emoji and nicknames from the sidebar."):i=h._("Choose the color, emoji and nicknames from the sidebar of your conversation on www.messenger.com.");break;case b("MessagingGenericAdminTextType").PARTIES_INVITE:g=c.author.replace("fbid:","");j=c.other_user_fbid.replace("fbid:","");a=(k=c)!=null?(k=k.log_message_data)!=null?(k=k.untypedData)!=null?k.parties_invite_type:k:k:k;k=(e=c)!=null?(e=e.log_message_data)!=null?(e=e.untypedData)!=null?e.parties_user_id:e:e:e;i=b("React").createElement(b("PartiesInviteAttachment.react"),{authorID:g,logMessage:c.log_message_body,otherUserID:j,partiesInviteType:a,partiesUserID:k});break;case b("MessagingGenericAdminTextType").PAGES_MARK_AS_PAID:i=b("React").createElement(b("PagesMarkAsPaidMessagingActionText.react"),{message:c.log_message_body,messageID:c.message_id,isPageMessage:f});break;case b("MessagingGenericAdminTextType").MESSENGER_AD_CONTEXT:i=b("MNAdsMessageUtils").getAdContextAdminMessage(c);break;case b("MessagingGenericAdminTextType").LINK_CTA:e=c.log_message_data.untypedData;i=b("React").createElement("div",null,e.primary_text," ",b("React").createElement(b("Link.react"),{href:e.cta_url},e.cta_text));break;case b("MessagingGenericAdminTextType").PAGES_PLATFORM_APPOINTMENT_REMINDER:j=(g=c)!=null?(g=g.log_message_data)!=null?g.untypedData:g:g;a=j&&j.product_name;k=j&&j.start_time;e=j&&j.user_name;i=b("React").createElement(b("ServicesAppointmentReminderAdminText.react"),{isPageMessage:f,message:c.log_message_body,productName:a,startTime:k,timestamp:c.timestamp,userName:e});break;case b("MessagingGenericAdminTextType").SERVICES_VERTICAL_OPT_OUT_REQUESTS:j=(g=c)!=null?(g=g.log_message_data)!=null?(g=g.untypedData)!=null?g.page_id:g:g:g;i=j&&b("React").createElement(b("ServicesAppointmentOptOutRequestsAdminText.react"),{message:c.log_message_body,pageID:j,userID:c.other_user_fbid});break;case b("MessagingGenericAdminTextType").SERVICES_VERTICAL_LEAD_GEN_SURVEY:a=(f=c)!=null?(f=f.log_message_data)!=null?(f=f.untypedData)!=null?f.page_id:f:f:f;i=a&&b("React").createElement(b("ServicesLeadGenBookableServicesAdminText.react"),{edit:!1,message:c.log_message_body,pageID:a});break;case b("MessagingGenericAdminTextType").SERVICES_VERTICAL_LEAD_GEN_SURVEY_EDIT:e=(k=c)!=null?(k=k.log_message_data)!=null?(k=k.untypedData)!=null?k.page_id:k:k:k;i=e&&b("React").createElement(b("ServicesLeadGenBookableServicesAdminText.react"),{edit:!0,message:c.log_message_body,pageID:e});break;case b("MessagingGenericAdminTextType").MESSENGER_GROUP_SYNC_OPT_IN:break;case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_CREATE:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_DELETE:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TIME:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TITLE:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_LOCATION:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_NOTIFY_BEFORE_EVENT:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_NOTIFY:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_RSVP:g=b("gkx")("AT7Xxr82yB9xSP4weOpECP5i6R8KuS4Uhh3-kD7iKKnsYbd5T2rdza-gp6IAR-OvkBqdUUVRUIkdzOcmwO6fJy9U");if(g){b("QE2Logger").logExposureForUser("omni_m_experiments_reminders");f=b("EventRemindersGating").omniMRenderXMATForAllReminderTypes||b("LightweightEventType").M_REMINDER===((j=c)!=null?(j=j.log_message_data)!=null?(j=j.untypedData)!=null?j.event_type:j:j:j)&&b("EventRemindersGating").omniMRenderXMATForMReminderType;f&&(i=b("React").createElement(b("MessengerReminderAdminMessage.react"),{message:c,isLastOfType:d,isMessenger:b("MessengerEnvironment").messengerui}))}break;case b("MessagingGenericAdminTextType").MESSENGER_GROWTH_GENERIC_ADMIN_TEXT:a=c.log_message_data.untypedData;if(!a||!a.facepile_ids||a.facepile_ids.length!=2)break;k=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a.facepile_ids[0]));e=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a.facepile_ids[1]));g=[k,e];j=a.title;f=a.description;i=b("React").createElement("div",{className:"_32xu"},b("React").createElement("div",{className:"_32xz"},j),b("React").createElement("div",{className:"_32x-"},f),b("React").createElement("div",null,b("React").createElement(b("FacepileRounded.react"),{profiles:g,message:"",numProfilesToDisplay:2,className:"_8lx"})));break;default:break}return b("React").createElement("span",null,i)}};e.exports=a}),null);
__d("P2PBigAmount.react",["cx","PECurrency","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){h.constructor.call(this,a);a=b("PECurrency").getCurrencySymbol(this.props.currencyCode);this.state={currencySymbol:a||""}}a.prototype.render=function(){var a="_8j6"+(this.props.size==="large"?" _1fv":""),c="_8jc"+(this.props.isPending?" _8jd":"")+(this.props.amount.length>=7?" _8je":"");return b("React").createElement("div",{className:b("joinClasses")(this.props.className,a)},b("React").createElement("div",{className:"_2n9x"+(this.props.isPending?" _2n9y":"")+(this.props.size==="large"?" _2n9-":"")+(this.props.size!=="large"&&this.props.amount.length>=7?" _62g-":"")},this.state.currencySymbol),b("React").createElement("div",{className:b("joinClasses")(this.props.className,c)},this.props.amount))};a.propTypes={amount:c.string.isRequired,className:c.string,currencyCode:c.string.isRequired,isPending:c.bool,size:c.oneOf(["medium","large"])};a.defaultProps={size:"medium"};e.exports=a}),null);
__d("P2PGroupSendReceiptDialog.react",["cx","fbt","FacepileRounded.react","Image.react","Link.react","MessengerEnvironment","P2PAmountUtils","P2PBigAmount.react","P2PButton.react","P2PDialog.react","P2PDialogBody.react","P2PDialogFooter.react","P2PDialogTitle.react","P2PLinkConstants","P2PLogger","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","P2PPaymentRequestStatus","P2PText.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.handleClose=function(){this.log(b("P2PPaymentLoggerEvent").UI_ACTN_3RD_PARTY_RECEIPT_DISMISSED),this.props.onClose()}.bind(this),c}a.prototype.componentDidMount=function(){this.log(b("P2PPaymentLoggerEvent").UI_ACTN_3RD_PARTY_RECEIPT_SHOWN,{raw_amount:this.props.amount})};a.prototype.getReceiverStatusMap=function(){var a;return this.props.individualRequests.reduce(function(a,c){switch(c.currentStatus){case b("P2PPaymentRequestStatus").EXPIRED:case b("P2PPaymentRequestStatus").DECLINED:case b("P2PPaymentRequestStatus").TRANSFER_COMPLETED:a[c.currentStatus].push(c);break;default:a[b("P2PPaymentRequestStatus").INITED].push(c);break}return a},(a={},a[b("P2PPaymentRequestStatus").DECLINED]=[],a[b("P2PPaymentRequestStatus").EXPIRED]=[],a[b("P2PPaymentRequestStatus").INITED]=[],a[b("P2PPaymentRequestStatus").TRANSFER_COMPLETED]=[],a))};a.prototype.getRequestProfile=function(a){a=a.requestee||{};return{image_src:a.picture,name:a.full_name}};a.prototype.log=function(a,c){b("P2PLogger").log(a,babelHelpers["extends"]({www_event_flow:this.props.eventFlow},c))};a.prototype.renderBody=function(){return b("React").createElement(b("P2PDialogBody.react"),null,b("React").createElement("ul",null,this.renderParticipantRow(this.props.sender,!0),this.renderParticipantRow(this.props.receiver,!1)),this.renderReceiverStatusList(),b("React").createElement("div",{className:"_bpy"},b("React").createElement(b("P2PBigAmount.react"),{amount:b("P2PAmountUtils").sanitizeAmount(this.props.amount),currencyCode:this.props.currencyCode,isPending:this.props.isGrayAmount,size:"large"})),b("React").createElement(b("P2PText.react"),{className:"_bpt",size:"small",type:"secondary"},this.props.bodyText," ",b("React").createElement(b("Link.react"),{className:"_1ed3",href:b("P2PLinkConstants").helpCenterURI,target:"_blank"},h._("Learn More"))))};a.prototype.renderParticipantRow=function(a,c){return!c&&this.props.individualRequests.length>1?null:b("React").createElement("li",{className:"_2chg",key:a.id},b("React").createElement("div",{className:"_2chh"},b("React").createElement(b("Link.react"),{href:a.profile_uri,onClick:this.props.onClose},b("React").createElement(b("Image.react"),{height:50,src:a.picture,width:50}))),b("React").createElement("div",{className:"_2chi"},b("React").createElement(b("P2PText.react"),{type:"primary"},b("React").createElement(b("P2PText.react"),{type:"secondary"},this.renderParticipantText(c)),a.full_name)))};a.prototype.renderParticipantText=function(a){return a?h._("From"):h._("To")};a.prototype.renderReceiverStatusList=function(){if(this.props.individualRequests.length<2)return null;var a=this.getReceiverStatusMap();return b("React").createElement("ul",null,this.renderStatus(a,b("P2PPaymentRequestStatus").TRANSFER_COMPLETED),this.renderStatus(a,b("P2PPaymentRequestStatus").DECLINED),this.renderStatus(a,b("P2PPaymentRequestStatus").INITED),this.renderStatus(a,b("P2PPaymentRequestStatus").EXPIRED))};a.prototype.renderStatus=function(a,c){a=a[c].map(this.getRequestProfile);return a.length===0?null:b("React").createElement("li",{className:"_5-av",key:c},b("React").createElement(b("P2PText.react"),{className:"_2chi _2pir",type:"secondary"},this.renderStatusText(c)),b("React").createElement(b("FacepileRounded.react"),{className:"_3-8w",hoverBehavior:"name",imageSize:40,numProfilesToDisplay:9,profiles:a}))};a.prototype.renderStatusText=function(a){switch(a){case b("P2PPaymentRequestStatus").DECLINED:return h._("Declined");case b("P2PPaymentRequestStatus").EXPIRED:return h._("Expired");case b("P2PPaymentRequestStatus").TRANSFER_COMPLETED:return h._("Paid");case b("P2PPaymentRequestStatus").INITED:default:return h._("Pending")}};a.prototype.render=function(){var a=b("MessengerEnvironment").messengerui,c=a?380:360,d=this.props.title;return b("React").createElement(b("P2PDialog.react"),{className:a?"_bpv":"",layerHideOnBlur:!1,onToggle:this.props.onClose,width:c},b("React").createElement(b("P2PDialogTitle.react"),null,d),this.renderBody(),b("React").createElement(b("P2PDialogFooter.react"),null,b("React").createElement(b("P2PButton.react"),{label:h._("OK"),onClick:this.handleClose,type:"primary"})))};a.defaultProps={bodyText:h._("You can send money to friends in groups."),eventFlow:b("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_GROUP_SEND,individualRequests:[],isGrayAmount:!1,title:h._("Payment Details")};e.exports=a}),null);
__d("P2PGroupPaymentRequestReceiptDialog.react",["fbt","P2PActions","P2PGroupSendReceiptDialog.react","P2PPaymentLoggerEventFlow","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("P2PGroupSendReceiptDialog.react"),{amount:this.props.amount,currencyCode:this.props.currencyCode,bodyText:g._("You can send payment requests to friends in groups"),eventFlow:b("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_GROUP_REQUEST,individualRequests:this.props.individualRequests,isGrayAmount:!0,receiver:this.props.requestee,sender:this.props.requester,title:g._("Payment Request Details"),onClose:this.props.onClose||b("P2PActions").hideDialog})};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("XP2PPaymentRequestReceiptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/p2p/payment_request/",{id:{type:"String",required:!0}})}),null);
__d("XP2PTransactionDetailController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/p2p/transaction/",{id:{type:"String",required:!0}})}),null);
__d("P2PMercuryLogMessage.react",["cx","fbt","CurrentUser","Link.react","MercuryIDs","MessengerEnvironment","P2PGroupPaymentRequestReceiptDialog.react","P2PGroupSendReceiptDialog.react","P2PPaymentLogMessageSubtype","React","ReactLayeredComponentMixin_DEPRECATED","XP2PPaymentRequestReceiptController","XP2PTransactionDetailController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"P2PMercuryLogMessage",mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{amount:a.string,receiver:a.object.isRequired,sender:a.object.isRequired,subtype:a.oneOf(Object.keys(b("P2PPaymentLogMessageSubtype")).map(function(a){return b("P2PPaymentLogMessageSubtype")[a]})),transferID:a.string.isRequired,threadFBID:a.string,threadID:a.string},getDefaultProps:function(){return{amount:"",sender:null,receiver:null,subtype:null}},getInitialState:function(){return{groupPaymentRequestReceiptDetailsShown:!1,groupSendReceiptDetailsShown:!1}},handleGroupDetailsLinkClicked:function(){this.setState({groupSendReceiptDetailsShown:!0})},handleGroupPaymentRequestDetailsLinkClicked:function(){this.setState({groupPaymentRequestReceiptDetailsShown:!0})},handleThirdPartyReceiptDialogClosed:function(){this.setState({groupPaymentRequestReceiptDetailsShown:!1,groupSendReceiptDetailsShown:!1})},isViewerSender:function(){var a=this.props.sender.id;return a&&b("MercuryIDs").getUserIDFromParticipantID(a)===b("CurrentUser").getID()},isViewerReceiver:function(){var a=this.props.receiver.id;return a&&b("MercuryIDs").getUserIDFromParticipantID(a)===b("CurrentUser").getID()},renderPaymentRequestDetailsLink:function(){var a=b("XP2PPaymentRequestReceiptController").getURIBuilder().setString("id",this.props.transferID).getURI();return b("React").createElement(b("Link.react"),{className:"_kiq",href:a,target:"_blank"},h._("See details"))},renderTransferDetailsLink:function(){var a=b("XP2PTransactionDetailController").getURIBuilder().setString("id",this.props.transferID).getURI();return b("React").createElement(b("Link.react"),{className:"_kiq",href:a,target:"_blank"},h._("See details"))},renderGroupDetailsLink:function(){return b("React").createElement(b("Link.react"),{className:"_kiq",href:"#",onClick:this.handleGroupDetailsLinkClicked},h._("See details"))},renderGroupPaymentRequestDetailsLink:function(){return b("React").createElement(b("Link.react"),{className:"_kiq",href:"#",onClick:this.handleGroupPaymentRequestDetailsLinkClicked},h._("See details"))},renderLayers:function(){var a={},c={full_name:this.props.receiver.name,id:this.props.receiver.id,picture:this.props.receiver.image_src,profile_uri:this.props.receiver.href},d={full_name:this.props.sender.name,id:this.props.sender.id,picture:this.props.sender.image_src,profile_uri:this.props.sender.href};this.state.groupSendReceiptDetailsShown?a.groupSendReceiptDetailsDialog=b("React").createElement(b("P2PGroupSendReceiptDialog.react"),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,receiver:c,sender:d}):this.state.groupPaymentRequestReceiptDetailsShown&&(a.groupPaymentRequestReceiptDetailsDialog=b("React").createElement(b("P2PGroupPaymentRequestReceiptDialog.react"),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,requestee:c,requester:d}));return a},render:function(){__p&&__p();var a=null,c=this.props.amount,d=this.props.subtype,e=this.isViewerSender(),f=this.isViewerReceiver(),g;!e&&!f?g=this.renderGroupDetailsLink():g=this.renderTransferDetailsLink();switch(d){case b("P2PPaymentLogMessageSubtype").SENT_IN_GROUP:a=h._("{sendername} sent {amount} to {receivername}. {details}",[h._param("sendername",this.props.sender.name),h._param("amount",c),h._param("receivername",this.props.receiver.name),h._param("details",g)]);break;case b("P2PPaymentLogMessageSubtype").CANCELED_EXPIRED:case b("P2PPaymentLogMessageSubtype").CANCELED_SAME_CARD:case b("P2PPaymentLogMessageSubtype").CANCELED_SENDER_RISK:case b("P2PPaymentLogMessageSubtype").CANCELED_RECIPIENT_RISK:case b("P2PPaymentLogMessageSubtype").CANCELED_CUSTOMER_SERVICE:e?a=h._("Your {amount} payment was canceled. {details}",[h._param("amount",c),h._param("details",this.renderTransferDetailsLink())]):f?a=h._("{name}'s {amount} payment was canceled. {details}",[h._param("name",this.props.sender.name),h._param("amount",c),h._param("details",this.renderTransferDetailsLink())]):a=h._("{sender_name}'s {amount} payment to {receiver_name} was canceled. {details}",[h._param("sender_name",this.props.sender.name),h._param("amount",c),h._param("receiver_name",this.props.receiver.name),h._param("details",g)]);a=b("React").createElement("span",{className:"_5rdx"},a);break;case b("P2PPaymentLogMessageSubtype").CANCELED_DECLINED:e?a=h._("{name} didn't accept your {amount} payment. {details}",[h._param("name",this.props.receiver.name),h._param("amount",c),h._param("details",this.renderTransferDetailsLink())]):f?a=h._("You didn't accept {name}'s {amount} payment. {details}",[h._param("name",this.props.sender.name),h._param("amount",c),h._param("details",this.renderTransferDetailsLink())]):a=h._("{receiver_name} didn't accept {sender_name}'s {amount} payment. {details}",[h._param("receiver_name",this.props.receiver.name),h._param("sender_name",this.props.sender.name),h._param("amount",c),h._param("details",g)]);a=b("React").createElement("span",{className:"_5rdx"},a);break;case b("P2PPaymentLogMessageSubtype").REQUEST_CANCELED_BY_REQUESTER:e?a=h._("You canceled your request for {payment request amount}. {details}",[h._param("payment request amount",c),h._param("details",this.renderPaymentRequestDetailsLink())]):f?a=h._("{sender's name} canceled their request for {payment request amount}. {details}",[h._param("sender's name",this.props.sender.name),h._param("payment request amount",c),h._param("details",this.renderPaymentRequestDetailsLink())]):a=h._("{sender's name} canceled their request for {payment request amount} from {receiver's name}. {details}",[h._param("sender's name",this.props.sender.name),h._param("payment request amount",c),h._param("receiver's name",this.props.receiver.name),h._param("details",this.renderGroupPaymentRequestDetailsLink())]);a=b("React").createElement("span",{className:"_5rdx"},a);break;case b("P2PPaymentLogMessageSubtype").REQUEST_DECLINED_BY_REQUESTEE:e?a=h._("{receiver's name} declined your request for {payment request amount}. {details}",[h._param("receiver's name",this.props.receiver.name),h._param("payment request amount",c),h._param("details",this.renderPaymentRequestDetailsLink())]):f?a=h._("You declined {sender's name}'s request for {payment request amount}. {details}",[h._param("sender's name",this.props.sender.name),h._param("payment request amount",c),h._param("details",this.renderPaymentRequestDetailsLink())]):a=h._("{receiver's name} declined {sender's name}'s request for {payment request amount}. {details}",[h._param("receiver's name",this.props.receiver.name),h._param("sender's name",this.props.sender.name),h._param("payment request amount",c),h._param("details",this.renderGroupPaymentRequestDetailsLink())]);a=b("React").createElement("span",{className:"_5rdx"},a);break;case b("P2PPaymentLogMessageSubtype").REQUEST_EXPIRED:e?a=h._("Your request for {payment request amount} expired so it was canceled. {details}",[h._param("payment request amount",c),h._param("details",this.renderPaymentRequestDetailsLink())]):f?a=h._("{sender's name}'s request for {payment request amount} expired so it was canceled. {details}",[h._param("sender's name",this.props.sender.name),h._param("payment request amount",c),h._param("details",this.renderPaymentRequestDetailsLink())]):a=h._("{sender's name}'s request to {receiver's name} for {payment request amount} expired so it was canceled. {details}",[h._param("sender's name",this.props.sender.name),h._param("receiver's name",this.props.receiver.name),h._param("payment request amount",c),h._param("details",this.renderGroupPaymentRequestDetailsLink())]);a=b("React").createElement("span",{className:"_5rdx"},a);break}return b("React").createElement("div",{className:b("MessengerEnvironment").messengerui?"_5rdy":""},a)}});e.exports=c}),null);
__d("MessengerLogMessageBody.react",["ImmutableObject","MercuryLogMessageType","MessengerParticipants.bs","P2PMercuryLogMessage.react","React","ReactComponentWithPureRenderMixin"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"MessengerLogMessageBody",_subscription:null,mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{thread:a.instanceOf(b("ImmutableObject")),message:a.instanceOf(b("ImmutableObject")).isRequired,viewer:a.string.isRequired},getInitialState:function(){return{extraParticipants:{}}},componentDidMount:function(){this._subscription=this._computeParticipants()},_computeParticipants:function(){__p&&__p();var a=this._getIDsToFetch(this.props);if(a.length===0)return null;var c=[],d={};a.forEach(function(a){var e=b("MessengerParticipants.bs").getNow(a);d[a]=e;e||c.push(a)});this.setState({extraParticipants:d});return c.length>0?b("MessengerParticipants.bs").getMulti(c,function(a){var b=this.state.extraParticipants;c.forEach(function(c){b[c]=a[c]});this._subscription=null;this.setState({extraParticipants:b})}.bind(this)):null},_getIDsToFetch:function(a){var c=[];a=a.message;var d=a.log_message_data;a=a.log_message_type;a===b("MercuryLogMessageType").ORION&&c.push(d.senderId,d.receiverId);return c},componentDidUpdate:function(){var a=this._getIDsToFetch(this.props);!this._subscription&&!a.every(function(a){return this.state.extraParticipants[a]}.bind(this))&&(this._subscription=this._computeParticipants())},componentWillUnmount:function(){this._subscription&&b("MessengerParticipants.bs").removeCallback(this._subscription)},render:function(){var a=this.props.message.log_message_type;if(a!==b("MercuryLogMessageType").ORION)return null;switch(a){case b("MercuryLogMessageType").ORION:return this._renderP2PLogMessage(this.props.message);default:return null}},_renderP2PLogMessage:function(a){var c=a.log_message_data,d=c.senderId,e=c.receiverId,f=this.state.extraParticipants;d=f[d]||new(b("ImmutableObject"))();f=f[e]||new(b("ImmutableObject"))();return b("React").createElement(b("P2PMercuryLogMessage.react"),{amount:c.formattedAmount,receiver:f,sender:d,subtype:c.subtype,threadFBID:a.thread_fbid,threadID:a.thread_id,transferID:c.transfer_id})}});e.exports=c}),null);
__d("MessengerLogMessage.react",["cx","fbt","ix","BootloadOnRender.react","EventRemindersGating","EventsMessengerComActionContextJSConfig","Image.react","ImmutableObject","JSResource","LazyComponent.react","Link.react","MercuryLogMessageType","MercuryLWARenderer","MercuryXMATRenderer","MessagingGenericAdminTextType","MessengerDialogs.bs","MessengerLightweightActionUtils","MessengerLogMessageBody.react","MessengerMessage.bs","MNCommerceLogMessageUtils","React","convertMIGColorToFIGColor","joinClasses","requireWeak","EventReminderRequestHelper"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;var k=i("86913");d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={showEventPlanDialog:!1},this.$6=function(event){__p&&__p();var a;event.stopPropagation();if(this.state.showEventPlanDialog)return;this.setState({showEventPlanDialog:!0});if(!this.props.thread)return;var c=this.props.thread,d=b("EventReminderRequestHelper"),e={action_history:[{surface:b("EventsMessengerComActionContextJSConfig").messenger_com,mechanism:b("EventsMessengerComActionContextJSConfig").reminder_admin_text}]},f=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_id:a:a:a;!f?this.setState({showEventPlanDialog:!1}):d.fetchEventReminder(c.thread_id,f,function(){b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("MessengerEventPlanContainer.react").__setRef("MessengerLogMessage.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{threadID:c.thread_id,eventID:f,dialogOnly:!0,dialogHandleToggle:this.$7,actionContext:e})})}.bind(this))}.bind(this))}.bind(this),this.$7=function(a){this.setState({showEventPlanDialog:!1}),b("MessengerDialogs.bs").removeAllDialogs()}.bind(this),c}a.prototype.render=function(){var a=b("EventRemindersGating").shouldShowPlansOnMessengerCom?b("React").createElement("span",{className:"_ofg",ref:"attachment"},this.$1()):null;return b("React").createElement("div",{className:this.$2()},this.$3(),b("React").createElement("i",{className:"_uwa"}),b("React").createElement("span",{className:"_3oh-"},this.$4()),a)};a.prototype.$4=function(){var a=b("convertMIGColorToFIGColor")(this.props.thread&&this.props.thread.solid_color),c;if(b("MessengerLightweightActionUtils").isLWAMessage(this.props.message))return b("MercuryLWARenderer").renderCollapsedText(this.props.message);this.props.message.log_message_type!==b("MercuryLogMessageType").ORION&&(c=b("MercuryXMATRenderer").renderText(a,this.props.message,this.props.isLastOfType,this.props.onImageLoad,this.props.isPageMessage));return this.$5()||c||b("React").createElement(b("MessengerLogMessageBody.react"),{message:this.props.message,viewer:this.props.viewer,thread:this.props.thread})};a.prototype.$5=function(){var a=this.props.message;return b("MNCommerceLogMessageUtils").isCommercePageAdminMessage(a)?b("MNCommerceLogMessageUtils").getCommercePageManage(a,!0):null};a.prototype.$3=function(){return!b("MessengerMessage.bs").hasError(this.props.message)?null:b("React").createElement(b("Image.react"),{className:"_41-9",src:k})};a.prototype.$2=function(){__p&&__p();var a,c=this.props.message,d=c.log_message_type===b("MercuryLogMessageType").UNSUBSCRIBE&&c.log_message_data.removed_participants.indexOf(c.author)!==-1,e=this.props.viewer;switch(c.log_message_type){case b("MercuryLogMessageType").SUBSCRIBE:a="_uwb";break;case b("MercuryLogMessageType").UNSUBSCRIBE:a=d?"_uwc":"_uwe";break;case b("MercuryLogMessageType").PHONE_CALL:a=c.log_message_data.caller.indexOf(e)!==-1?"_uwf":"_uwg";break;case b("MercuryLogMessageType").VIDEO_CALL:a=c.log_message_data.caller.indexOf(e)!==-1?"_uwh":"_uwi";break;case b("MercuryLogMessageType").THREAD_NAME:a="_uwj";break;case b("MercuryLogMessageType").THREAD_IMAGE:a="_uwk";break;case b("MercuryLogMessageType").SERVER_ERROR:a="_uwl";break;case b("MercuryLogMessageType").LIVE_LISTEN:a="_uwm";break;case b("MercuryLogMessageType").WALLPAPER:a="_uwn";break;case b("MercuryLogMessageType").ORION:a="_uwo";break;case b("MercuryLogMessageType").SWITCH_TO_WORK:a="_uwp";break;case b("MercuryLogMessageType").PAGE_REPLY:a="_uwq";break}return b("joinClasses")("_497p"+((c.log_message_type===b("MercuryLogMessageType").PHONE_CALL||c.log_message_type===b("MercuryLogMessageType").VIDEO_CALL)&&!c.log_message_data.answered?" _3no3":"")+(c.log_message_data&&c.log_message_data.message_type===b("MessagingGenericAdminTextType").INSTANT_GAME_UPDATE?" _11es":""),a)};a.prototype.$1=function(){__p&&__p();var a;if(!this.props.thread)return null;var c=this.props.thread;if(!c.lightweight_event||!this.props.message.log_message_data)return null;var d=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_id:a:a:a,e;b("requireWeak")("EventReminderStateStore",function(a){e=a.getEvent(c.thread_id,d)});if(!e||!e.exists)return null;a=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_time:a:a:a;if(!a)return null;typeof a==="string"&&(a=parseInt(a,10));if(a<=Math.floor(Date.now()/1e3))return null;var f;switch(this.props.message.log_message_data.message_type){case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_CREATE:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TIME:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TITLE:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_LOCATION:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE:f=h._("Change");break;default:f=null}a=b("React").createElement(b("Link.react"),{href:"#",onClick:this.$6,title:h._("Edit Event"),ref:"event_rem_link"},f);this.props.displayItems&&(a=null);return a};a.propTypes={message:c.instanceOf(b("ImmutableObject")).isRequired,viewer:c.string.isRequired,isLastOfType:c.bool.isRequired,onImageLoad:c.func};e.exports=a}),null);
__d("MessengerHotLikeGlyphIcon.react",["ix","cx","Image.react","React","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("Image.react"),{className:"_43_3",src:g("134384")})};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("EmoticonUtils",["EmoticonsList","Parent"],(function(a,b,c,d,e,f){__p&&__p();var g="emoticon_",h=b("EmoticonsList").symbols;a={getEmoteFromTarget:function(a){a=b("Parent").byClass(a,"emoticon");if(!a)return null;var c=null;a.className.split(" ").forEach(function(a){a.startsWith(g)&&(c=a.substring(g.length))});return h[c]||null},insertEmoticon:function(a,b,c){var d=b.substring(0,c.start);b=b.substring(c.end);c.start>0&&!d.endsWith(" ")&&(a=" "+a);b.startsWith(" ")||(a+=" ");d=d+a+b;c.start+=a.length;c.end=c.start;return{result:d,start:c.start,end:c.end}}};e.exports=a}),null);
__d("MercuryPageOrderedThreadlist",["MercuryFilters","MercuryOrderedThreadlist","MercuryPageServerRequests","MercurySingletonProvider","MessagingTag"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("MercuryOrderedThreadlist"));g=c&&c.prototype;a.getForFBID=function(a){return h.getForFBID(a)};a.get=function(){return h.get()};function a(a){g.constructor.call(this,a),this.$MercuryPageOrderedThreadlist1=a}a.prototype.getServerRequests=function(){return b("MercuryPageServerRequests").getForFBID(this.$MercuryPageOrderedThreadlist1)};a.prototype.addNonPriorityThreadsWithoutSort=function(a){var c=this.getThreadlistOrderMap(b("MessagingTag").INBOX,b("MercuryFilters").NONPRIORITY);c.addResourcesWithoutSorting(a,c.getCurrentArraySize())};var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryDragDropPrompt.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_4g6x"},b("React").createElement("div",{className:"_4g6y"},b("React").createElement("div",{className:"_4g6z _4g71"},h._("Drag Links\/Files Here")),b("React").createElement("div",{className:"_4g6z _4g6- _4g6_"},h._("Drop Files Here")),b("React").createElement("div",{className:"_4g6z _4g6- _4g70"},h._("Drop Link Here"))))};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("MercurySyncPageEnvironment",["Arbiter","ChannelInitialData","ChannelManager","MercurySyncDeltaHandler","MessengerMQTTConnection","MessengerMQTTGating"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("ChannelManager").startChannelManager();function a(a,c){if(Object.keys(b("ChannelInitialData")).length===0&&JSON.stringify(b("ChannelInitialData"))===JSON.stringify({}))return;c||(c=0);b("MercurySyncDeltaHandler").getForFBID(a);b("MessengerMQTTGating").isEnabled()?b("MessengerMQTTConnection").addDeltaStream({fbid:a,irisSeqID:c.toString()}):b("ChannelManager").subscribeIrisQueue(a,c.toString());b("Arbiter").inform("MercurySyncDeltaHandler/initSeqID",{fbid:a,seqID:c})}function c(a){}e.exports={setUp:a,tearDown:c}}),null);
__d("SelectionPosition",["Event","InputSelection","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$1=a,this.$2={start:0,end:0},this.$3=new(b("SubscriptionsHandler"))(),this.$4=!1,this.updatePos(),this.enable()}a.prototype.getPos=function(){"use strict";return babelHelpers["extends"]({},this.$2)};a.prototype.setPos=function(a,b){"use strict";this.$2={start:a,end:b},this.restore()};a.prototype.updatePos=function(){"use strict";this.$2=b("InputSelection").get(this.$1)};a.prototype.restore=function(){"use strict";b("InputSelection").set(this.$1,this.$2.start,this.$2.end)};a.prototype.enable=function(){"use strict";this.$4||(this.$3.addSubscriptions(b("Event").listen(this.$1,"keyup",this.updatePos.bind(this)),b("Event").listen(this.$1,"click",this.updatePos.bind(this))),this.$4=!0)};a.prototype.disable=function(){"use strict";this.$4&&(this.$3.release(),this.$4=!1)};e.exports=a}),null);
__d("PagesSelectableSimpleListActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a="PAGES_SELECTABLE_SIMPLE_LIST";c=b("keyMirrorRecursive")({ROW:{ALL_DESELECTED:"",ALL_SELECTED:"",SELECTED:""}},a);e.exports=c}),null);
__d("PagesSelectableSimpleListAction",["PagesDispatcher","PagesSelectableSimpleListActionType"],(function(a,b,c,d,e,f){"use strict";a={rowSelected:function(a,c){b("PagesDispatcher").dispatch({type:b("PagesSelectableSimpleListActionType").ROW.SELECTED,rowKey:a,selected:c})},selectAll:function(a,c){b("PagesDispatcher").dispatch({type:b("PagesSelectableSimpleListActionType").ROW.ALL_SELECTED,rowKeys:a,selected:c})},deselectAll:function(){b("PagesDispatcher").dispatch({type:b("PagesSelectableSimpleListActionType").ROW.ALL_DESELECTED})}};e.exports=a}),null);
__d("PagesSelectableSimpleListStore",["FluxStore","PagesDispatcher","PagesSelectableSimpleListActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("PagesDispatcher")),this.$PagesSelectableSimpleListStore1=new Map()}a.prototype.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesSelectableSimpleListActionType").ROW.SELECTED:this.$PagesSelectableSimpleListStore2(a.rowKey,a.selected);this.__emitChange();break;case b("PagesSelectableSimpleListActionType").ROW.ALL_SELECTED:this.$PagesSelectableSimpleListStore3(a.rowKeys,a.selected);this.__emitChange();break;case b("PagesSelectableSimpleListActionType").ROW.ALL_DESELECTED:this.$PagesSelectableSimpleListStore1=new Map();this.__emitChange();break}};a.prototype.$PagesSelectableSimpleListStore2=function(a,b){b?this.$PagesSelectableSimpleListStore1.set(a,!0):this.$PagesSelectableSimpleListStore1["delete"](a)};a.prototype.$PagesSelectableSimpleListStore3=function(a,b){a.forEach(function(a){return this.$PagesSelectableSimpleListStore2(a,b)}.bind(this))};a.prototype.isRowSelected=function(a){return this.$PagesSelectableSimpleListStore1.has(a)};a.prototype.getSelectedCount=function(){return this.$PagesSelectableSimpleListStore1.size};a.prototype.getSelectedRowsMap=function(){return this.$PagesSelectableSimpleListStore1};a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesSelectableSimpleListCheckboxContainer.react",["FluxContainer","PagesSelectableListCheckbox.react","PagesSelectableSimpleListAction","PagesSelectableSimpleListStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("PagesSelectableSimpleListAction").selectAll(this.props.allRowKeysGetter(),!this.state.checked);var a=this.props.onChange;a&&a(b("PagesSelectableSimpleListStore").getSelectedRowsMap())}.bind(this),c}a.getStores=function(){return[b("PagesSelectableSimpleListStore")]};a.calculateState=function(a,c){a=b("PagesSelectableSimpleListStore").getSelectedCount();var d;a===0?d=!1:a===c.rowCount?d=!0:d=null;return{checked:d}};a.prototype.render=function(){return b("React").createElement(b("PagesSelectableListCheckbox.react"),{checked:this.state.checked,onChange:this.$1})};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesSelectableSimpleListRowContainer.react",["FluxContainer","PagesSelectableSimpleListAction","PagesSelectableSimpleListStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){b("PagesSelectableSimpleListAction").rowSelected(this.props.rowKey,a),this.props.onSelected&&this.props.onSelected(b("PagesSelectableSimpleListStore").getSelectedRowsMap())}.bind(this),c}a.getStores=function(){return[b("PagesSelectableSimpleListStore")]};a.calculateState=function(a,c){return{selected:b("PagesSelectableSimpleListStore").isRowSelected(c.rowKey)}};a.prototype.render=function(){return this.props.rowRenderer(this.props.rowData.rowIndex,this.state.selected,this.$1)};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesSelectableSimpleList.react",["cx","CenteredContainer.react","LeftRight.react","OnVisible.react","PagesSelectableSimpleListCheckboxContainer.react","PagesSelectableSimpleListRowContainer.react","React","ResponsiveBlock.react","SimpleList.react","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){h.constructor.call(this),this.$4=function(a,b){this.setState({headerHeight:b})}.bind(this),this.$6=function(a){return this.props.canLoadMoreRows&&a.rowIndex===this.props.rowCount?this.$8():b("React").createElement(b("PagesSelectableSimpleListRowContainer.react"),{ref:this.props.rowKeyGetter(a.rowIndex),onSelected:this.$3,rowData:a,rowKey:this.props.rowKeyGetter(a.rowIndex),rowRenderer:this.props.rowRenderer})}.bind(this),this.$9=function(){this.props.onRequestMoreRows&&!this.props.isLoadingMoreRows&&this.props.onRequestMoreRows()}.bind(this),this.$3=function(a){this.props.onSelectionChange&&this.props.onSelectionChange(a)}.bind(this),this.state={headerHeight:0}}a.prototype.render=function(){return b("React").createElement("div",{className:this.props.className},this.$1(),this.$2())};a.prototype.$1=function(){if(!this.props.showHeader)return null;var a=this.props.allRowKeysGetter?b("React").createElement(b("PagesSelectableSimpleListCheckboxContainer.react"),{allRowKeysGetter:this.props.allRowKeysGetter,onChange:this.$3,rowCount:this.props.rowCount}):null;return b("React").createElement(b("ResponsiveBlock.react"),{onResize:this.$4},b("React").createElement(b("LeftRight.react"),{className:"_2x3m"},b("React").createElement("div",null,a,b("React").createElement("span",null,this.props.actionBarLeftComponent)),b("React").createElement("div",null,this.props.actionBarRightComponent)),this.props.header)};a.prototype.$2=function(){var a=this.props.height-this.state.headerHeight;if(a<=0)return null;return this.props.replaceContent||!this.props.rowCount?b("React").createElement("div",{style:{height:a}},this.props.replaceContent):this.$5(a)};a.prototype.$5=function(a){return b("React").createElement(b("SimpleList.react"),{goToRowIndex:this.props.goToRowIndex,height:a,hideScrollShadow:!0,item:this.$6,ref:"simpleList",rowCount:this.$7(),rowHeight:this.props.rowHeight,scrollbarOnHoverOnly:!0})};a.prototype.getSimpleList=function(){return this.refs.simpleList};a.prototype.$7=function(){return this.props.rowCount+(this.props.canLoadMoreRows?1:0)};a.prototype.$8=function(){return b("React").createElement(b("OnVisible.react"),{onVisible:this.$9,style:{height:this.props.rowHeight}},this.props.loadingIndicator)};a.defaultProps={canLoadMoreRows:!1,isLoadingMoreRows:!1,loadingIndicator:b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!0},b("React").createElement(b("XUISpinner.react"),{size:"large"})),showHeader:!1};e.exports=a}),null);
__d("PageCustomerConstants",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a={ActionTypes:b("keyMirror")({UPDATE_CUSTOMER_ACTIONS:null,UPDATE_CUSTOMER_DATA:null,UPDATE_CUSTOMER_ADMIN_NOTES_DATA:null,UPDATE_MORE_SHARED_PHOTOS:null,UPDATED_CUSTOMER_TAG_NAMES:null,FETCH_CUSTOMER_DATA:null,FETCH_CUSTOMER_ACTIONS_DATA:null,FETCH_MORE_SHARED_PHOTOS:null,RESET:null,RESET_UI:null,QUERY_TAGS:null,SET_TAG:null,UNSET_TAG:null,SHOW_MORE_HISTORY:null,SHOW_MORE_NOTES:null,SHOW_STORY_PREVIEW:null,HIDE_STORY_PREVIEW:null,TOGGLE_EDIT_NOTE_DIALOG:null,TOGGLE_DELETE_NOTE_DIALOG:null,TOGGLE_FULL_VIEW:null,ADD_NOTE:null,EDIT_NOTE:null,DELETE_NOTE:null,DRAFT_NOTE:null}),PayloadSources:b("keyMirror")({SERVER_ACTION:null,VIEW_ACTION:null}),ContextCardLocations:b("keyMirror")({HOVERCARD_LOCATION:null,INBOX_LOCATION:null})};e.exports=a}),null);
__d("PageCustomerDispatcher",["Dispatcher_DEPRECATED","PageCustomerConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("PageCustomerConstants").PayloadSources,i=[];g=babelHelpers.inherits(a,b("Dispatcher_DEPRECATED"));g&&g.prototype;a.prototype.$PageCustomerDispatcher1=function(){var a=i;i=[];a.forEach(function(a){return a()});i.length=0};a.prototype.addPostDispatchCallback=function(a){this.isDispatching()?i.push(a):a()};a.prototype.handleServerAction=function(a){this.addPostDispatchCallback(function(){var b={source:h.SERVER_ACTION,action:a};this.dispatch(b);this.$PageCustomerDispatcher1()}.bind(this))};a.prototype.handleViewAction=function(a){this.addPostDispatchCallback(function(){var b={source:h.VIEW_ACTION,action:a};this.dispatch(b);this.$PageCustomerDispatcher1()}.bind(this))};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("PagesAdminToolUIActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONTEXT_CARD_CLICK_ADD_NOTE:"context_card_click_add_note",CONTEXT_CARD_CLICK_CONFIRM_ADD_NOTE:"context_card_click_confirm_add_note",CONTEXT_CARD_CLICK_DELETE_NOTE:"context_card_click_delete_note",CONTEXT_CARD_CLICK_CONFIRM_DELETE_NOTE:"context_card_click_confirm_delete_note",CONTEXT_CARD_CLICK_HISTORY:"context_card_click_history",CONTEXT_CARD_CLICK_PROFILE_LINK:"context_card_click_profile_link",CONTEXT_CARD_CLICK_SHARED_MEDIA:"context_card_click_shared_media",CONTEXT_CARD_LOAD_MORE_SHARED_MEDIA:"context_card_load_more_shared_media",CONTEXT_CARD_LOAD_MORE_NOTES:"context_card_load_more_notes",CONTEXT_CARD_LOAD_MORE_HISTORY:"context_card_load_more_history",CONTEXT_CARD_CLICK_SET_CUSTOM_TAG:"context_card_click_set_custom_tag",CONTEXT_CARD_CLICK_UNSET_CUSTOM_TAG:"context_card_click_unset_custom_tag",TAG_MANAGEMENT_CLICK_DELETE_LINK:"tag_management_click_delete_link",TAG_MANAGEMENT_CLICK_CONFIRM_DELETE:"tag_management_click_confirm_delete",TAG_MANAGEMENT_CLICK_COLOR_SELECTOR:"tag_management_click_color_selector",TAG_MANAGEMENT_CLICK_CHANGE_COLOR:"tag_management_click_change_color",TAG_MANAGEMENT_CLICK_ADD_TAG:"tag_management_click_add_tag",TAG_MANAGEMENT_CLICK_MERGE_TAG:"tag_management_click_merge_tag",MESSAGE_INBOX_SWITCH_FOLDER:"message_inbox_switch_folder",MESSAGE_INBOX_TOGGLE_FILTER_PANEL:"message_inbox_toggle_filter_panel",MESSAGE_INBOX_CLICK_MANAGE_TAGS:"message_inbox_click_manage_tags",MESSAGE_INBOX_CLICK_ADD_SEARCH_TAGS:"message_inbox_click_add_search_tags",MESSAGE_INBOX_CLICK_REMOVE_SEARCH_TAGS:"message_inbox_click_remove_search_tags",MESSAGE_INBOX_CLICK_SEARCH_NAMES:"message_inbox_click_search_names",MESSAGE_INBOX_CLICK_SEARCH_MESSAGES:"message_inbox_click_search_messages",MESSAGE_INBOX_CLICK_AWAY_TOGGLE:"message_inbox_click_away_toggle",MESSAGE_INBOX_CLICK_THREAD_BLOCK:"message_inbox_click_thread_block",MESSAGE_INBOX_CLICK_SEND_MESSAGE:"message_inbox_click_send_message",MESSAGE_INBOX_CLICK_MENU_ACTION:"message_inbox_click_menu_action",HOVERCARD_CLICK_EXPAND_FULL_VIEW:"hovercard_click_expand_full_view",HOVERCARD_CLICK_SEND_MESSAGE:"hovercard_click_send_message",HOVERCARD_CLICK_SEE_CONVERSATION:"hovercard_click_see_conversation",HOVERCARD_CLICK_VIEW_PROFILE:"hovercard_click_view_profile"})}),null);
__d("PagesManagerActionType",["ImmutableObject","keyMirrorRecursive"],(function(a,b,c,d,e,f){a=new(b("ImmutableObject"))(b("keyMirrorRecursive")({LIST:{FETCH:"",FETCHED:"",UPDATED:"",LOAD_MORE:"",LOADING:"",PREVENT_SCROLL:"",SELECT:"",DESELECT_ALL:"",VIEW:"",INITIAL_VIEW:"",CLEAR_INITIAL_VIEW:"",SET_RESPONSE_DATA:"",ITEM_FOLDER_CHANGE:"",REMOVE_ITEM_FOLDER_CHANGE:""},NAVIGATION_UNIT:{CHANGE:"",NOTIFICATION_COUNT_CHANGE:""},FILTER_PANEL:{TOGGLE_PANEL:""},LAYOUT:{HEIGHT_CHANGE:"",LIST_HEIGHT_CHANGE:"",FOOTER_HEIGHT_CHANGE:"",HEADER_HEIGHT_CHANGE:""},SEARCH:{TOGGLE:"",CHANGE_TYPE:"",CHANGE_SEARCH_TERM:"",IS_SEARCHING_CHANGED:"",ADD_SEARCH_CUSTOM_TAG:"",REMOVE_SEARCH_CUSTOM_TAG:"",FETCH_CUSTOM_TAG_THREAD_COUNTS:"",UPDATE_CUSTOM_TAG_THREAD_COUNTS:"",SELECT_CUSTOMER:"",CLEAR:"",LABEL:""},CTA:{CTA_ID_FETCH_SUCCESS:"",CTA_ID_FETCH_ERROR:""}}));e.exports=a}),null);
__d("PagesManagerCustomTagsActionType",["PagesManagerActionType","keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({FETCH:null,UPDATE:null,TOGGLE_MERGE_LABELS:null,TOGGLE_TAG_MANAGEMENT_DIALOG:null,CREATE:null,DELETE:null,EDIT_COLOR:null,MERGE:null},"CUSTOM_TAGS_");Object.assign(a,b("PagesManagerActionType"));e.exports=a}),null);
__d("PagesManagerCustomTagsAction",["PagesManagerCustomTagsActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){__p&&__p();a={fetch:function(a){b("PagesManagerDispatcher").dispatch({pageID:a,type:b("PagesManagerCustomTagsActionType").FETCH})},toggleMergeLabelsSection:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerCustomTagsActionType").TOGGLE_MERGE_LABELS,pageID:a,show:c})},toggleManageTagsDialog:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerCustomTagsActionType").TOGGLE_TAG_MANAGEMENT_DIALOG,pageID:a,show:c})},updateCustomTagsData:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerCustomTagsActionType").UPDATE,pageID:a,customTags:c,hasTagListChanged:d})},createCustomTag:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerCustomTagsActionType").CREATE,pageID:a,tagName:c,color:d})},deleteCustomTag:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerCustomTagsActionType").DELETE,pageID:a,tagName:c})},editCustomTagColor:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerCustomTagsActionType").EDIT_COLOR,pageID:a,tagName:c,color:d})},mergeCustomTag:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerCustomTagsActionType").MERGE,pageID:a,tagName:c,oldTags:d})}};e.exports=a}),null);
__d("PagesManagerLogger",["FBLogger","immutable","PagesAdminToolUIActionType","PagesEventObserver","PagesEventType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("immutable").Map;var g=c(b("PagesAdminToolUIActionType")).toArray();a.prototype.$1=function(a){if(g.indexOf(a)<0){b("FBLogger")("pages").mustfix("Invalid PagesAdminToolUIActionType: %s",a);return!1}return!0};a.prototype.$2=function(a,c,d,e){if(!this.$1(c))return;e=e||{};e.action_type=c;b("PagesEventObserver").notify(a,d,e)};a.prototype.logContextCardUIAction=function(a,c,d){this.$2(b("PagesEventType").PAGES_ADMIN_TOOL_CONTEXT_CARD_UI_ACTION,a,c,d)};a.prototype.logManageTagUIAction=function(a,c,d){this.$2(b("PagesEventType").PAGES_ADMIN_TOOL_MANAGE_TAG_UI_ACTION,a,c,d)};a.prototype.logMessageInboxUIAction=function(a,c,d){this.$2(b("PagesEventType").PAGES_ADMIN_TOOL_MESSAGE_INBOX_UI_ACTION,a,c,d)};a.prototype.logHovercardUIAction=function(a,c,d){this.$2(b("PagesEventType").PAGES_ADMIN_TOOL_HOVERCARD_UI_ACTION,a,c,d)};function a(){}e.exports=new a()}),null);
__d("PageCustomerActions",["cx","ActorURI","MercuryAttachmentType","MercuryAttachmentViewer","MercuryIDs","MercuryPageThreadActions","MessagesViewerSetID","PageCustomerConstants","PageCustomerDispatcher","PagesAdminToolUIActionType","PagesManagerCustomTagsAction","PagesManagerLogger","URI","Vector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PageCustomerConstants").ActionTypes,i="/ajax/messaging/attachments/sharedphotos.php";a={toggleContextCardDialog:function(a,c){b("PageCustomerDispatcher").handleViewAction({actionType:h.TOGGLE_FULL_VIEW,pageID:a,userID:c})},resetData:function(a){b("PageCustomerDispatcher").handleViewAction({actionType:h.RESET,pageID:a})},fetchCustomerData:function(a,c){b("PageCustomerDispatcher").handleViewAction({actionType:h.FETCH_CUSTOMER_DATA,pageID:a,userID:c})},fetchCustomerActionsData:function(a,c){b("PageCustomerDispatcher").handleViewAction({actionType:h.FETCH_CUSTOMER_ACTIONS_DATA,pageID:a,userID:c})},fetchMoreSharedPhotos:function(a,c,d){b("PageCustomerDispatcher").handleViewAction({actionType:h.FETCH_MORE_SHARED_PHOTOS,pageID:a,userID:c,shouldLoadAllImages:d})},resetUI:function(a,c){b("PageCustomerDispatcher").handleViewAction({actionType:h.RESET_UI,pageID:a,userID:c})},clickPhotoFullView:function(a,c,d){switch(d.media_type){case b("MercuryAttachmentType").VIDEO:var e=d.dim.split(",");b("MercuryAttachmentViewer").renderVideo({disableForward:!0,rootClassName:"_1j1h",videoID:d.fbid,videoSize:new(b("Vector"))(e[0],e[1]),videoURI:d.src_uri,pageID:a});break;case b("MercuryAttachmentType").ANIMATED_IMAGE:case b("MercuryAttachmentType").PHOTO:e=b("ActorURI").create(new(b("URI"))(i).setQueryData({thread_id:c,image_id:d.fbid}),a);b("MercuryAttachmentViewer").bootstrapWithConfig({actorid:a,dimensions:d.dim,disableForward:!0,disablePaging:!0,endpoint:e,fbid:d.fbid,setID:b("MessagesViewerSetID").MESSAGES_VIEW_ALL_IN_THREAD,snapToPhoto:!0,src:d.src_uri});break}b("PagesManagerLogger").logContextCardUIAction(b("PagesAdminToolUIActionType").CONTEXT_CARD_CLICK_SHARED_MEDIA,a,{fbid:d.fbid,media_type:d.media_type})},clickProfileLink:function(a,c){b("PagesManagerLogger").logContextCardUIAction(b("PagesAdminToolUIActionType").CONTEXT_CARD_CLICK_PROFILE_LINK,a)},queryTags:function(a,c,d){b("PageCustomerDispatcher").handleViewAction({actionType:h.QUERY_TAGS,pageID:a,userID:c,query:d})},setTag:function(a,c,d){b("PageCustomerDispatcher").handleViewAction({actionType:h.SET_TAG,pageID:a,userID:c,tagName:d})},unsetTag:function(a,c,d){b("PageCustomerDispatcher").handleViewAction({actionType:h.UNSET_TAG,pageID:a,userID:c,tagName:d})},unflag:function(a,c){b("MercuryPageThreadActions").getForFBID(a).removeFlag(b("MercuryIDs").getThreadIDFromUserID(c),"context_card")},updateCustomTagsData:function(a,c,d){b("PagesManagerCustomTagsAction").updateCustomTagsData(a,c,d)},showMoreHistory:function(a,c){b("PageCustomerDispatcher").handleViewAction({actionType:h.SHOW_MORE_HISTORY,pageID:a,userID:c})},showMoreNotes:function(a,c){b("PageCustomerDispatcher").handleViewAction({actionType:h.SHOW_MORE_NOTES,pageID:a,userID:c})},showStoryPreview:function(a,c,d){b("PageCustomerDispatcher").handleViewAction({actionType:h.SHOW_STORY_PREVIEW,pageID:a,userID:c,storyToken:d})},hideStoryPreview:function(a,c){b("PageCustomerDispatcher").handleViewAction({actionType:h.HIDE_STORY_PREVIEW,pageID:a,userID:c})},toggleEditNoteDialog:function(a,c,d,e){b("PageCustomerDispatcher").handleViewAction({actionType:h.TOGGLE_EDIT_NOTE_DIALOG,pageID:a,userID:c,noteID:e,showEditNoteDialog:d})},toggleDeleteNoteDialog:function(a,c,d,e){b("PageCustomerDispatcher").handleViewAction({actionType:h.TOGGLE_DELETE_NOTE_DIALOG,pageID:a,userID:c,noteID:d,showDeleteNoteDialog:e})},addNote:function(a,c,d){b("PageCustomerDispatcher").handleViewAction({actionType:h.ADD_NOTE,pageID:a,userID:c,noteBody:d})},editNote:function(a,c,d,e){b("PageCustomerDispatcher").handleViewAction({actionType:h.EDIT_NOTE,pageID:a,userID:c,noteID:d,noteBody:e})},deleteNote:function(a,c,d){b("PageCustomerDispatcher").handleViewAction({actionType:h.DELETE_NOTE,pageID:a,userID:c,noteID:d})},draftNote:function(a,c,d){b("PageCustomerDispatcher").handleViewAction({actionType:h.DRAFT_NOTE,pageID:a,userID:c,noteDraft:d})}};e.exports=a}),null);
__d("LeadFormsDataBridge",["AdsAPILeadGenDataFields","AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGenericFilterSet","AdsGraphAPI","LeadGenDataStatus","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("AdsAPILeadGenDataFields").CREATED_TIME,b("AdsAPILeadGenDataFields").ID,b("AdsAPILeadGenDataFields").NAME,b("AdsAPILeadGenDataFields").QUESTIONS];a=new(b("AdsGenericFilterField"))("status",b("AdsGenericFilterFieldType").STRING);c=new(b("AdsGenericFilterField"))("is_not_continued_flow",b("AdsGenericFilterFieldType").BOOLEAN);var h=new(b("AdsGenericFilter"))(a,b("AdsGenericFilterOperator").EQUAL,b("LeadGenDataStatus").ACTIVE),i=new(b("AdsGenericFilter"))(c,b("AdsGenericFilterOperator").NOT_EQUAL,!0);d={fetch:function(a,c,d,f){var k={access_token:a,fields:g,filtering:new(b("AdsGenericFilterSet"))([h,i]).toAPI()};a||delete k.access_token;b("promiseDone")(b("AdsGraphAPI").get(e.id).object("page",c).edge("leadgen_forms").batched().get(k),function(a){return d(j(a.data))},function(a){return f(a)})}};function j(a){return a.map(function(a){return{id:a.id,name:a.name,created_time:a.create_time,questions:a.questions.map(function(a){return a.label})}})}e.exports=d}),null);
__d("SavedResponsesConstants",[],(function(a,b,c,d,e,f){a={editPanelViewMode:{LIST:"LIST",CREATE:"CREATE",EDIT:"EDIT",PERSONALIZE:"PERSONALIZE"},sortingKey:{LAST_USED:"LAST_USED",MOST_USED:"MOST_USED",LAST_CREATED:"LAST_CREATED"},browsePanelAttachModeWidth:300,editPanelDialogWidth:600,listItemImageHeight:60,listItemImageWidth:60};e.exports=a}),null);
__d("SavedResponsesActionButton.react",["cx","Image.react","React","ShimButton.react","XUIGrayText.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=b("joinClasses")("_uvx",this.props.className);return b("React").createElement(b("ShimButton.react"),{className:a,onClick:this.props.onClick},b("React").createElement(b("Image.react"),{src:this.props.image,className:"_uvy"}),b("React").createElement(b("XUIGrayText.react"),{shade:"medium",className:"_uvz"},this.props.label))};function a(){h.apply(this,arguments)}a.propTypes={image:c.object.isRequired,label:c.string.isRequired,onClick:c.func.isRequired};e.exports=a}),null);
__d("XPagesSavedResponseImagePreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/image/preview/",{})}),null);
__d("SavedResponsesImage.react",["cx","ActorURI","AsyncRequest","Image.react","LoadingIndicator.react","React","XPagesSavedResponseImagePreviewController","XUICloseButton.react","isEmpty","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a,b){h.constructor.call(this,a,b),this.$1=null,this.state={currentThumbnailImageId:"",imageUrl:null,isFetchingThumbnail:!1}}a.prototype.UNSAFE_componentWillReceiveProps=function(a){a.imageID!==this.props.imageID&&this.$2(a.imageID)};a.prototype.componentDidMount=function(){this.props.imageID&&this.$2(this.props.imageID)};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.abort&&(this.$1.abort(),this.$1=null)};a.prototype.render=function(){if(!this.$3()&&!this.state.imageUrl)return null;var a="_3mgf";this.$3()?a=b("joinClasses")(a,this.props.loadingClassName):a=b("joinClasses")(a,this.props.displayClassName);return b("React").createElement("div",{className:this.props.className},b("React").createElement("div",{className:a},this.$4()))};a.prototype.$2=function(a){__p&&__p();if(b("isEmpty")(a)){this.setState({imageUrl:null});return}this.setState({isFetchingThumbnail:!0});var c=b("XPagesSavedResponseImagePreviewController").getURIBuilder().getURI();c=b("ActorURI").create(c,this.props.pageID);this.$1=new(b("AsyncRequest"))();this.$1.setURI(c).setHandler(function(a){return this.$5(a)}.bind(this)).setMethod("POST").setData({image_id:a,target_width:this.props.width,target_height:this.props.height}).send()};a.prototype.$3=function(){return this.state.isFetchingThumbnail||!!this.props.isUploading};a.prototype.$4=function(){if(this.props.isUploading||this.state.isFetchingThumbnail)return b("React").createElement(b("LoadingIndicator.react"),{size:"medium",color:"white",className:"_3mgg"});else if(this.state.imageUrl)return b("React").createElement("div",null,b("React").createElement(b("XUICloseButton.react"),{className:"_3mgn"+(this.props.shouldShowCloseButton?"":" hidden_elem"),size:"medium",onClick:this.props.onClose}),b("React").createElement(b("Image.react"),{src:this.state.imageUrl}));else return null};a.prototype.$5=function(a){this.setState({imageUrl:a.payload.url,isFetchingThumbnail:!1})};a.propTypes={displayClassName:c.string.isRequired,height:c.number.isRequired,imageID:c.string,isUploading:c.bool,loadingClassName:c.string.isRequired,onClose:c.func,pageID:c.string.isRequired,shouldShowCloseButton:c.bool.isRequired,width:c.number.isRequired};e.exports=a}),null);
__d("SavedResponsesImageUploadHelper",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){"use strict";this.$1=a,this.$2=b}a.prototype.onUploaderMounted=function(a){"use strict";this.$3=a};a.prototype.onUploadFinished=function(){"use strict";if(!this.$3)return;var a=this.$3.getImageFiles().pop().toString();this.$2(a)};a.prototype.onUploadStarted=function(){"use strict";this.$1()};e.exports=a}),null);
__d("XPagesSavedResponseNotifyAppliedController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/notify/applied/",{})}),null);
__d("XPagesSavedResponsesAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/",{page_id:{type:"Int",required:!0},other_user_id:{type:"Int",required:!0}})}),null);
__d("SavedResponsesUtils",["invariant","ActorURI","AsyncRequest","SavedResponsesConstants","XPagesSavedResponseNotifyAppliedController","XPagesSavedResponsesAsyncController"],(function(a,b,c,d,e,f,g){__p&&__p();a={generateImageMetadata:function(a){return{filename:"Photo.jpg",image_id:a,filetype:"image/jpeg"}},fetchSavedResponses:function(a,c,d){c=b("XPagesSavedResponsesAsyncController").getURIBuilder().setInt("other_user_id",c).setInt("page_id",a).getURI();c=b("ActorURI").create(c,a);new(b("AsyncRequest"))().setURI(c).setHandler(function(a){return d(a.payload.responses,a.payload.tokens)}).send()},sortSavedResponses:function(a,c){switch(c){case b("SavedResponsesConstants").sortingKey.LAST_USED:return a.slice().sort(function(a,b){return b.lastTimeUsed-a.lastTimeUsed});case b("SavedResponsesConstants").sortingKey.MOST_USED:return a.slice().sort(function(a,b){return b.usageCount-a.usageCount});case b("SavedResponsesConstants").sortingKey.LAST_CREATED:return a;default:g(0)}},notifySavedResponseApplied:function(a,c){var d=b("XPagesSavedResponseNotifyAppliedController").getURIBuilder().getURI();d=b("ActorURI").create(d,c);new(b("AsyncRequest"))().setURI(d).setMethod("POST").setData({response_id:a.id}).send()}};e.exports=a}),null);
__d("SavedResponsesImageUploader.react",["cx","ChatFileUploaderMixin","Image.react","MercuryConfig","MercuryFileUploader","React","ReactDOM","SavedResponsesUtils","URI","XUIGrayText.react","joinClasses"],(function(a,b,c,d,e,f,g){a=b("React").PropTypes;c=b("React").createClass({displayName:"SavedResponsesImageUploader",mixins:[b("ChatFileUploaderMixin")],propTypes:{image:a.object.isRequired,label:a.string.isRequired,pageID:a.string,imagesOnly:a.bool},componentDidMount:function(){this._fileUploader=new(b("MercuryFileUploader"))(this.props.attachmentsShelf,b("ReactDOM").findDOMNode(this.refs.form),b("ReactDOM").findDOMNode(this.refs.input),b("ReactDOM").findDOMNode(this.refs.attachID)),this.props.imageID&&this._fileUploader.addCachedAttachments([b("SavedResponsesUtils").generateImageMetadata(this.props.imageID)]),this.setUpSubscriptionsHandler(this._fileUploader)},getActionURI:function(){return this.props.pageID?new(b("URI"))(b("MercuryConfig").upload_url).addQueryData("request_user_id",this.props.pageID).toString():b("MercuryConfig").upload_url},getDefaultProps:function(){return{pageID:null}},componentDidUpdate:function(a,c){this.props.imageID&&(this._fileUploader.removeAttachments(),this._fileUploader.addCachedAttachments([b("SavedResponsesUtils").generateImageMetadata(this.props.imageID)]))},render:function(){var a=b("joinClasses")("_uvx",this.props.className);return b("React").createElement("form",{action:this.getActionURI(),className:a,method:"post",ref:"form"},b("React").createElement("input",{type:"hidden",name:"attach_id",ref:"attachID"}),b("React").createElement("div",{className:"_4q60"},b("React").createElement("div",{className:"_4q61 _2d_p"},b("React").createElement(b("Image.react"),{src:this.props.image,className:"_uvy"}),b("React").createElement(b("XUIGrayText.react"),{shade:"medium",className:"_uvz"},this.props.label)),b("React").createElement("input",{type:"file",className:"_2d_q",name:"attachment[]",accept:this.props.imagesOnly?"image/*":"*",ref:"input"})))}});e.exports=c}),null);
__d("SavedResponsesEditResponseContentView.react",["cx","fbt","ix","AbstractTextArea.react","MacroInput.react","React","SavedResponsesActionButton.react","SavedResponsesImage.react","SavedResponsesImageUploader.react","SavedResponsesImageUploadHelper","ScrollableArea.react"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;c=b("React").PropTypes;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){"use strict";var a=h._("Enter reply title here"),c=h._("Enter your message here");return b("React").createElement("div",{className:this.props.className},b("React").createElement(b("AbstractTextArea.react"),{className:"_4451 _1vw8",onChange:function(a){return this.props.onTitleChange(a.target.value)}.bind(this),placeholder:a,value:this.props.responseTitle}),b("React").createElement("div",{className:"_38bw _57hg"},b("React").createElement(b("ScrollableArea.react"),{fade:!0,shadow:!0},b("React").createElement(b("MacroInput.react"),{className:"_3jv6",editorState:this.props.editorState,onChange:this.props.onContentChange,placeholder:c,readOnly:!1,ref:"macroInput"}),b("React").createElement(b("SavedResponsesImage.react"),{className:"_57hh",displayClassName:"_57hn",imageID:this.props.responseImageID,isUploading:this.props.isUploadingImage,loadingClassName:"_57hi",pageID:this.props.pageID,height:250,onClose:this.props.onDeleteImage,shouldShowCloseButton:!0,width:250}))),this.$1())};a.prototype.$1=function(){"use strict";return b("React").createElement("div",{className:"_57ho"},b("React").createElement(b("SavedResponsesImageUploader.react"),{className:"_3-8v",image:i("89617"),imagesOnly:!0,label:h._("Add Image"),onFileUploaderMounted:function(a){return this.props.uploadHandler.onUploaderMounted(a)}.bind(this),onSubmit:function(){return this.props.uploadHandler.onUploadStarted()}.bind(this),onUploadFinished:function(){return this.props.uploadHandler.onUploadFinished()}.bind(this),pageID:this.props.pageID}),b("React").createElement(b("SavedResponsesActionButton.react"),{image:i("89472"),className:"_3-8v",label:h._("Personalize"),onClick:this.props.onPersonalize}))};function a(){"use strict";j.apply(this,arguments)}a.propTypes={editorState:c.object.isRequired,isUploadingImage:c.bool.isRequired,pageID:c.string.isRequired,responseImageID:c.string,responseTitle:c.string,onContentChange:c.func.isRequired,onDeleteImage:c.func.isRequired,onPersonalize:c.func.isRequired,onTitleChange:c.func.isRequired,uploadHandler:c.instanceOf(b("SavedResponsesImageUploadHelper")).isRequired};e.exports=a}),null);
__d("SavedResponsesFooterButton.react",["cx","Image.react","React","XUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("XUIButton.react"),babelHelpers["extends"]({},this.props,{className:"_3-8i"+(this.props.isHidden?" hidden_elem":""),size:"large",label:this.props.label,onClick:this.props.onClick,use:this.props.use,image:this.props.image?b("React").createElement(b("Image.react"),{src:this.props.image}):null}))};function a(){h.apply(this,arguments)}a.propTypes={image:c.object,isHidden:c.bool,label:c.string.isRequired,onClick:c.func.isRequired,use:c.oneOf(["default","special","confirm"])};a.defaultProps={use:"default",isHidden:!1};e.exports=a}),null);
__d("SavedResponsesMacroDetailView.react",["cx","fbt","React","ScrollableArea.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=this.props.macro;return!a?null:b("React").createElement(b("ScrollableArea.react"),{fade:!0,shadow:!0},b("React").createElement("div",null,b("React").createElement("div",{className:"_tpd"},a.key),b("React").createElement("div",{className:"_tpe"},a.description),b("React").createElement("div",{className:"_tpf"},h._("Example")),b("React").createElement("div",{className:"_tpg"},a.example)))};function a(){i.apply(this,arguments)}a.propTypes={macro:c.shape({description:c.string.isRequired,example:c.string.isRequired,key:c.string.isRequired,name:c.string.isRequired,value:c.string.isRequired})};e.exports=a}),null);
__d("SavedResponsesMacroListItem.react",["cx","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a,b){i.constructor.call(this,a,b),this.state={isHover:!1}}a.prototype.render=function(){return b("React").createElement("div",{className:"_5y_z","data-id":this.props.macro.key,onClick:function(){return this.$1()}.bind(this),onMouseOut:function(){return this.$2()}.bind(this),onMouseOver:function(){return this.$3()}.bind(this),role:"presentation"},b("React").createElement("div",{className:"_5y__"},this.props.macro.key),b("React").createElement("div",{className:"_5z00"+(this.state.isHover?"":" hidden_elem")},b("React").createElement(b("Image.react"),{src:h("94789")})))};a.prototype.$3=function(){this.props.onHover(this.props.macro),this.setState({isHover:!0})};a.prototype.$2=function(){this.setState({isHover:!1})};a.prototype.$1=function(){this.props.onSelect(this.props.macro)};a.propTypes={macro:c.shape({key:c.string.isRequired,value:c.string.isRequired}).isRequired,onHover:c.func.isRequired,onSelect:c.func.isRequired};e.exports=a}),null);
__d("SavedResponsesMacroListView.react",["React","SavedResponsesMacroListItem.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement("ul",null,this.$1())};a.prototype.$1=function(){var a=[];for(var c in this.props.macros){var d=this.props.macros[c];a.push(b("React").createElement(b("SavedResponsesMacroListItem.react"),{macro:d,onHover:this.props.onMacroHover,onSelect:this.props.onMacroSelected}))}return a};function a(){g.apply(this,arguments)}a.propTypes={macros:c.object.isRequired,onMacroHover:c.func.isRequired,onMacroSelected:c.func.isRequired};e.exports=a}),null);
__d("SavedResponsesMacroBrowseView.react",["cx","fbt","Grid.react","React","SavedResponsesFooterButton.react","SavedResponsesMacroDetailView.react","SavedResponsesMacroListView.react","ScrollableArea.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("Grid.react").GridItem;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a,b){"use strict";i.constructor.call(this,a,b),this.state={activeMacro:null}}a.prototype.render=function(){"use strict";return b("React").createElement("div",null,this.renderBodyPart(),b("React").createElement("div",{className:"_3ohz"},this.renderFooterPart()))};a.prototype.renderBodyPart=function(){"use strict";var a=b("joinClasses")("_552a",this.props.className);return b("React").createElement("div",{className:a},b("React").createElement(b("Grid.react"),{cols:2,spacing:"none",className:"_552b"},b("React").createElement(j,{className:"_552c"},b("React").createElement("div",{className:"_552d"}),b("React").createElement(b("ScrollableArea.react"),{fade:!0,shadow:!0},b("React").createElement("div",{className:"_2t-k"},b("React").createElement(b("SavedResponsesMacroListView.react"),{macros:this.props.macros,onMacroSelected:this.props.onMacroSelected,onMacroHover:function(a){return this.$1(a)}.bind(this)})))),b("React").createElement(j,{className:"_552e"},b("React").createElement(b("SavedResponsesMacroDetailView.react"),{macro:this.state.activeMacro}))))};a.prototype.renderFooterPart=function(){"use strict";var a=h._("Cancel");return b("React").createElement("div",null,b("React").createElement("div",{className:"_552g"},b("React").createElement(b("SavedResponsesFooterButton.react"),{label:a,onClick:this.props.onCancel})))};a.prototype.$1=function(a){"use strict";this.setState({activeMacro:a})};a.propTypes={macros:c.object.isRequired,onCancel:c.func.isRequired,onMacroSelected:c.func.isRequired};e.exports=a}),null);
__d("SavedResponsesPanel.react",["cx","fbt","ix","Image.react","React","ShimButton.react","XUICloseButton.react","XUIDialogBody.react","XUIDialogTitle.react","XUIGrayText.react","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:this.props.className},b("React").createElement(b("XUIDialogTitle.react"),{className:"_3alh",showCloseButton:!1},b("React").createElement("div",{className:"_2rp7"},b("React").createElement(b("ShimButton.react"),{className:"_2rp8"+(this.props.shouldShowBackButton?"":" hidden_elem"),onClick:this.props.onBackButtonClicked},b("React").createElement(b("Image.react"),{src:i("76048"),className:"_2rp9"}),b("React").createElement(b("XUIGrayText.react"),{shade:"light",className:"_2rpa"},this.props.backButtonLabel),b("React").createElement("div",{className:"_2rpb"})),b("React").createElement("span",{className:"_5hp9"},this.props.title)),this.$1()),b("React").createElement(b("XUIDialogBody.react"),{className:"_2rpc"},this.props.children))};a.prototype.$1=function(){var a=h._("Close");return b("React").createElement(b("XUICloseButton.react"),{className:"_2rpe",label:a,onClick:this.props.onClose,shade:"dark",size:"medium",title:a,type:"button"})};function a(){j.apply(this,arguments)}a.propTypes={backButtonLabel:c.string,onBackButtonClicked:c.func,onClose:c.func.isRequired,shouldShowBackButton:c.bool,title:c.string.isRequired};a.defaultProps={backButtonLabel:null,onBackButtonClicked:b("emptyFunction"),shouldShowBackButton:!1};e.exports=a}),null);
__d("MacroSpan.react",["cx","React","XUICloseButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={isMouseOver:!1},this.$2=function(){this.setState({isMouseOver:!0})}.bind(this),this.$3=function(){this.setState({isMouseOver:!1})}.bind(this),this.$5=function(){this.props.onRemoveToken(this.props.offsetKey)}.bind(this),b}a.prototype.render=function(){var a=this.$1();return a===null?null:b("React").createElement("span",{className:"_vxd",onMouseEnter:this.$2,onMouseLeave:this.$3},b("React").createElement("span",{className:"_vxe",contentEditable:!1,"data-offset-key":this.props.offsetKey,spellCheck:!1},this.$4(a),b("React").createElement(b("XUICloseButton.react"),{className:"_vxf",onClick:this.$5,size:"small"})))};a.prototype.$4=function(a){var b=a.key in this.props.tokens?this.props.tokens[a.key].value:a.key;a=a.key in this.props.tokens?this.props.tokens[a.key].key:a.key;return this.state.isMouseOver?a:b};a.prototype.$1=function(){return this.props.entityKey==null?null:this.props.contentState.getEntity(this.props.entityKey)};a.propTypes={contentState:c.func.isRequired,entityKey:c.string,offsetKey:c.string.isRequired,onRemoveToken:c.func.isRequired,tokens:c.object.isRequired};e.exports=a}),null);
__d("getMacrosInputDecorator",["CompositeDraftDecorator","MacroSpan.react","getEntityMatcher"],(function(a,b,c,d,e,f){function a(a,c){return new(b("CompositeDraftDecorator"))([{strategy:b("getEntityMatcher")(function(a){return a.getType()==="TOKEN"}),component:b("MacroSpan.react"),props:{onRemoveToken:c,tokens:a}}])}e.exports=a}),null);
__d("SavedResponsesTokensUtils",["createEditorStateWithRanges","getMacrosInputDecorator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new RegExp("{{(.*?)}}","ig"),h={_parseTemplateFieldTokens:function(a){__p&&__p();a=a;var b=[],c;while(c=g.exec(a)){var d={text:c[0],offset:c.index,length:c[0].length,entity:{token:c[0],key:c[1]}};b.push(d);a=a.replace(c[0],d.text);g.lastIndex=d.offset+d.length}if(b.length>0){b[0].offset===0&&(a=" "+a,b.forEach(function(a){a.offset++}));c=b[b.length-1];c.length+c.offset===a.length&&(a+=" ")}return{ranges:b,text:a}},createTemplateFieldsEditorStateWithText:function(a,c,d){a=h._parseTemplateFieldTokens(a);var e=a.ranges;a=a.text;return b("createEditorStateWithRanges")({text:a,ranges:e,decorator:b("getMacrosInputDecorator")(d,c),addEntityToContentStateFn:function(a,b){a=a.entity;return b.createEntity("TOKEN","IMMUTABLE",a)}})},prepareforSend:function(a,b){var c=a.match(/\{{(.*?)\}}/g);c&&c.forEach(function(c){var d=c.replace("{{","").replace("}}","");d=d in b?b[d].value:d;a=a.replace(c,d)});return a}};e.exports=h}),null);
__d("XPagesSavedResponsesAddController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/add/",{owner_id:{type:"Int",required:!0},title:{type:"String",defaultValue:""},message:{type:"String",required:!0},photo_id:{type:"Int"},user_message:{type:"String"}})}),null);
__d("XPagesSavedResponsesDeleteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/delete/",{response_id:{type:"Int",required:!0}})}),null);
__d("XPagesSavedResponsesEditController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/edit/",{response_id:{type:"Int",required:!0},title:{type:"String",defaultValue:""},message:{type:"String",required:!0},photo_id:{type:"Int"},remove_photo_id:{type:"Int"}})}),null);
__d("SavedResponsesEditResponseView.react",["cx","fbt","invariant","ActorURI","AsyncRequest","DraftModifier","DraftOffsetKey","EditorState","PagesEventObserver","PagesEventType","React","SavedResponsesEditResponseContentView.react","SavedResponsesFooterButton.react","SavedResponsesImageUploadHelper","SavedResponsesMacroBrowseView.react","SavedResponsesPanel.react","SavedResponsesTokensUtils","SelectionState","XPagesSavedResponsesAddController","XPagesSavedResponsesDeleteController","XPagesSavedResponsesEditController","XUISpinner.react","getMacrosInputDecorator"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(a,c){j.constructor.call(this,a,c);a=!!this.props.initialResponse||!1;c=!!this.props.initialResponse&&!!this.props.initialResponse.image?this.props.initialResponse.image.id:"";var d=this.$1(a);this.state={anyContent:d.getCurrentContent().hasText(),editorState:d,imageID:c,isEditing:a,isModified:!1,isPersonalizing:!1,isProcessing:!1,isUploadingImage:!1,message:d.getCurrentContent().getPlainText(),shouldShowDeleteWarning:!1,shouldShowDiscardWarning:!1,title:this.props.initialResponse?this.props.initialResponse.title:"",uploadHandler:new(b("SavedResponsesImageUploadHelper"))(function(){return this.$2()}.bind(this),function(a){return this.$3(a)}.bind(this))}}a.prototype.render=function(){return b("React").createElement(b("SavedResponsesPanel.react"),{backButtonLabel:this.$4(),className:"_15ht",onBackButtonClicked:function(){return this.$5()}.bind(this),onClose:this.props.onClose,shouldShowBackButton:!0,title:this.$6()},this.$7(),b("React").createElement("div",{className:"_3ohz"},this.$8()))};a.prototype.$9=function(){return h._("Cancel")};a.prototype.$10=function(){return h._("Delete")};a.prototype.$11=function(){return h._("Save reply")};a.prototype.$7=function(){if(this.state.isPersonalizing)return b("React").createElement(b("SavedResponsesMacroBrowseView.react"),{className:"_1wxh",macros:this.props.supportedMacros,onCancel:function(){return this.$12()}.bind(this),onMacroSelected:function(a){return this.$13(a)}.bind(this)});else return b("React").createElement(b("SavedResponsesEditResponseContentView.react"),{className:"_1wxh",editorState:this.state.editorState,isUploadingImage:this.state.isUploadingImage,onContentChange:function(a){return this.$14(a)}.bind(this),onDeleteImage:function(){return this.$15()}.bind(this),onPersonalize:function(){return this.$16()}.bind(this),onTitleChange:function(a){this.setState({title:a,isModified:!0})}.bind(this),pageID:this.props.pageID,responseImageID:this.state.imageID,responseTitle:this.state.title,uploadHandler:this.state.uploadHandler})};a.prototype.$8=function(){if(this.state.isPersonalizing)return b("React").createElement(b("SavedResponsesFooterButton.react"),{label:this.$9(),onClick:function(){return this.$12()}.bind(this)});else return this.$17()};a.prototype.$18=function(){var a=h._("Continue Editing"),c=h._("Discard");return b("React").createElement("div",null,b("React").createElement("div",{className:"_2ln1"},h._("Are you sure you want to discard your edit?")),b("React").createElement("div",{className:"_4pnp"},b("React").createElement(b("SavedResponsesFooterButton.react"),{label:c,onClick:function(){return this.$19()}.bind(this)}),b("React").createElement(b("SavedResponsesFooterButton.react"),{label:a,onClick:function(){return this.$20()}.bind(this),use:"confirm"})))};a.prototype.$21=function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_2ln1"},h._("Are you sure you want to delete this saved reply?")),b("React").createElement("div",{className:"_4pnp"},b("React").createElement(b("SavedResponsesFooterButton.react"),{label:this.$10(),onClick:function(){return this.$22()}.bind(this)}),b("React").createElement(b("SavedResponsesFooterButton.react"),{label:this.$9(),onClick:function(){return this.$23()}.bind(this),use:"confirm"})))};a.prototype.$24=function(){return b("React").createElement("div",null,b("React").createElement(b("SavedResponsesFooterButton.react"),{label:this.$10(),onClick:function(){return this.$25()}.bind(this),isHidden:!this.state.isEditing}),b("React").createElement("div",{className:"_4pnp"},b("React").createElement(b("SavedResponsesFooterButton.react"),{label:this.$9(),onClick:function(){return this.props.onEditDone(!1)}.bind(this)}),b("React").createElement(b("SavedResponsesFooterButton.react"),{disabled:!this.state.anyContent,label:this.$11(),onClick:function(){return this.$26()}.bind(this),use:"confirm"}),b("React").createElement(b("XUISpinner.react"),{size:"small",className:(this.state.isProcessing?"":"hidden_elem")+" _3-91 _3-99"})))};a.prototype.$17=function(){if(this.state.shouldShowDeleteWarning)return this.$21();else if(this.state.shouldShowDiscardWarning)return this.$18();else return this.$24()};a.prototype.$4=function(){if(!this.state.isPersonalizing)return h._("List");else return h._("Edit")};a.prototype.$6=function(){if(this.state.isPersonalizing)return h._("Add Personalization");else if(this.state.isEditing)return h._("Edit Reply");else return h._("Create Reply")};a.prototype.$27=function(a){__p&&__p();a={text:"{{"+a.name+"}}",key:a.name};var c=this.state.editorState,d=c.getSelection(),e=c.getCurrentContent(),f=d.getStartKey(),g=d.getStartOffset();f=e.getBlockForKey(f);if(f.getText().substr(g-1,1).trim().length>0){f=b("DraftModifier").replaceText(e,d," ");d=f.getSelectionAfter();g=b("DraftModifier").insertText(f,d,a.text,c.getCurrentInlineStyle(),e.createEntity("TOKEN","IMMUTABLE",a).getLastCreatedEntityKey())}else g=b("DraftModifier").replaceText(e,d,a.text,c.getCurrentInlineStyle(),e.createEntity("TOKEN","IMMUTABLE",a).getLastCreatedEntityKey());g=b("DraftModifier").insertText(g,g.getSelectionAfter()," ");c=b("EditorState").push(c,g,"insert-fragment");c=b("EditorState").forceSelection(c,c.getSelection());this.$14(c)};a.prototype.$28=function(){__p&&__p();var a=this.state.editorState.getCurrentContent().getPlainText();b("PagesEventObserver").logData_DEPRECATED({event_name:b("PagesEventType").SAVED_REPLIES_EDIT_REPLY,page_id:this.props.pageID,response_content:a},null);var c=this.props.initialResponse;!c&&i(0);var d=this.state.imageID?this.state.imageID.toString():"";a=b("XPagesSavedResponsesEditController").getURIBuilder().setInt("response_id",c.id).setString("message",a).setString("title",this.state.title);!d&&c.image&&c.image.id?a.setInt("remove_photo_id",c.image.id):a.setInt("photo_id",d);a=b("ActorURI").create(a.getURI(),this.props.pageID);new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(){return this.props.onEditDone(!0)}.bind(this)).send()};a.prototype.$29=function(){var a=this.state.editorState.getCurrentContent().getPlainText();b("PagesEventObserver").logData_DEPRECATED({event_name:b("PagesEventType").SAVED_REPLIES_CREATE_REPLY,page_id:this.props.pageID,response_content:a},null);var c=this.state.imageID?this.state.imageID.toString():"";a=b("XPagesSavedResponsesAddController").getURIBuilder().setInt("owner_id",this.props.pageID).setString("message",a).setString("title",this.state.title).setInt("photo_id",c).getURI();a=b("ActorURI").create(a,this.props.pageID);new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(){return this.props.onEditDone(!0)}.bind(this)).send()};a.prototype.$1=function(a){if(a&&this.props.initialResponse){a=this.props.initialResponse.message||"";return b("SavedResponsesTokensUtils").createTemplateFieldsEditorStateWithText(a,function(a){return this.$30(a)}.bind(this),this.props.supportedMacros)}else return b("EditorState").createEmpty(b("getMacrosInputDecorator")(this.props.supportedMacros||{},function(a){return this.$30(a)}.bind(this)))};a.prototype.$15=function(){this.setState({imageID:null})};a.prototype.$5=function(){this.state.isPersonalizing?this.setState({isPersonalizing:!1}):this.state.isModified?this.setState({shouldShowDiscardWarning:!0}):this.props.onBackButtonClicked()};a.prototype.$12=function(){this.setState({isPersonalizing:!1})};a.prototype.$13=function(a){b("PagesEventObserver").logData_DEPRECATED({event_name:b("PagesEventType").SAVED_REPLIES_PERSONALIZE,page_id:this.props.pageID},null),this.setState({isPersonalizing:!1}),this.$27(a)};a.prototype.$16=function(){this.setState({isPersonalizing:!0}),this.props.onEnterPersonalizeView()};a.prototype.$14=function(a){this.setState({anyContent:a.getCurrentContent().hasText(),editorState:a,isModified:!0})};a.prototype.$2=function(){b("PagesEventObserver").logData_DEPRECATED({event_name:b("PagesEventType").SAVED_REPLIES_ADD_IMAGE,page_id:this.props.pageID},null),this.setState({imageID:null,isUploadingImage:!0})};a.prototype.$3=function(a){this.setState({imageID:a,isUploadingImage:!1})};a.prototype.$30=function(a){var c=this.state.editorState;a=b("DraftOffsetKey").decode(a);var d=a.blockKey;a=a.decoratorKey;a=c.getBlockTree(d).getIn([a]);d=new(b("SelectionState"))({anchorKey:d,anchorOffset:a.get("start"),focusKey:d,focusOffset:a.get("end"),isBackward:!1,hasFocus:!0});a=b("DraftModifier").removeRange(c.getCurrentContent(),d,"forward");d=b("EditorState").push(c,a,"remove-range");this.$14(d)};a.prototype.$25=function(){this.setState({shouldShowDeleteWarning:!0})};a.prototype.$26=function(){this.setState({isProcessing:!0}),this.state.isEditing?this.$28():this.$29()};a.prototype.$23=function(){this.setState({shouldShowDeleteWarning:!1})};a.prototype.$22=function(){b("PagesEventObserver").logData_DEPRECATED({event_name:b("PagesEventType").SAVED_REPLIES_DELETE_REPLY,page_id:this.props.pageID},null);this.setState({shouldShowDeleteWarning:!1,isProcessing:!0});var a=this.props.initialResponse;!a&&i(0);a=b("XPagesSavedResponsesDeleteController").getURIBuilder().setInt("response_id",a.id).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(){return this.props.onEditDone(!0)}.bind(this)).send()};a.prototype.$19=function(){this.props.onBackButtonClicked()};a.prototype.$20=function(){this.setState({shouldShowDiscardWarning:!1})};a.propTypes={initialResponse:c.shape({id:c.string.isRequired,title:c.string,message:c.string,image:c.object}),onBackButtonClicked:c.func.isRequired,onClose:c.func.isRequired,onEditDone:c.func.isRequired,onEnterPersonalizeView:c.func.isRequired,pageID:c.string.isRequired,supportedMacros:c.object};e.exports=a}),null);
__d("SavedResponsesListItem.react",["cx","fbt","ClientIDs","Link.react","React","ReactDOM","SavedResponsesConstants","SavedResponsesImage.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={shouldShowSeeMoreLink:!1,shouldLimitHeight:!0},this.$4=function(a){__p&&__p();var c=0,d=0,e=/\{{(.*?)\}}/g,f=e.exec(a),g=[];while(f!=null){d=f.index;g.push(b("React").createElement("span",{key:b("ClientIDs").getNewClientID()},a.substring(c,d)));c=d+f[0].length;var h=f[1]in this.props.tokens?this.props.tokens[f[1]].value:f[1];g.push(b("React").createElement("span",{key:b("ClientIDs").getNewClientID(),className:"_-8"},h));f=e.exec(a)}g.push(b("React").createElement("span",{key:b("ClientIDs").getNewClientID()},a.substring(c,a.length)));return g}.bind(this),this.$2=function(){this.props.onResponseSelected(this.props.response,this.props.tokens)}.bind(this),this.$3=function(){this.props.onResponseHover&&this.props.onResponseHover(this.props.response,this.props.tokens)}.bind(this),this.$5=function(a){this.setState({shouldShowSeeMoreLink:!1,shouldLimitHeight:!1}),a.stopPropagation()}.bind(this),c}a.prototype.componentDidMount=function(){this.$1()};a.prototype.componentDidUpdate=function(){this.$1()};a.prototype.render=function(){var a=this.props.response.image&&!0;return b("React").createElement("div",{className:"_33w3"+(a?" _33w4":""),"data-id":this.props.response.id,onClick:this.$2,onMouseEnter:this.$3,onMouseLeave:this.props.onResponseUnhover,role:"presentation"},b("React").createElement("div",{className:"_33w5"+(a?" _33w6":"")+" fwb"},this.props.response.title),b("React").createElement("div",{className:"_33w7"+(this.state.shouldLimitHeight?" _4en5":"")+(!this.props.response.title&&this.props.response.image?" _2pid":""),ref:"message"},this.props.response.image?b("React").createElement(b("SavedResponsesImage.react"),{className:"_33w8",displayClassName:"_33w9",height:b("SavedResponsesConstants").listItemImageHeight,imageID:this.props.response.image.id,loadingClassName:"_33w9",pageID:this.props.pageID,shouldShowCloseButton:!1,width:b("SavedResponsesConstants").listItemImageWidth}):null,this.$4(this.props.response.message)),b("React").createElement(b("Link.react"),{className:"_4en6"+(this.state.shouldShowSeeMoreLink?"":" hidden_elem"),onClick:this.$5},h._("See more")))};a.prototype.$1=function(){if(this.state.shouldLimitHeight===!1||this.state.shouldShowSeeMoreLink)return;var a=b("ReactDOM").findDOMNode(this.refs.message);a.scrollHeight>a.clientHeight&&this.setState({shouldShowSeeMoreLink:!0})};a.propTypes={onResponseHover:c.func,onResponseSelected:c.func.isRequired,onResponseUnhover:c.func,pageID:c.string.isRequired,response:c.shape({id:c.string.isRequired,title:c.string,message:c.string.isRequired,image:c.object}),tokens:c.object.isRequired};e.exports=a}),null);
__d("SavedResponsesListView.react",["cx","React","SavedResponsesListItem.react","SavedResponsesUtils","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){if(this.props.isLoadingResponses)return b("React").createElement("div",{className:"_e19"},b("React").createElement(b("XUISpinner.react"),{size:"large"}));var a=this.props.searchQuery.trim().toLowerCase(),c=function(b){return b.message.toLowerCase().indexOf(a)!==-1||(b.title||"").toLowerCase().indexOf(a)!==-1},d=b("SavedResponsesUtils").sortSavedResponses(this.props.responses,this.props.sortingKey);return b("React").createElement("ul",{className:this.props.shouldAdjustRightMargin?"_e1a":""},d.filter(c).map(function(a){return b("React").createElement(b("SavedResponsesListItem.react"),{key:a.id,onResponseHover:this.props.onResponseHover,onResponseSelected:this.props.onResponseSelected,onResponseUnhover:this.props.onResponseUnhover,pageID:this.props.pageID,response:a,tokens:this.props.supportedMacros})}.bind(this)))};function a(){h.apply(this,arguments)}a.propTypes={isLoadingResponses:c.bool.isRequired,onResponseHover:c.func,onResponseSelected:c.func.isRequired,onResponseUnhover:c.func,pageID:c.string.isRequired,responses:c.array.isRequired,searchQuery:c.string.isRequired,shouldAdjustRightMargin:c.bool};e.exports=a}),null);
__d("SavedResponsesOrderingMenu.react",["cx","fbt","ContextualDialogArrow","PopoverMenu.react","React","ReactXUIMenu","SavedResponsesConstants","XUIPopoverButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ReactXUIMenu").Item;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a);a=[{key:b("SavedResponsesConstants").sortingKey.MOST_USED,title:h._("Frequently used")},{key:b("SavedResponsesConstants").sortingKey.LAST_USED,title:h._("Recently used")},{key:b("SavedResponsesConstants").sortingKey.LAST_CREATED,title:h._("Recently created")}];this.$1=a}a.prototype.$2=function(){return this.$1.find(function(a){return a.key===this.props.activeSortingOptionKey}.bind(this))};a.prototype.render=function(){var a=b("React").createElement(b("ReactXUIMenu"),null,this.$1.map(function(a){return this.$3(a)}.bind(this)));return b("React").createElement("div",{className:this.props.className},b("React").createElement("span",{className:"_4mjo"},h._("Sort by")),b("React").createElement(b("PopoverMenu.react"),{alignv:"baseline",menu:a,layerBehaviors:[b("ContextualDialogArrow")]},b("React").createElement(b("XUIPopoverButton.react"),{label:this.$2().title})))};a.prototype.$3=function(a){return b("React").createElement(j,{onclick:function(){return this.props.onSortingKeyChanged(a.key)}.bind(this),key:a.key},a.title)};e.exports=a}),null);
__d("SavedResponsesListViewContainer.react",["cx","fbt","Layout.react","LeftFillRightFitLayout.react","React","SavedResponsesOrderingMenu.react","XUICloseButton.react","XUITextInput.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Layout.react").Column,k=b("Layout.react").FillColumn;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=b("joinClasses")("_3ohy",this.props.className);return b("React").createElement("div",{className:a},b("React").createElement(b("LeftFillRightFitLayout.react"),{className:"_1x3h"},this.$1(),b("React").createElement(b("SavedResponsesOrderingMenu.react"),{className:"_4b4m",activeSortingOptionKey:this.props.activeSortingOptionKey,onSortingKeyChanged:this.props.onSortingKeyChanged})),this.props.children,b("React").createElement("div",{className:"_3ohz"},this.props.footerPart))};a.prototype.$1=function(){return b("React").createElement(b("Layout.react"),{className:"_4b4n"},b("React").createElement(j,null,b("React").createElement("div",{className:"_1x3i"})),b("React").createElement(k,null,b("React").createElement(b("XUITextInput.react"),{onChange:this.props.onSearchQueryChanged,ref:"inputField",placeholder:h._("Search replies"),value:this.props.searchQuery})),b("React").createElement(j,null,b("React").createElement(b("XUICloseButton.react"),{size:"small",onClick:this.props.onSearchQueryCleared,className:this.props.searchQuery.length===0?"hidden_elem":""})))};function a(){i.apply(this,arguments)}a.propTypes={footerPart:c.object.isRequired,onSearchQueryChanged:c.func.isRequired,onSearchQueryCleared:c.func.isRequired,searchQuery:c.string.isRequired};e.exports=a}),null);
__d("SavedResponsesManageListView.react",["cx","fbt","ix","React","SavedResponsesConstants","SavedResponsesFooterButton.react","SavedResponsesListView.react","SavedResponsesListViewContainer.react","SavedResponsesPanel.react","ScrollableArea.react"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(a,c){"use strict";j.constructor.call(this,a,c),this.$1=function(a){this.setState({activeSortingOptionKey:a})}.bind(this),this.state={searchQuery:"",activeSortingOptionKey:b("SavedResponsesConstants").sortingKey.LAST_CREATED}}a.prototype.render=function(){"use strict";return b("React").createElement(b("SavedResponsesPanel.react"),{className:"_15ht",shouldShowBackButton:!1,onClose:this.props.onClose,title:h._("Saved Replies")},b("React").createElement(b("SavedResponsesListViewContainer.react"),{footerPart:this.$2(),onSearchQueryChanged:function(a){return this.$3(a)}.bind(this),onSearchQueryCleared:function(){return this.$4()}.bind(this),searchQuery:this.state.searchQuery,activeSortingOptionKey:this.state.activeSortingOptionKey,onSortingKeyChanged:this.$1},this.$5()))};a.prototype.$5=function(){"use strict";return b("React").createElement("div",{className:"_4pno"},b("React").createElement(b("ScrollableArea.react"),{fade:!0,shadow:!0},b("React").createElement(b("SavedResponsesListView.react"),{isLoadingResponses:!1,onResponseSelected:this.props.onResponseSelected,pageID:this.props.pageID,responses:this.props.responses,searchQuery:this.state.searchQuery,supportedMacros:this.props.supportedMacros,sortingKey:this.state.activeSortingOptionKey}),this.$6()))};a.prototype.$2=function(){"use strict";var a=h._("Create Reply"),c=h._("Done");return b("React").createElement("div",{className:"_4pnp"},b("React").createElement(b("SavedResponsesFooterButton.react"),{label:a,onClick:this.props.onCreateNewReplyClicked,image:i("88945")}),b("React").createElement(b("SavedResponsesFooterButton.react"),{label:c,onClick:this.props.onDoneClicked}))};a.prototype.$6=function(){"use strict";return b("React").createElement("div",{className:"_4pnq"},b("React").createElement("div",{className:"_50f8 _4pnr"},h._("End of saved replies")))};a.prototype.$3=function(a){"use strict";this.setState({searchQuery:a.target.value})};a.prototype.$4=function(){"use strict";this.setState({searchQuery:""})};a.propTypes={onClose:c.func.isRequired,onCreateNewReplyClicked:c.func.isRequired,onDoneClicked:c.func.isRequired,onResponseSelected:c.func.isRequired,otherUserID:c.string.isRequired,pageID:c.string.isRequired,responses:c.array.isRequired,supportedMacros:c.object.isRequired};e.exports=a}),null);
__d("SavedResponsesManagePanel.react",["cx","React","SavedResponsesConstants","SavedResponsesEditResponseView.react","SavedResponsesManageListView.react","SavedResponsesUtils","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a,b){h.constructor.call(this,a,b),this.state={isLoadingResponses:!0,responseToEdit:null,responses:[],supportedMacros:null,viewType:this.props.initialViewType}}a.prototype.UNSAFE_componentWillMount=function(){this.$1()};a.prototype.render=function(){__p&&__p();if(this.state.isLoadingResponses)return b("React").createElement("div",{className:"_15ht"},b("React").createElement("div",{className:"_15hu"},b("React").createElement(b("XUISpinner.react"),{size:"large"})));switch(this.state.viewType){case b("SavedResponsesConstants").editPanelViewMode.LIST:return b("React").createElement(b("SavedResponsesManageListView.react"),{onCreateNewReplyClicked:function(){return this.$2()}.bind(this),onDoneClicked:function(){return this.$3()}.bind(this),otherUserID:this.props.otherUserID,onResponseSelected:function(a,b){return this.$4(a,b)}.bind(this),onClose:this.props.onClose,pageID:this.props.pageID,responses:this.state.responses,supportedMacros:this.state.supportedMacros});case b("SavedResponsesConstants").editPanelViewMode.EDIT:case b("SavedResponsesConstants").editPanelViewMode.CREATE:case b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE:return b("React").createElement(b("SavedResponsesEditResponseView.react"),{initialResponse:this.state.responseToEdit,onBackButtonClicked:function(){return this.$5(!1)}.bind(this),onClose:this.props.onClose,onEditDone:function(a){return this.$5(a)}.bind(this),onEnterPersonalizeView:function(){return this.$6()}.bind(this),pageID:this.props.pageID,supportedMacros:this.state.supportedMacros})}};a.prototype.$1=function(){this.setState({isLoadingResponses:!0}),b("SavedResponsesUtils").fetchSavedResponses(this.props.pageID,this.props.otherUserID,function(a,b){return this.setState({responses:a,supportedMacros:b,isLoadingResponses:!1})}.bind(this))};a.prototype.$5=function(a){if(this.props.initialViewType===b("SavedResponsesConstants").editPanelViewMode.CREATE){this.props.onClose();return}a&&this.$1();this.setState({responseToEdit:null,viewType:b("SavedResponsesConstants").editPanelViewMode.LIST})};a.prototype.$2=function(){this.setState({responseToEdit:null,viewType:b("SavedResponsesConstants").editPanelViewMode.CREATE})};a.prototype.$3=function(){this.props.onClose()};a.prototype.$6=function(){this.setState({viewType:b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE})};a.prototype.$4=function(a){this.setState({responseToEdit:a,viewType:b("SavedResponsesConstants").editPanelViewMode.EDIT})};a.propTypes={initialViewType:c.string,onClose:c.func.isRequired,otherUserID:c.string.isRequired,pageID:c.string.isRequired};a.defaultProps={initialViewType:b("SavedResponsesConstants").editPanelViewMode.LIST};e.exports=a}),null);
__d("PagesManagerAction",["PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={viewListItem:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.VIEW,listItem:a})},clearViewListItem:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.VIEW,listItem:null})},setInitialViewItem:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.INITIAL_VIEW,item:a})},clearInitialViewItem:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.CLEAR_INITIAL_VIEW})},setHeight:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LAYOUT.HEIGHT_CHANGE,heights:a})},setListNavigationHeight:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LAYOUT.LIST_HEIGHT_CHANGE,height:a})},setFooterHeight:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LAYOUT.FOOTER_HEIGHT_CHANGE,height:a})},setHeaderHeight:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LAYOUT.HEADER_HEIGHT_CHANGE,height:a})},handleSelectionChange:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.SELECT,rowsAdded:a,rowsRemoved:c,selectedRows:d})},handleSelectionMapChange:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.SELECT,selectedRowsMap:a})},deselectAll:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.DESELECT_ALL})}};e.exports=a}),null);
__d("PagesManagerResizeListener",["EventEmitter"],(function(a,b,c,d,e,f){e.exports=new(b("EventEmitter"))()}),null);
__d("PagesManagerListDetailLayout.react",["cx","Arbiter","Grid.react","Layout.react","PagesManagerAction","PagesManagerResizeListener","React","ReactDOM","ResizeListener","SubscriptionsHandler","Vector","XUICard.react","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=b("Grid.react").GridItem,l=200;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a,c){"use strict";__p&&__p();h.constructor.call(this,a,c),this.recalculateHeight=function(){var a=b("Vector").getViewportDimensions().y-b("ReactDOM").findDOMNode(this).getBoundingClientRect().top;!this.props.fullScreen?(a-=30,a-=2):a-=1;a=Math.max(l,a);this.setState({height:a});var c=this.props.navigationSection?b("Vector").getElementDimensions(b("ReactDOM").findDOMNode(this.refs.navigationSection)).y:0;b("PagesManagerAction").setHeight({layoutHeight:a,navigationHeight:c});a=this.props.fullScreen?0:8;this.setState({top:c+a})}.bind(this),this.state={top:0,height:l}}a.prototype.componentDidMount=function(){"use strict";this.recalculateHeight(),this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("Arbiter").subscribe("reflow",function(){return b("setImmediate")(this.recalculateHeight)}.bind(this)),b("ResizeListener").add(function(){return this.recalculateHeight()}.bind(this)),b("PagesManagerResizeListener").addListener("change",function(){return this.recalculateHeight()}.bind(this)))};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&this.$1.release()};a.prototype.renderDetailViewContainer=function(){"use strict";return b("React").createElement(b("Layout.react"),{className:"_5n4i",style:{height:this.state.height}},b("React").createElement(j,null,b("React").createElement("div",{className:this.props.headerClassName},this.props.headerSection),b("React").createElement("div",{className:this.props.detailClassName},this.props.detailSection)),b("React").createElement(i,{className:this.props.contextCardClassName},this.props.contextCardSection))};a.prototype.render=function(){"use strict";var a=this.state.height,c=this.state.top,d=this.props.navigationSection?b("React").createElement("div",{className:"_2-97",ref:"navigationSection"},this.props.navigationSection):null;return b("React").createElement(b("XUICard.react"),{className:this.props.fullScreen?"_4sno":"",style:{height:a}},d,b("React").createElement("div",{className:"_10ua",style:{top:c}},b("React").createElement(b("Grid.react"),{alignv:"top",className:"_10ue",cols:2},b("React").createElement(k,{className:b("joinClasses")("_10uf",this.props.listClassName)},this.props.listSection),b("React").createElement(k,{className:"_3q3y"},this.renderDetailViewContainer()))))};e.exports=a}),null);
__d("PagesManagerStore",["FluxStore","PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this,b("PagesManagerDispatcher")),this.$PagesManagerStore6=null,this.$PagesManagerStore1=0,this.$PagesManagerStore2=0,this.$PagesManagerStore3=0,this.$PagesManagerStore4=[],this.$PagesManagerStore5=new Map(),this.$PagesManagerStore8=0,this.$PagesManagerStore9=0}a.prototype.__onDispatch=function(a){"use strict";__p&&__p();switch(a.type){case b("PagesManagerActionType").LIST.VIEW:this.$PagesManagerStore6=a.listItem;this.__emitChange();break;case b("PagesManagerActionType").LIST.SELECT:this.$PagesManagerStore10(a);this.__emitChange();break;case b("PagesManagerActionType").LAYOUT.HEIGHT_CHANGE:this.$PagesManagerStore1=a.heights.navigationHeight;this.$PagesManagerStore2=a.heights.layoutHeight;this.__emitChange();break;case b("PagesManagerActionType").LAYOUT.LIST_HEIGHT_CHANGE:this.$PagesManagerStore3=a.height;this.__emitChange();break;case b("PagesManagerActionType").LAYOUT.FOOTER_HEIGHT_CHANGE:this.$PagesManagerStore8=a.height;this.__emitChange();break;case b("PagesManagerActionType").LAYOUT.HEADER_HEIGHT_CHANGE:this.$PagesManagerStore9=a.height;this.__emitChange();break;case b("PagesManagerActionType").LIST.DESELECT_ALL:this.$PagesManagerStore10({selectedRowsMap:new Map()});this.__emitChange();break;case b("PagesManagerActionType").LIST.INITIAL_VIEW:this.$PagesManagerStore11(a.item);break;case b("PagesManagerActionType").LIST.CLEAR_INITIAL_VIEW:this.$PagesManagerStore7=null;break;default:return}};a.prototype.$PagesManagerStore11=function(a){"use strict";this.$PagesManagerStore7=a,this.$PagesManagerStore6=a};a.prototype.$PagesManagerStore10=function(a){"use strict";__p&&__p();if(Object.prototype.hasOwnProperty.call(a,"selectedRowsMap")){this.$PagesManagerStore5=a.selectedRowsMap;this.$PagesManagerStore4=Array.from(this.$PagesManagerStore5.keys());return}this.$PagesManagerStore4=a.selectedRows;a.rowsAdded.forEach(function(a){this.$PagesManagerStore5.set(a,!0)}.bind(this));a.rowsRemoved.forEach(function(a){this.$PagesManagerStore5.set(a,!1)}.bind(this))};a.prototype.getViewingListItem=function(){"use strict";return this.$PagesManagerStore6};a.prototype.getInitialViewingItem=function(){"use strict";return this.$PagesManagerStore7};a.prototype.getLayoutHeight=function(){"use strict";return this.$PagesManagerStore2};a.prototype.getNavigationHeight=function(){"use strict";return this.$PagesManagerStore1};a.prototype.getListNavigationHeight=function(){"use strict";return this.$PagesManagerStore3};a.prototype.getFooterHeight=function(){"use strict";return this.$PagesManagerStore8};a.prototype.getHeaderHeight=function(){"use strict";return this.$PagesManagerStore9};a.prototype.getIsRowSelected=function(a){"use strict";return this.$PagesManagerStore5.has(a)?this.$PagesManagerStore5.get(a):!1};a.prototype.getSelectedRows=function(){"use strict";return this.$PagesManagerStore4};a.prototype.isSelectionMode=function(){"use strict";return this.$PagesManagerStore4.length!==0};a.__moduleID=e.id;e.exports=new a(b("PagesManagerDispatcher"))}),null);
__d("PagesManagerDetailContainer.react",["FluxContainer","PagesManagerStore","React"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this,a),this.state={height:0,viewingListItem:null}}a.getStores=function(){"use strict";return[b("PagesManagerStore")]};a.calculateState=function(a){"use strict";a=b("PagesManagerStore").getLayoutHeight()-b("PagesManagerStore").getNavigationHeight()-b("PagesManagerStore").getHeaderHeight();return{height:a,viewingListItem:b("PagesManagerStore").getViewingListItem()}};a.prototype.render=function(){"use strict";var a=this.props,c=a.ChildContainerClass;a=babelHelpers.objectWithoutProperties(a,["ChildContainerClass"]);return b("React").createElement(c,babelHelpers["extends"]({height:this.state.height,viewingListItem:this.state.viewingListItem,listItemKey:this.props.getListItemKey(this.state.viewingListItem)},a))};e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerListContainer.react",["FluxContainer","PagesManagerAction","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.state={height:0}}a.getStores=function(){return[b("PagesManagerStore")]};a.calculateState=function(a){a=b("PagesManagerStore").getLayoutHeight()-b("PagesManagerStore").getNavigationHeight()-b("PagesManagerStore").getFooterHeight();return{height:a}};a.prototype.render=function(){var a=this.props,c=a.ChildContainerClass;a=babelHelpers.objectWithoutProperties(a,["ChildContainerClass"]);return b("React").createElement(c,babelHelpers["extends"]({height:this.state.height,onSelectionChange:b("PagesManagerAction").handleSelectionMapChange},a))};a.prototype.$1=function(a){var c=a.rowsAdded,d=a.rowsRemoved;a=a.selectedRows;b("PagesManagerAction").handleSelectionChange(c,d,a)};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("AbstractPagesManagerListStore",["invariant","FluxStore","PagesManagerActionType","nullthrows"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("FluxStore"));h=c&&c.prototype;function a(a){"use strict";h.constructor.call(this,a),this.__hasMoreItem=new Map(),this.__isLoading=!1}a.prototype.__onDispatch=function(a){"use strict";__p&&__p();switch(a.type){case b("PagesManagerActionType").LIST.FETCH:this.__handleListFetch(a);break;case b("PagesManagerActionType").LIST.FETCHED:case b("PagesManagerActionType").LIST.UPDATED:this.__emitChange();break;case b("PagesManagerActionType").LIST.LOADING:this.__isLoading=!0;this.__emitChange();break;case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE:case b("PagesManagerActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG:case b("PagesManagerActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG:this.__handleNavigationUnitChange(a);break;default:return}};a.prototype.__handleListFetch=function(a){"use strict";g(0)};a.prototype.__handleNavigationUnitChange=function(a){"use strict";g(0)};a.prototype.hasMoreItem=function(a){"use strict";return this.__hasMoreItem.has(a)?b("nullthrows")(this.__hasMoreItem.get(a)):!1};a.prototype.getItemList=function(a,b){"use strict";g(0)};a.prototype.isLoading=function(){"use strict";return this.__isLoading};a.__moduleID=e.id;e.exports=a}),null);
__d("PagesManagerInboxActionType",["ImmutableObject","keyMirrorRecursive"],(function(a,b,c,d,e,f){a=new(b("ImmutableObject"))(b("keyMirrorRecursive")({COMMENT:"",CONFIG_SET:"",FACEBOOK_POST:{LOADED:""},LIST:{MORE_LOADED:""},NUX:{DISMISS:"",HIDE:"",VIEW:""},SWITCH_INTERFACE:{SWITCH_TO_OLD:""}}));e.exports=a}),null);
__d("MessageThreadViewSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNSPECIFIED:"unspecified",LEGACY:"legacy",LEGACY_MESSAGES_PREVIEW:"legacy_messages_preview",REFRESH_SPRINGBOARD:"springboard",REFRESH_MESSAGETAB:"message_tab",NEW_MESSAGETAB:"new_message_tab",REFRESH_PERMALINK:"permalink",REFRESH_HIGHLANDER_JEWEL:"highlander_jewel",REFRESH_SEARCH_TYPEAHEAD:"search_typeahead",MTOUCH_MESSAGE_TAB:"mtouch_message_tab",MBASIC_MESSAGE_TAB:"mbasic_message_tab"})}),null);
__d("PageCommPlatform",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FACEBOOK:"FACEBOOK",MESSENGER:"MESSENGER",INSTAGRAM:"INSTAGRAM",WHATSAPP:"WHATSAPP",GROUP:"GROUP",ALL:"ALL"})}),null);
__d("PageCommSearchType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADMIN:"ADMIN",COSTUMER:"COSTUMER",LABEL:"LABEL"})}),null);
__d("PagesManagerInboxCustomLabelSearchableEntry",["SearchableEntry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("SearchableEntry"));g=c&&c.prototype;function a(a){g.constructor.call(this,{uniqueID:a.id,title:a.name}),this.$PagesManagerInboxCustomLabelSearchableEntry1=a}a.prototype.getColor=function(){return"#"+this.$PagesManagerInboxCustomLabelSearchableEntry1.color.substring(2)};a.prototype.getFBID=function(){return this.$PagesManagerInboxCustomLabelSearchableEntry1.id};a.prototype.getName=function(){return this.$PagesManagerInboxCustomLabelSearchableEntry1.name};a.prototype.getData=function(){return this.$PagesManagerInboxCustomLabelSearchableEntry1};e.exports=a}),null);
__d("PagesManagerMessagingLogger",["invariant","MessagingTag","PageCommItemFolder","PagesEventObserver","PagesEventType"],(function(a,b,c,d,e,f,g){__p&&__p();var h="MESSENGER",i="inbox",j=":";a={logMessagesSectionViewEvent:function(a,c,d){c=c||i;var e;[];c.indexOf(":")&&(e=c.split(j),c=e[e.length-1]);b("PagesEventObserver").notify(b("PagesEventType").VIEW_MESSAGES,a,{section:d||h,subsection:c})},logPageViewFolderEvent:function(a,c,d){__p&&__p();var event="";switch(c.getKey()){case b("MessagingTag").INBOX:event=b("PagesEventType").MESSAGES_VIEW_INBOX;break;case b("MessagingTag").ACTION_ARCHIVED:event=b("PagesEventType").MESSAGES_VIEW_ARCHIVED;break;case b("MessagingTag").PAGE_BACKGROUND:event=b("PagesEventType").MESSAGES_VIEW_PAGE_BACKGROUND;break;case b("MessagingTag").OTHER:event=b("PagesEventType").MESSAGES_VIEW_SPAM;break;default:g(0)}b("PagesEventObserver").notify(event,a,{source:d})},logPageViewFolderEventForInbox:function(a,c,d){__p&&__p();var event="";switch(c){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").FOLLOW_UP:case b("PageCommItemFolder").UNREAD:event=b("PagesEventType").MESSAGES_VIEW_INBOX;break;case b("PageCommItemFolder").DONE:event=b("PagesEventType").MESSAGES_VIEW_ARCHIVED;break;case b("PageCommItemFolder").SPAM:event=b("PagesEventType").MESSAGES_VIEW_SPAM;break;default:g(0)}b("PagesEventObserver").notify(event,a,{source:d})}};e.exports=a}),null);
__d("PagesManagerMessagingNavigationUnitKey",["MercuryFilters","MessagingTag","PageMessageEnumTag"],(function(a,b,c,d,e,f){"use strict";a={FILTERS:{ALL:b("MercuryFilters").ALL,UNREAD:b("MercuryFilters").UNREAD,FLAGGED:b("PageMessageEnumTag").FLAG,PRIORITY:b("PageMessageEnumTag").IMPORTANT},FOLDERS:{INBOX:b("MessagingTag").INBOX,ARCHIVED:b("MessagingTag").ACTION_ARCHIVED,PAGE_BACKGROUND:b("MessagingTag").PAGE_BACKGROUND,SPAM:b("MessagingTag").OTHER}};e.exports=a}),null);
__d("PagesManagerInboxFilterStore",["invariant","FluxStore","MessageThreadViewSource","PageCommItemFolder","PageCommPlatform","PageCommSearchType","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerMessagingLogger","PagesManagerMessagingNavigationUnitKey"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i="CUSTOM_TAG_",j="OWNER_";c=babelHelpers.inherits(a,b("FluxStore"));h=c&&c.prototype;function a(){h.constructor.call(this,b("PagesManagerDispatcher")),this.$PagesManagerInboxFilterStore1=b("PageCommItemFolder").TODO,this.$PagesManagerInboxFilterStore2={id:null,photoURL:null,name:null},this.$PagesManagerInboxFilterStore3=b("PageCommPlatform").MESSENGER,this.$PagesManagerInboxFilterStore4=!1,this.$PagesManagerInboxFilterStore5="",this.$PagesManagerInboxFilterStore6=b("PageCommSearchType").COSTUMER,this.$PagesManagerInboxFilterStore7=null,this.$PagesManagerInboxFilterStore8=[]}a.prototype.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE:var c=!1,d=!1;this.$PagesManagerInboxFilterStore3!==a.activeTypeFilter&&a.activeTypeFilter&&(c=!0);this.$PagesManagerInboxFilterStore3===b("PageCommPlatform").MESSENGER&&a.activeFolderFilter&&this.$PagesManagerInboxFilterStore1!==a.activeFolderFilter&&(d=!0);c&&b("PagesManagerMessagingLogger").logMessagesSectionViewEvent(a.pageID,null,a.activeTypeFilter);d&&a.activeFolderFilter!==b("PageCommItemFolder").FOLLOW_UP&&b("PagesManagerMessagingLogger").logPageViewFolderEventForInbox(a.pageID,a.activeFolderFilter,b("MessageThreadViewSource").NEW_MESSAGETAB);a.activeFolderFilter||a.activeTypeFilter||a.activeOwnerFilter||g(0);a.activeFolderFilter&&(this.$PagesManagerInboxFilterStore1=a.activeFolderFilter,this.$PagesManagerInboxFilterStore3===b("PageCommPlatform").WHATSAPP&&this.$PagesManagerInboxFilterStore1!==b("PageCommItemFolder").TODO&&(this.$PagesManagerInboxFilterStore3=b("PageCommPlatform").MESSENGER));a.activeTypeFilter&&(this.$PagesManagerInboxFilterStore3=a.activeTypeFilter);a.activeOwnerFilter&&(this.$PagesManagerInboxFilterStore2=a.activeOwnerFilter);this.__emitChange();break;case b("PagesManagerActionType").SEARCH.CHANGE_SEARCH_TERM:this.$PagesManagerInboxFilterStore5=a.searchTerm;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.SELECT_CUSTOMER:this.$PagesManagerInboxFilterStore5=a.name;this.$PagesManagerInboxFilterStore7=a.pageCustomerID;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.CLEAR:this.$PagesManagerInboxFilterStore5="";this.$PagesManagerInboxFilterStore7=null;this.$PagesManagerInboxFilterStore2={id:null,photoURL:null,name:null};this.$PagesManagerInboxFilterStore8=[];this.__emitChange();break;case b("PagesManagerActionType").SEARCH.TOGGLE:this.$PagesManagerInboxFilterStore4=a.targetStatus;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.CHANGE_TYPE:a.searchType!==b("PageCommSearchType").ADMIN&&(this.$PagesManagerInboxFilterStore2={id:null,photoURL:null,name:null});this.$PagesManagerInboxFilterStore6=a.searchType;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG:this.$PagesManagerInboxFilterStore5="";c=this.$PagesManagerInboxFilterStore8.findIndex(function(b){return b.name===a.label.name});c===-1&&this.$PagesManagerInboxFilterStore8.push(a.label);this.__emitChange();break;case b("PagesManagerActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG:d=this.$PagesManagerInboxFilterStore8.findIndex(function(b){return b.name===a.label.name});d!==-1&&(this.$PagesManagerInboxFilterStore8.splice(d,1),this.__emitChange());break}};a.prototype.getCurrentSearchCustomLabels=function(){return this.$PagesManagerInboxFilterStore8.map(function(a){return new(b("PagesManagerInboxCustomLabelSearchableEntry"))(a)})};a.prototype.getActiveType=function(){return this.$PagesManagerInboxFilterStore3};a.prototype.getActiveFolder=function(){return this.$PagesManagerInboxFilterStore1};a.prototype.getActiveOwner=function(){return this.$PagesManagerInboxFilterStore2};a.prototype.getActiveMessageFolder=function(){switch(this.$PagesManagerInboxFilterStore1){case b("PageCommItemFolder").FOLLOW_UP:case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").UNREAD:return b("PagesManagerMessagingNavigationUnitKey").FOLDERS.INBOX;case b("PageCommItemFolder").SPAM:return b("PagesManagerMessagingNavigationUnitKey").FOLDERS.SPAM;case b("PageCommItemFolder").DONE:return b("PagesManagerMessagingNavigationUnitKey").FOLDERS.ARCHIVED;default:g(0)}};a.prototype.$PagesManagerInboxFilterStore9=function(){switch(this.$PagesManagerInboxFilterStore1){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").SPAM:case b("PageCommItemFolder").DONE:case b("PageCommItemFolder").FOLLOW_UP:return b("PagesManagerMessagingNavigationUnitKey").FILTERS.ALL;case b("PageCommItemFolder").UNREAD:return b("PagesManagerMessagingNavigationUnitKey").FILTERS.UNREAD;default:g(0)}};a.prototype.$PagesManagerInboxFilterStore10=function(){return this.$PagesManagerInboxFilterStore8.length===0?null:i+JSON.stringify(this.$PagesManagerInboxFilterStore8.map(function(a){return a.name}).sort())};a.prototype.$PagesManagerInboxFilterStore11=function(){return this.$PagesManagerInboxFilterStore2.id===null?null:j+String(this.$PagesManagerInboxFilterStore2.id)};a.prototype.getActiveFilter=function(){return this.$PagesManagerInboxFilterStore11()||this.$PagesManagerInboxFilterStore10()||this.$PagesManagerInboxFilterStore9()};a.prototype.getSearchTerm=function(){return this.$PagesManagerInboxFilterStore5};a.prototype.getPageCustomerID=function(){return this.$PagesManagerInboxFilterStore7};a.prototype.getIsSearchActive=function(){return this.$PagesManagerInboxFilterStore4};a.prototype.getSearchType=function(){return this.$PagesManagerInboxFilterStore6};a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxGK",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a={init:function(a){g={},a.validPlatformTypes.map(function(b){b=a.platformConfigs[b];if(g[b.mailboxID])return;g[b.mailboxID]=b.gkResults})},check:function(a,b){a=g[a];return!a?!1:a[b]===!0}};e.exports=a}),null);
__d("PagesManagerInboxStore",["invariant","FluxStore","HistoryManager","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxActionType","PagesManagerInboxFilterStore","PagesManagerInboxGK","PagesManagerInboxNUX","PagesManagerStore","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=2,j="selected_item_id",k="mailbox_id";c=babelHelpers.inherits(a,b("FluxStore"));h=c&&c.prototype;function a(){h.constructor.call(this,b("PagesManagerDispatcher")),this.$PagesManagerInboxStore3={},this.$PagesManagerInboxStore4=0,this.$PagesManagerInboxStore5=!1}a.prototype.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerInboxActionType").CONFIG_SET:this.$PagesManagerInboxStore1=a.config;b("PagesManagerInboxGK").init(this.$PagesManagerInboxStore1);this.__emitChange();break;case b("PagesManagerInboxActionType").NUX.VIEW:this.$PagesManagerInboxStore2=a.nuxID;this.__emitChange();break;case b("PagesManagerInboxActionType").NUX.DISMISS:this.$PagesManagerInboxStore3[a.nuxID]=!0;this.$PagesManagerInboxStore2===a.nuxID&&(this.$PagesManagerInboxStore4++,this.$PagesManagerInboxStore2=null);this.__emitChange();break;case b("PagesManagerInboxActionType").NUX.HIDE:this.$PagesManagerInboxStore2=null;this.$PagesManagerInboxStore4++;this.__emitChange();break;case b("PagesManagerActionType").LIST.VIEW:b("PagesManagerDispatcher").waitFor([b("PagesManagerStore").getDispatchToken()]);this.$PagesManagerInboxStore6(a.listItem);break;case b("PagesManagerInboxActionType").COMMENT:this.$PagesManagerInboxStore5=!0;this.__emitChange();break}};a.prototype.hasCommented=function(){return this.$PagesManagerInboxStore5};a.prototype.getMailboxID=function(a){var b=this.getConfig();return b.platformConfigs[a].mailboxID};a.prototype.getConfig=function(){this.$PagesManagerInboxStore1||g(0);return this.$PagesManagerInboxStore1};a.prototype.shouldShowNUX=function(a){var c=b("PagesManagerInboxNUX")[a];c||g(0);var d=this.getConfig();return d.nuxConfig[a]&&this.$PagesManagerInboxStore4<i&&!this.$PagesManagerInboxStore3[c]&&(!this.$PagesManagerInboxStore2||this.$PagesManagerInboxStore2===c)};a.prototype.$PagesManagerInboxStore6=function(a){var c=new(b("URI"))(window.location.href);if(a){b("PagesManagerDispatcher").waitFor([b("PagesManagerInboxFilterStore").getDispatchToken()]);var d=b("PagesManagerInboxFilterStore").getActiveType();d=this.getMailboxID(d);c.addQueryData(k,d).addQueryData(j,a)}else c.removeQueryData(j);b("HistoryManager").go(c.toString(),!1,!0)};a.__moduleID=e.id;e.exports=new a()}),null);
__d("ServicesAppointmentInterstitialStore",["FluxReduceStore","immutable","PagesManagerDispatcher","QE2Logger","ServicesAppointmentInterstitialActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_CLOSE,j=b("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_DISABLE,k=b("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_HAS_REQUESTS_OR_THREAD_INTENTS,l=b("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_QE_EXPOSURE_LOG,m=b("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_READY,n=b("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_TRIGGER_ACTION;g=babelHelpers.inherits(o,b("immutable").Record({hasLoggedQEExposure:!1,hasShown:!1,isActive:!1,isDisabled:!1,isReady:!1,viewingEligibleThread:!1}));g&&g.prototype;function o(){g.apply(this,arguments)}({types:{INTERSTITIAL_HAS_REQUESTS_OR_THREAD_INTENTS:"INTERSTITIAL_HAS_REQUESTS_OR_THREAD_INTENTS",INTERSTITIAL_CLOSE:"INTERSTITIAL_CLOSE",INTERSTITIAL_DISABLE:"INTERSTITIAL_DISABLE",INTERSTITIAL_READY:"INTERSTITIAL_READY",INTERSTITIAL_TRIGGER_ACTION:"INTERSTITIAL_TRIGGER_ACTION",INTERSTITIAL_QE_EXPOSURE_LOG:"INTERSTITIAL_QE_EXPOSURE_LOG"}});h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new o()};a.prototype.reduce=function(a,c){__p&&__p();switch(c.type){case k:return a.set("viewingEligibleThread",!0);case i:return a.set("isActive",!1);case j:return a.set("isDisabled",!0);case m:return a.set("isReady",!0);case n:return a.set("isActive",!0).set("hasShown",!0);case l:if(this.getState().hasLoggedQEExposure)return a;b("QE2Logger").logExposureForUser("services_in_product_education");return a.set("hasLoggedQEExposure",!0)}return a};a.prototype.isActive=function(){return this.getState().isActive};a.prototype.isReadyAndHasNotShown=function(){var a=this.getState(),b=a.hasShown,c=a.isDisabled,d=a.isReady;a=a.viewingEligibleThread;return!c&&d&&!b&&a};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("PagesManagerDispatcher"))}),null);
__d("PagesManagerInboxMercuryUtil",["PageCommPlatform","PagesManagerInboxFilterStore","PagesManagerInboxStore"],(function(a,b,c,d,e,f){"use strict";a={shouldUseMercury:function(){var a=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()].isSyncProtocolEnabled;return b("PagesManagerInboxFilterStore").getActiveType()===b("PageCommPlatform").MESSENGER&&a||b("PagesManagerInboxFilterStore").getActiveType()===b("PageCommPlatform").WHATSAPP},shouldUseMercuryForFollowUp:function(){return b("PagesManagerInboxFilterStore").getActiveType()!==b("PageCommPlatform").MESSENGER?!1:!0}};e.exports=a}),null);
__d("XPageInboxInterfaceSwitchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/manager/inbox/interfaceswitch/",{})}),null);
__d("XPagesManagerInboxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/inbox/{?selected_item_id}/",{page_token:{type:"String",required:!0},business_id:{type:"Int"},selected_item_id:{type:"FBID"},mailbox_id:{type:"FBID"}})}),null);
__d("PagesManagerInboxSwitcherUtil",["ActorURI","AsyncRequest","XPageInboxInterfaceSwitchController","XPagesManagerInboxController","XPagesManagerMessagesController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d){var e=b("XPageInboxInterfaceSwitchController").getURIBuilder().getURI();e=b("ActorURI").create(e,c);new(b("AsyncRequest"))().setURI(e).setMethod("POST").setData({is_unified_inbox:a}).setHandler(function(a){a=a.payload.isUnifiedInbox;a=a?b("XPagesManagerInboxController"):b("XPagesManagerMessagesController");a.getURIBuilder().setString("page_token",d).getURI().go()}).send()}a={switchToInbox:function(a,b){return g(!0,a,b)},switchToMessage:function(a,b){return g(!1,a,b)}};e.exports=a}),null);
__d("PagesManagerMessagingActionType",["PagesManagerActionType","keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({THREAD_LEVEL:{READ_STATUS:"",ARCHIVE_STATUS:"",SPAM_STATUS:"",UPDATE_THREAD:""},SET_SCROLL_HEIGHT:null,SET_APPOINTMENT_BANNER_HEIGHT:null,AWAY_STATE:{UPDATE:null,FETCH:null,SET:null},SET_IS_CONTEXT_CARD_HIDDEN:null,MESSAGE_SEARCH:{NAME_SEARCH_UPDATE:null,SNIPPET_SEARCH_UPDATE:null,LOAD_MORE_NAME_RESULT:null,LOAD_MORE_SNIPPET_RESULT:null},HOT_LIKE:{END:null,START:null},BAN:{RESET:null,UPDATE:null},CLASSIFIER:{INITIALIZE_STORE:null,CHECK_FOR_INTENT:null,NOTIFY_INTENT_CLASSIFIED:null,THREAD_INTENT_UPDATED:null,VERIFY_INTENT:null}});Object.assign(a,b("PagesManagerActionType"));e.exports=a}),null);
__d("PagesManagerMessagingComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ATTACHMENT:{ALL_COMPLETE:"",ATTACH_CACHED:"",ATTACH_COMPLETE:"",ATTACH_START:"",CANCEL:"",DETACH:"",DETACH_ALL:""},LEAD_FORMS:{ATTACH:"",DETACH:"",LOADING:"",SET:""},MESSAGE:{CLEAR:"",SET:""},PARTICIPANT:{SET:""},SAVED_REPLIES:{LOADING:"",SET:""},SHARE_UPLOADER:{READY:"",CLEAR:""},UPLOADER:{READY:""}});e.exports=a}),null);
__d("PagesManagerMessagingComposerDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("PagesManagerMessagingComposerActions",["PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={attachLeadForm:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.ATTACH,form:a})},clearMessage:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR})},clearShareLinkUploader:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR})},completeAllAttachments:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE})},completeAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE,attachment:a})},detachAllAttachments:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL})},detachAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH,uploadID:a})},detachLeadForm:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.DETACH})},fileUploaderReady:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").UPLOADER.READY,uploader:a})},setIsLeadFormsLoading:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.LOADING,isLoading:a})},setIsSavedRepliesLoading:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING,isLoading:a})},setLeadForms:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.SET,forms:a})},setMessage:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").MESSAGE.SET,message:a})},setParticipant:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET,participant:a})},setSavedReplies:function(a,c){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET,replies:a,tokens:c})},setShareLinkUploader:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY,uploader:a})},startAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START,files:a})}};e.exports=a}),null);
__d("PagesManagerMessagingMessagelistDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("XPagesBanUserStatusFetchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/admin/ban_user/status/",{page_id:{type:"FBID",required:!0},user_id:{type:"FBID",required:!0}})}),null);
__d("PagesManagerMessagingMessagelistAction",["AsyncRequest","PagesManagerMessagingActionType","PagesManagerMessagingMessagelistDispatcher","XPagesBanUserStatusFetchController"],(function(a,b,c,d,e,f){__p&&__p();var g=b("PagesManagerMessagingActionType").LIST,h=new Map(),i={updateMessagelist:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOADED,pageID:a,threadID:c,data:d})},setHotLikeEnd:function(){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").HOT_LIKE.END})},setHotLikeStart:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").HOT_LIKE.START,preview:a})},setIsLoading:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOADING,isLoading:a})},setIsLoadingMore:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOAD_MORE,isLoadingMore:a})},setScrollAreaHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT,height:a})},setAppointmentBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},setAppointmentScheduleBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},setAppointmentStatusBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},updateThread:function(a,c){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD,pageID:a,threadID:c})},setIsContextCardHidden:function(a,c){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN,pageID:a,isHidden:c})},updateIsUserBanned:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").BAN.UPDATE,pageID:a,userID:c,isBanned:d})},_getBanningMapKey:function(a,b){return a+"_"+b},fetchIsUserBanned:function(a,c){var d=this._getBanningMapKey(a,c);if(h.has(d)&&h.get(d))return;var e=b("XPagesBanUserStatusFetchController").getURIBuilder().setFBID("page_id",a).setFBID("user_id",c).getURI();new(b("AsyncRequest"))().setURI(e).setHandler(function(b){i.updateIsUserBanned(a,c,b.payload)}).send();h.set(d,!0)},resetIsUserBanned:function(a,b){h.set(this._getBanningMapKey(a,b),!1)}};e.exports=i}),null);
__d("PagesManagerMessagingNUXActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({RESET_STEP:"",SET_IS_VISIBLE:"",SET_ROOT_ELEMENT:"",SET_STEP:"",SET_SHOULD_SHOW_BANNER:"",SET_SHOULD_SHOW_CONTEXT_CARD_STEP:"",SET_DEPENDENCY_READY:{COMPOSER:"",CONTEXT_CARD:"",THREADLIST:""}});e.exports=a}),null);
__d("PagesManagerMessagingNUXDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("PagesManagerMessagingNUXActions",["PagesManagerMessagingNUXActionTypes","PagesManagerMessagingNUXDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={resetStep:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").RESET_STEP})},setComposerReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.COMPOSER})},setContextCardReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.CONTEXT_CARD})},setThreadlistReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.THREADLIST})},setIsVisible:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_IS_VISIBLE,isVisible:a})},setRootElement:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_ROOT_ELEMENT,rootElement:a})},setStep:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_STEP,step:a})},setShouldShowBanner:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_BANNER,shouldShow:a})},setShouldShowContextCardStep:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_CONTEXT_CARD_STEP,shouldShow:a})}};e.exports=a}),null);
__d("PagesMessagingSearchMode",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ALL:"",NAME_SEARCH:"",KEYWORD_SEARCH:"",MESSAGE_SEARCH:"",NONE:""});e.exports=a}),null);
__d("PagesManagerMessagingThreadlistAction",["MercuryThreadlistConstants","PageCommSearchType","PagesAdminToolUIActionType","PagesManagerDispatcher","PagesManagerLogger","PagesManagerMessagingActionType","PagesMessagingSearchMode"],(function(a,b,c,d,e,f){__p&&__p();var g={initThreadlist:function(a){this.fetchThreadlist(a,0,b("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT)},fetchThreadlist:function(a,c,d){b("PagesManagerDispatcher").dispatch({offset:c,limit:d,pageID:a,type:b("PagesManagerMessagingActionType").LIST.FETCH})},updateThreadlist:function(a){b("PagesManagerDispatcher").dispatch({pageID:a,type:b("PagesManagerMessagingActionType").LIST.UPDATED})},changeSearchTerm:function(a,c,d,e){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.CHANGE_SEARCH_TERM,searchTerm:c,pageID:a,activeFolder:d,searchMode:e})},changeIsSearchingNameStatus:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.NAME_SEARCH_UPDATE,isSearching:a})},changeIsSearchingSnippetStatus:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.SNIPPET_SEARCH_UPDATE,isSearching:a})},loadMoreNameResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.LOAD_MORE_NAME_RESULT,searchTerm:c,pageID:a,activeFolder:d})},loadMoreSnippetResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.LOAD_MORE_SNIPPET_RESULT,searchTerm:c,pageID:a,activeFolder:d})},resetSearch:function(a){g.changeSearchTerm(a,"","",b("PagesMessagingSearchMode").NONE)},addSearchCustomTag:function(a,c,d){b("PagesManagerLogger").logMessageInboxUIAction(b("PagesAdminToolUIActionType").MESSAGE_INBOX_CLICK_ADD_SEARCH_TAGS,a,{tag_name:c,position:d}),b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG,pageID:a,tagName:c}),b("PagesManagerDispatcher").dispatch({searchType:b("PageCommSearchType").LABEL,type:b("PagesManagerMessagingActionType").SEARCH.LABEL})},removeSearchCustomTag:function(a,c,d){b("PagesManagerLogger").logMessageInboxUIAction(b("PagesAdminToolUIActionType").MESSAGE_INBOX_CLICK_REMOVE_SEARCH_TAGS,a,{tag_name:c,position:d}),b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG,pageID:a,tagName:c}),b("PagesManagerDispatcher").dispatch({searchType:b("PageCommSearchType").LABEL,type:b("PagesManagerMessagingActionType").SEARCH.LABEL})},fetchCustomTagThreadCounts:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.FETCH_CUSTOM_TAG_THREAD_COUNTS,pageID:a})},searchNameResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.CHANGE_NAME_SEARCH_TERM,searchTerm:c,pageID:a,activeFolder:d})},searchMessageResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.CHANGE_MESSAGE_SEARCH_TERM,searchTerm:c,pageID:a,activeFolder:d})}};e.exports=g}),null);
__d("XWhatsAppMessagingAttachmentUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/whatsapp/upload/",{request_user_id:{type:"Int"}})}),null);
__d("PagesManagerMessagingComposerStore",["FluxStore","MercuryConfig","PageCommPlatform","PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher","PagesMessagingConfig","URI","XWhatsAppMessagingAttachmentUploadController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.$PagesManagerMessagingComposerStore1=new Map(),this.$PagesManagerMessagingComposerStore2=null,this.$PagesManagerMessagingComposerStore3=!1,this.$PagesManagerMessagingComposerStore4={attachedLeadForm:null,isLeadFormsLoading:!1,leadForms:[]},this.$PagesManagerMessagingComposerStore5="",this.$PagesManagerMessagingComposerStore6=null,this.$PagesManagerMessagingComposerStore7={replies:[],tokens:{}},this.$PagesManagerMessagingComposerStore8=null}a.prototype.getAllAttachmentsMeta=function(){__p&&__p();var a=this.$PagesManagerMessagingComposerStore9(),b=[];for(var c=this.$PagesManagerMessagingComposerStore1.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;(f.id&&a.indexOf(f.id)!==-1||f.isUploading)&&b.push(f)}return b};a.prototype.getAttachedAttachmentIds=function(){return this.$PagesManagerMessagingComposerStore2?this.$PagesManagerMessagingComposerStore2.getAttachments():[]};a.prototype.getAttachedImageIds=function(){return this.$PagesManagerMessagingComposerStore2?this.$PagesManagerMessagingComposerStore2.getImageFiles():[]};a.prototype.getAttachedAnimatedImageIds=function(){return this.$PagesManagerMessagingComposerStore2?this.$PagesManagerMessagingComposerStore2.getAnimatedImageFiles():[]};a.prototype.getAttachedVideoIds=function(){return this.$PagesManagerMessagingComposerStore2?this.$PagesManagerMessagingComposerStore2.getVideoFiles():[]};a.prototype.getAttachedAudioFilesIds=function(){return this.$PagesManagerMessagingComposerStore2?this.$PagesManagerMessagingComposerStore2.getAudioFiles():[]};a.prototype.getAttachedFilesIds=function(){return this.$PagesManagerMessagingComposerStore2?this.$PagesManagerMessagingComposerStore2.getFiles():[]};a.prototype.getFileUploader=function(){return this.$PagesManagerMessagingComposerStore2};a.prototype.getIsAttachmentUploading=function(){return this.$PagesManagerMessagingComposerStore2?this.$PagesManagerMessagingComposerStore2.isUploading():!1};a.prototype.getIsSavedRepliesLoading=function(){return this.$PagesManagerMessagingComposerStore3};a.prototype.getLeadFormsData=function(){return this.$PagesManagerMessagingComposerStore4};a.prototype.getMessage=function(){return this.$PagesManagerMessagingComposerStore5};a.prototype.getQuickReplyMode=function(){return b("PagesMessagingConfig").sendOnEnter};a.prototype.getParticipant=function(){return this.$PagesManagerMessagingComposerStore6};a.prototype.getSavedReplies=function(){return this.$PagesManagerMessagingComposerStore7};a.prototype.getShareLink=function(){if(this.$PagesManagerMessagingComposerStore8)return this.$PagesManagerMessagingComposerStore8.getAttachData()};a.prototype.getUploadActionFromUserID=function(a,c){if(!c)return null;return a===b("PageCommPlatform").WHATSAPP?b("XWhatsAppMessagingAttachmentUploadController").getURIBuilder().setInt("request_user_id",c).getURI().toString():new(b("URI"))(b("MercuryConfig").upload_url).addQueryData("request_user_id",c).toString()};a.prototype.$PagesManagerMessagingComposerStore10=function(a,b){this.$PagesManagerMessagingComposerStore1.set(b.upload_id,{id:"",isUploading:!0,name:b.metadata.filename,type:b.metadata.filetype,uploadID:b.upload_id})};a.prototype.$PagesManagerMessagingComposerStore11=function(a){a.map(function(a){this.$PagesManagerMessagingComposerStore1.set(a.upload_id,{id:"",isUploading:!0,name:a.metadata.name,type:a.metadata.type,uploadID:a.upload_id})}.bind(this))};a.prototype.$PagesManagerMessagingComposerStore12=function(){this.$PagesManagerMessagingComposerStore5=""};a.prototype.$PagesManagerMessagingComposerStore13=function(a){this.$PagesManagerMessagingComposerStore1.has(a)&&this.$PagesManagerMessagingComposerStore1["delete"](a)};a.prototype.$PagesManagerMessagingComposerStore14=function(){this.$PagesManagerMessagingComposerStore8&&this.$PagesManagerMessagingComposerStore8.clear()};a.prototype.$PagesManagerMessagingComposerStore15=function(a){var b;this.$PagesManagerMessagingComposerStore1.has(a.upload_id)&&(b=this.$PagesManagerMessagingComposerStore1.get(a.upload_id),b.id=this.$PagesManagerMessagingComposerStore16(a),b.isUploading=!1,this.$PagesManagerMessagingComposerStore1.set(a.upload_id,b))};a.prototype.$PagesManagerMessagingComposerStore9=function(){if(!this.$PagesManagerMessagingComposerStore2)return[];var a=this.$PagesManagerMessagingComposerStore2;return[].concat(a.getAttachments(),a.getImageFiles(),a.getAnimatedImageFiles(),a.getVideoFiles(),a.getAudioFiles(),a.getFiles())};a.prototype.$PagesManagerMessagingComposerStore16=function(a){return a.metadata.image_id||a.metadata.gif_id||a.metadata.video_id||a.metadata.audio_id||a.metadata.file_id};a.prototype.__onDispatch=function(a){__p&&__p();switch(a.actionType){case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE:this.$PagesManagerMessagingComposerStore17();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE:this.$PagesManagerMessagingComposerStore15(a.attachment);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START:this.$PagesManagerMessagingComposerStore11(a.files);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH:this.$PagesManagerMessagingComposerStore18(a.uploadID);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL:this.$PagesManagerMessagingComposerStore19();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.ATTACH:this.$PagesManagerMessagingComposerStore20(a.form);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.DETACH:this.$PagesManagerMessagingComposerStore21();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.LOADING:this.$PagesManagerMessagingComposerStore22(a.isLoading);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.SET:this.$PagesManagerMessagingComposerStore23(a.forms);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR:this.$PagesManagerMessagingComposerStore12();break;case b("PagesManagerMessagingComposerActionTypes").MESSAGE.SET:this.$PagesManagerMessagingComposerStore24(a.message);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET:this.$PagesManagerMessagingComposerStore25(a.participant);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING:this.$PagesManagerMessagingComposerStore26(a.isLoading);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET:this.$PagesManagerMessagingComposerStore27(a.replies,a.tokens);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY:this.$PagesManagerMessagingComposerStore28(a.uploader);break;case b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR:this.$PagesManagerMessagingComposerStore14();break;case b("PagesManagerMessagingComposerActionTypes").UPLOADER.READY:this.$PagesManagerMessagingComposerStore29(a.uploader);this.$PagesManagerMessagingComposerStore30();break}};a.prototype.$PagesManagerMessagingComposerStore19=function(){this.$PagesManagerMessagingComposerStore2&&(this.$PagesManagerMessagingComposerStore2.removeAttachments(),this.$PagesManagerMessagingComposerStore1.clear())};a.prototype.$PagesManagerMessagingComposerStore18=function(a){this.$PagesManagerMessagingComposerStore2&&(this.$PagesManagerMessagingComposerStore2.removeOneAttachment(a),this.$PagesManagerMessagingComposerStore13(a))};a.prototype.$PagesManagerMessagingComposerStore17=function(){this.$PagesManagerMessagingComposerStore1.forEach(function(a,b){a.isUploading&&this.$PagesManagerMessagingComposerStore1["delete"](a.uploadID)}.bind(this))};a.prototype.$PagesManagerMessagingComposerStore21=function(){this.$PagesManagerMessagingComposerStore4.attachedLeadForm=null};a.prototype.$PagesManagerMessagingComposerStore20=function(a){this.$PagesManagerMessagingComposerStore4.attachedLeadForm=a};a.prototype.$PagesManagerMessagingComposerStore29=function(a){this.$PagesManagerMessagingComposerStore2=a};a.prototype.$PagesManagerMessagingComposerStore22=function(a){this.$PagesManagerMessagingComposerStore4.isLeadFormsLoading=a};a.prototype.$PagesManagerMessagingComposerStore26=function(a){this.$PagesManagerMessagingComposerStore3=a};a.prototype.$PagesManagerMessagingComposerStore23=function(a){this.$PagesManagerMessagingComposerStore4.leadForms=a};a.prototype.$PagesManagerMessagingComposerStore24=function(a){this.$PagesManagerMessagingComposerStore5=a};a.prototype.$PagesManagerMessagingComposerStore25=function(a){this.$PagesManagerMessagingComposerStore6=a};a.prototype.$PagesManagerMessagingComposerStore27=function(a,b){this.$PagesManagerMessagingComposerStore7={replies:a,tokens:b}};a.prototype.$PagesManagerMessagingComposerStore28=function(a){this.$PagesManagerMessagingComposerStore8=a};a.prototype.$PagesManagerMessagingComposerStore30=function(){var a=this.$PagesManagerMessagingComposerStore2;a&&a.subscribe("cached-file-added",this.$PagesManagerMessagingComposerStore10.bind(this))};a.__moduleID=e.id;e.exports=new a(b("PagesManagerMessagingComposerDispatcher"))}),null);
__d("ServicesUIButton.react",["React","XUIDialogButton.react"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.label;a=babelHelpers.objectWithoutProperties(a,["label"]);return b("React").createElement(b("XUIDialogButton.react"),babelHelpers["extends"]({label:c},a))}e.exports=a}),null);
__d("ServicesAppointmentAvailabilitySelectorDialogButton.react",["cx","LocalDateTime","React","ServicesUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.handleTimeClicked=function(){this.props.handleTimeClicked(this.props.timeItem)}.bind(this),b}a.prototype.render=function(){var a=this.props.timeItem.format("g:iA"),c="_6f04",d="_6f05";c=c;this.props.isSelected&&(c=d);return b("React").createElement("div",{className:"_6f06"},b("React").createElement(b("ServicesUIButton.react"),{className:c,disabled:this.props.isNotValidTime,label:a,onClick:this.handleTimeClicked,size:"xlarge"}))};e.exports=a}),null);
__d("ServicesAppointmentMutationUtils",["invariant","Promise","NativeBookingFlowAdminNotesMutation","NativeBookingRequestStatusUpdateAction","PagesEventObserver","PagesEventType","PagesPlatformNoteUpdateAction","RelayAPIConfig","RelayFBEnvironment","RelayModern","ServicesAppointmentReferrer","ServicesAppointmentMutationUtilsRequestStatusUpdateMutation.graphql","ServicesAppointmentMutationUtilsApproveAppointmentMutation.graphql","ServicesAppointmentMutationUtilsArchiveAppointmentMutation.graphql","ServicesAppointmentMutationUtilsMarkAsSeenMutation.graphql","ServicesAppointmentMutationUtilsAvailabilityMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=function(){return b("ServicesAppointmentMutationUtilsRequestStatusUpdateMutation.graphql")},j=function(){return b("ServicesAppointmentMutationUtilsApproveAppointmentMutation.graphql")},k=function(){return b("ServicesAppointmentMutationUtilsArchiveAppointmentMutation.graphql")},l=function(){return b("ServicesAppointmentMutationUtilsMarkAsSeenMutation.graphql")},m=function(){return b("ServicesAppointmentMutationUtilsAvailabilityMutation.graphql")};function n(a){var c=a.action,d=a.referrer,e=a.pageID,f=a.requestID;a=a.errors;a.forEach(function(a){b("PagesEventObserver").notify(b("PagesEventType").BOOKING_ERROR,e,{action:c,referrer:d,requestID:f,error_message:a.message})})}a={approveAppointment:function(a){var c=a.requestID,d=a.referrer,e=a.pageID,f=a.customerNotes,g=a.privateNotes,i=a.onCompleted;a={actor_id:b("RelayAPIConfig").actorID,notes_for_customer:f,referrer:d,request_id:c,request_note_body:g?{text:g}:null};h(b("RelayFBEnvironment"),{mutation:j,variables:{input:a},onCompleted:function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(a,b){b&&n({action:"approve_appointment",pageID:e,referrer:d,requestID:c,errors:b}),i&&i(a,b)})})},archiveAppointment:function(a){var c=a.requestID,d=a.referrer,e=a.pageID,f=a.onCompleted,g={actor_id:b("RelayAPIConfig").actorID,request_id:c};return new(b("Promise"))(function(a,i){h(b("RelayFBEnvironment"),{mutation:k,variables:{input:g},onCompleted:function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(b,g){f&&f(b,g),g?(n({action:"archive_appointment",pageID:e,referrer:d,requestID:c,errors:g}),i()):a()})})})},cancelAppointment:function(a,c){var d=a.page_id;d||g(0);h(b("RelayFBEnvironment"),{mutation:i,variables:{input:a},onCompleted:function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(b,e){e&&n({action:"cancel_appointment",pageID:d,referrer:a.referrer,requestID:a.request_id,errors:e}),c&&c(b,e)})})},createAppointment:function(a,c){switch(a.action){case b("NativeBookingRequestStatusUpdateAction").CREATE:case b("NativeBookingRequestStatusUpdateAction").SCHEDULE:case b("NativeBookingRequestStatusUpdateAction").EDIT:this.createScheduleAppointment(a,c);break;case b("NativeBookingRequestStatusUpdateAction").CREATE_FOR_EXTERNAL_USERS:this.createManualAppointment(a,c);break;default:g(0)}},createScheduleAppointment:function(a,c){__p&&__p();var d=a.page_id;d&&(a.request_id||a.request_owner_id)||g(0);a=babelHelpers["extends"]({},a,{actor_id:b("RelayAPIConfig").actorID});h(b("RelayFBEnvironment"),{mutation:i,variables:{input:a},onCompleted:function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(b,e){if(e){var f=a.request_id?"schedule_appointment":"create_appointment";n({action:f,pageID:d,referrer:a.referrer,requestID:a.request_id,errors:e})}c&&c(b,e)})});a.customerNotes&&a.page_id&&b("PagesEventObserver").notify(b("PagesEventType").BOOKING_ADMIN_ADDED_CUSTOMER_NOTES,a.page_id);var e=a.referrer;e===b("ServicesAppointmentReferrer").BUBBLE&&(e=b("ServicesAppointmentReferrer").BUBBLE_CREATE);b("PagesEventObserver").notify(b("PagesEventType").BOOKING_ADMIN_TAPPED_CREATE_APPOINTMENT,d,{referrer:e})},createManualAppointment:function(a,c){__p&&__p();var d=a.page_id;d&&a.consumer_name||g(0);a=babelHelpers["extends"]({},a,{actor_id:b("RelayAPIConfig").actorID});h(b("RelayFBEnvironment"),{mutation:i,variables:{input:a},onCompleted:function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(b,e){e&&n({action:"manual_create_appointment",pageID:d,referrer:a.referrer,requestID:a.request_id,errors:e}),c&&c(b,e)})});b("PagesEventObserver").notify(b("PagesEventType").SERVICES_BOOKING_APPT_MANUAL_CREATE_SUCCESS,d,{referrer:a.referrer})},updateConsumerReminder:function(a,c){__p&&__p();var d=a.page_id;d||g(0);switch(a.action){case b("NativeBookingRequestStatusUpdateAction").ADD_REMINDER:a.request_owner_id&&a.scheduled_time_for_reminder_in_seconds||g(0);break;case b("NativeBookingRequestStatusUpdateAction").EDIT_REMINDER:a.request_id&&a.request_owner_id||g(0);break;case b("NativeBookingRequestStatusUpdateAction").DELETE_REMINDER:a.request_id||g(0);break;default:g(0)}a=babelHelpers["extends"]({},a,{actor_id:b("RelayAPIConfig").actorID});h(b("RelayFBEnvironment"),{mutation:i,variables:{input:a},onCompleted:function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(b,e){e&&n({action:a.action,pageID:d,referrer:a.referrer,errors:e}),c&&c(b,e)})})},updateAdminPrivateNotes:function(a){__p&&__p();var c,d=a.appointment,e=a.privateNotes,f=a.referrer,g=a.onCompleted;if(!d)return;var h=((c=d)!=null?(c=c.request_note)!=null?(c=c.edges)!=null?(c=c[0])!=null?c.node:c:c:c:c)||{};c=((c=h)!=null?(c=c.body)!=null?c.text:c:c)||"";var i=e||"";if(i!==c){c=h.id?b("PagesPlatformNoteUpdateAction").UPDATE:b("PagesPlatformNoteUpdateAction").ADD;var j=function(a){a=a.get(h.id);if(a){a=a.getLinkedRecord("body");a.setValue(i,"text")}};e={request_note:{id:h.id,body:{text:e}}};b("NativeBookingFlowAdminNotesMutation").commit(b("RelayFBEnvironment"),{action:c,actor_id:b("RelayAPIConfig").actorID,body:{text:i},component_flow_request_id:d.id,request_note_id:h.id},{onFailure:function(b){n({action:"update_admin_private_notes",pageID:a.pageID,referrer:f,requestID:d.id,errors:[b]}),g&&g({},[b])},onSuccess:function(a){g&&g(a||{},null)}},e,j)}else g&&g({},null)},markAsSeen:function(a){var c=a.pageID,d=a.referrer;a=a.requestID;var e={actor_id:b("RelayAPIConfig").actorID,page_id:c,request_id:a};return new(b("Promise"))(function(a,f){h(b("RelayFBEnvironment"),{mutation:l,variables:{input:e},onCompleted:function(b,g){g?(n({action:"mark_request_as_seen",pageID:c,referrer:d,requestID:e.request_id,errors:g}),f()):a()}})})},sendAvailability:function(a,c){__p&&__p();var d=a.pageID,e=a.consumerID;a=a.availableStartTimes;d={actor_id:b("RelayAPIConfig").actorID,page_id:d,consumer_id:e,available_start_times:a};h(b("RelayFBEnvironment"),{mutation:m,variables:{input:d},onCompleted:function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(a,b){c&&c(a,b)})})}};e.exports=a}),null);
__d("ServicesAppointmentAvailabilitySelectorDialog.react",["cx","fbt","CalendarPager.react","LayerFadeOnHide","LayerFadeOnShow","LocalDate","LocalDateTime","React","ServicesAppointmentAvailabilitySelectorDialogButton.react","ServicesAppointmentMutationUtils","ServicesUISpinner.react","ServicesUIText.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","getTimezoneAbbreviation"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=480,k=23*60,l=30,m=8*60,n=3;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.today=b("LocalDate").today(this.props.timeZoneID),this.state={focusedDate:this.today,isSubmitting:!1,selectedDate:this.today,selectedTimeSet:new Set()},this.handleSelectDate=function(a){this.setState({selectedDate:a})}.bind(this),this.handleTimeClicked=function(a){var b=this.getTimeValue(a),c=new Set(this.state.selectedTimeSet);this.setState(function(a){a.selectedTimeSet;!c.has(b)?c.add(b):c["delete"](b);return{selectedTimeSet:c}})}.bind(this),this.handleFocusDate=function(a){this.setState({focusedDate:a})}.bind(this),this.onToggle=function(a){this.props.onToggle(a)}.bind(this),this.onClickConfirm=function(){this.setState({isSubmitting:!0});var a=Array.from(this.state.selectedTimeSet);b("ServicesAppointmentMutationUtils").sendAvailability({pageID:this.props.pageID,consumerID:this.props.userID,availableStartTimes:a},this.onUpdateCompleted)}.bind(this),this.onUpdateCompleted=function(){this.onToggle(!1),this.setState({selectedTimeSet:new Set(),isSubmitting:!1})}.bind(this),c}a.prototype.getTimeRows=function(){var a=[];for(var b=m;b<=k;b+=l)a.push(b);b=a.length;b=Math.ceil(b/n);var c=[];for(var d=0;d<b;d++)c[d]=a.slice(d*n,(d+1)*n);return c};a.prototype.getCalendarDateRestraints=function(){return[function(a){return a.isAfterOrEqual(this.today)}.bind(this)]};a.prototype.getTimeValue=function(a){return a.toInstant(this.props.timeZoneID)};a.prototype.renderCalendar=function(){return b("React").createElement(b("CalendarPager.react"),{className:"_6e_z",dateRestraints:this.getCalendarDateRestraints(),focusDate:this.state.focusedDate,highlightedDates:[this.today],selectDate:this.state.selectedDate,onFocusDateChange:this.handleFocusDate,onSelectDateChange:this.handleSelectDate,weeklyView:!0})};a.prototype.renderSingleItem=function(a,c){var d=this.state.selectedDate,e=Math.floor(a/60);a=a%60;d=new(b("LocalDateTime"))(d.getYear(),d.getMonth(),d.getDayOfMonth(),e,a,0);e=b("LocalDateTime").now(this.props.timeZoneID);a=d.isAfterOrEqual(e);e=this.getTimeValue(d);e=this.state.selectedTimeSet.has(e);return b("React").createElement(b("ServicesAppointmentAvailabilitySelectorDialogButton.react"),{handleTimeClicked:this.handleTimeClicked,isSelected:e,isNotValidTime:!a,key:c,timeItem:d})};a.prototype.renderAvailability=function(){var a=null,c=null,d=this.getTimeRows();d&&(a=b("React").createElement("div",{className:"_6e_-"},d.map(function(a,c){return b("React").createElement("div",{className:"_6e__ _3-95",key:c},a.map(function(a,b){return this.renderSingleItem(a,b)}.bind(this)))}.bind(this))),c=this.renderTimezoneMessage());d=this.state.selectedDate.format("l, F j");return b("React").createElement("div",null,b("React").createElement(b("ServicesUIText.react"),{className:"_3-97 _3-8- _3-9b",display:"block",shade:"light"},d),a,c)};a.prototype.renderTimezoneMessage=function(){var a=b("getTimezoneAbbreviation")(this.state.selectedDate.toDateTime(this.props.timeZoneID));return b("React").createElement(b("ServicesUIText.react"),{className:"_3-97 _3-8- _3-9b",display:"block",shade:"light",size:"small"},h._("All times are in {page_timezone_name}",[h._param("page_timezone_name",a)]))};a.prototype.renderSpinner=function(){return this.state.isSubmitting?b("React").createElement(b("ServicesUISpinner.react"),{className:"_3-8_"}):null};a.prototype.render=function(){return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow")},hideOnEscape:!0,layerHideOnBlur:!1,onToggle:this.onToggle,shown:this.props.shown,useCustomPadding:!0,width:j},b("React").createElement(b("XUIDialogTitle.react"),null,"Select Availability"),b("React").createElement(b("XUIDialogBody.react"),null,this.renderCalendar(),this.renderAvailability()),b("React").createElement(b("XUIDialogFooter.react"),null,this.renderSpinner(),b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",disabled:this.state.selectedTimeSet.size===0||this.state.isSubmitting,label:h._("Send Availability"),onClick:this.onClickConfirm,use:"confirm"})))};e.exports=a}),null);
__d("ServicesAppointmentAvailabilitySelectorQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1750235785054798"};c.getQueryID=function(){"use strict";return"2065300876873792"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("ServicesAppointmentBadgeSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"1539085379547896",queryID:"168979213781788"})}),null);
__d("ServicesAppointmentBadgeSubscription",["BaseGraphQLSubscription","ServicesAppointmentBadgeSubscriptionWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){a=babelHelpers["extends"]({},b("BaseGraphQLSubscription"),{_getTopic:function(a){return"gqls/services_appointment_badge_subscribe/page_id_"+a.page_id+"_user_id_"+a.user_id},_getQueryID:function(){return b("ServicesAppointmentBadgeSubscriptionWebGraphQLSubscription").getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:b("uuid")(),page_id:a.page_id,user_id:a.user_id})}},_getSubscriptionCallName:function(){return"services_appointment_badge_subscribe"},getSubscriptionCallName:function(){return this._getSubscriptionCallName()}});e.exports=a}),null);
__d("ServicesAppointmentCalendarActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({APPOINTMENT_CALENDAR_ADD_UNSEEN_REQUEST:null,APPOINTMENT_CALENDAR_DECREMENT_TOTAL_UNSEEN_REQUEST:null,APPOINTMENT_CALENDAR_FINISH_CALENDAR_REFETCH:null,APPOINTMENT_CALENDAR_FINISH_REQUESTS_TRAY_REFETCH:null,APPOINTMENT_CALENDAR_FORCE_CALENDAR_REFETCH:null,APPOINTMENT_CALENDAR_FORCE_REQUESTS_TRAY_REFETCH:null,APPOINTMENT_CALENDAR_INIT:null,APPOINTMENT_CALENDAR_OPEN_MESSENGER_SIDEBAR:null,APPOINTMENT_CALENDAR_REMOVE_UNSEEN_REQUEST:null,APPOINTMENT_CALENDAR_SET_MONTH_TO_DISPLAY:null,APPOINTMENT_CALENDAR_SET_TIMELINE_START_DATE:null,APPOINTMENT_CALENDAR_SET_TIME_ZONE:null,APPOINTMENT_CALENDAR_SET_TOTAL_UNSEEN_REQUEST:null,APPOINTMENT_CALENDAR_TOGGLE_MANUAL_CREATE_DIALOG:null,APPOINTMENT_CALENDAR_UPDATE_UNREAD_THREADS:null});e.exports=a}),null);
__d("ServicesAppointmentCalendarStore",["invariant","DateTime","FluxReduceStore","immutable","ServicesCTAUnificationDispatcher","ServicesDateTimeUtils","ServicesLoadingStatusEnum","ServicesAppointmentCalendarActionTypes"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;c=b("ServicesLoadingStatusEnum").NONE;var j=b("ServicesLoadingStatusEnum").LOADING,k=b("ServicesLoadingStatusEnum").LOADED,l=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_ADD_UNSEEN_REQUEST,m=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_DECREMENT_TOTAL_UNSEEN_REQUEST,n=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FINISH_CALENDAR_REFETCH,o=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FINISH_REQUESTS_TRAY_REFETCH,p=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FORCE_CALENDAR_REFETCH,q=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FORCE_REQUESTS_TRAY_REFETCH,r=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_INIT,s=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_OPEN_MESSENGER_SIDEBAR,t=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_REMOVE_UNSEEN_REQUEST,u=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_MONTH_TO_DISPLAY,v=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_TIMELINE_START_DATE,w=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_TIME_ZONE,x=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_TOTAL_UNSEEN_REQUEST,y=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_TOGGLE_MANUAL_CREATE_DIALOG,z=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_UPDATE_UNREAD_THREADS,A=400;h=babelHelpers.inherits(B,b("immutable").Record({calendarRefetchingStatus:c,isInitialized:!1,isSidebarOpen:!1,monthToDisplay:null,requestsTrayRefetchingStatus:c,showManualCreateDialog:!1,showTimeZoneWarning:!0,startTime:null,timelineStartDate:null,timeZoneID:null,totalUnseenRequestsCount:0,unseenRequests:b("immutable").Set(),userIDsWithUnreadMessages:b("immutable").Map()}));h&&h.prototype;function B(){h.apply(this,arguments)}i=babelHelpers.inherits(a,b("FluxReduceStore"));i&&i.prototype;a.prototype.getInitialState=function(){return new B()};a.prototype.reduce=function(a,c){__p&&__p();var d=c.payload;switch(c.type){case r:return a.set("isInitialized",!0);case s:return a.set("isSidebarOpen",d.shouldOpen);case u:return a.set("monthToDisplay",d.monthToDisplay);case v:return a.set("timelineStartDate",d.timelineStartDate);case w:d.timeZoneID||g(0);return a.set("showTimeZoneWarning",d.showTimeZoneWarning).set("timeZoneID",d.timeZoneID);case l:return a.set("unseenRequests",a.unseenRequests.add(d.requestID));case t:return a.set("unseenRequests",a.unseenRequests["delete"](d.requestID));case m:c=a.totalUnseenRequestsCount;c>0||g(0);return a.set("totalUnseenRequestsCount",c-1);case x:return a.set("totalUnseenRequestsCount",d.count);case z:return!d.userIDsWithUnreadMessages?a.set("userIDsWithUnreadMessages",b("immutable").Map()):a.set("userIDsWithUnreadMessages",b("immutable").Map(d.userIDsWithUnreadMessages));case p:return a.set("calendarRefetchingStatus",j);case q:return a.set("requestsTrayRefetchingStatus",j);case n:return a.set("calendarRefetchingStatus",k);case o:return a.set("requestsTrayRefetchingStatus",k);case y:return a.set("showManualCreateDialog",d.showManualCreateDialog).set("startTime",d.startTime||null);default:return a}};a.prototype.isInitialized=function(){return this.getState().isInitialized};a.prototype.isSidebarOpen=function(){return this.getState().isSidebarOpen};a.prototype.getUserIDsWithUnreadMessages=function(){return this.getState().userIDsWithUnreadMessages};a.prototype.getTransitionDuration=function(){return A};a.prototype.getShowTimeZoneWarning=function(){return this.getState().showTimeZoneWarning};a.prototype.getTimeZoneID=function(){return this.getState().timeZoneID};a.prototype.getTodayStartDate=function(){return b("ServicesDateTimeUtils").todayStartDate(this.getTimeZoneID())};a.prototype.getMonthToDisplay=function(){return this.getState().monthToDisplay};a.prototype.getTimelineStartDate=function(){return this.getState().timelineStartDate};a.prototype.getUnseenRequests=function(){return this.getState().unseenRequests};a.prototype.getTotalUnseenRequestsCount=function(){return this.getState().totalUnseenRequestsCount};a.prototype.isRefetching=function(){var a=this.getState();return a.calendarRefetchingStatus===j||a.requestsTrayRefetchingStatus===j};a.prototype.getCalendarRefetchingStatus=function(){return this.getState().calendarRefetchingStatus};a.prototype.getRequestsTrayRefetchingStatus=function(){return this.getState().requestsTrayRefetchingStatus};a.prototype.getShowManualCreateDialog=function(){return this.getState().showManualCreateDialog};a.prototype.getStartTime=function(){return this.getState().startTime};function a(){i.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("ServicesCTAUnificationDispatcher"))}),null);
__d("ServicesAppointmentComposerBadgeQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2010149712360694"};c.getQueryID=function(){"use strict";return"400245857143149"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1687920431245100"};c.getQueryID=function(){"use strict";return"184933352139512"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("PagesPlatformNativeBookingAppointmentType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BLOCKER:"blocker",FOR_FB_USER:"for_fb_user",FOR_FB_USER_REMINDER:"for_fb_user_reminder",FOR_EXTERNAL_USER:"for_external_user"})}),null);
__d("ServicesAppointmentReadStatusForUserQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1808230882568993"};c.getQueryID=function(){"use strict";return"1964286520552471"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("ServicesAppointmentCalendarActions",["Promise","DateTime","PagesEventObserver","PagesEventType","PagesManagerAction","ServicesAppointmentCalendarActionTypes","ServicesAppointmentCalendarStore","ServicesAppointmentMutationUtils","ServicesAppointmentReadStatusForUserQueryWebGraphQLQuery","ServicesCTAUnificationDispatcher","ServicesDateTimeUtils","Timezone","WebGraphQL","promiseDone","RulesTimezoneTransitionProvider","TimezoneRulesFrom2009","TimezoneNamesData"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesEventType").SERVICES_APPT_CALENDAR_LOADING_TIME_ZONE,h=b("PagesEventType").SERVICES_APPT_CALENDAR_SUCCESS_LOADED_TIME_ZONE,i=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_ADD_UNSEEN_REQUEST,j=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_DECREMENT_TOTAL_UNSEEN_REQUEST,k=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FINISH_CALENDAR_REFETCH,l=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FINISH_REQUESTS_TRAY_REFETCH,m=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FORCE_CALENDAR_REFETCH,n=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FORCE_REQUESTS_TRAY_REFETCH,o=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_INIT,p=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_OPEN_MESSENGER_SIDEBAR,q=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_REMOVE_UNSEEN_REQUEST,r=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_MONTH_TO_DISPLAY,s=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_TIME_ZONE,t=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_TIMELINE_START_DATE,u=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_TOTAL_UNSEEN_REQUEST,v=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_TOGGLE_MANUAL_CREATE_DIALOG,w=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_UPDATE_UNREAD_THREADS;b("Timezone").registerRulesModule(b("RulesTimezoneTransitionProvider"),b("TimezoneRulesFrom2009"));b("Timezone").registerNamesModule(b("TimezoneNamesData"));b("Timezone").toggleTransitionProvider("rules",!0);a={init:function(a){__p&&__p();var c=a.pageID;a=a.timeZoneName;b("PagesEventObserver").notify(g,c,{timeZoneName:a});var d=b("ServicesDateTimeUtils").getTimezoneByNameOrNull(a),e;!d?(d=b("ServicesDateTimeUtils").getDefaultTimeZoneID(),e=!0):e=d!==b("Timezone").getEnvironmentTimezoneID();b("PagesEventObserver").notify(h,c,{timeZoneID:d,timeZoneName:a});b("ServicesCTAUnificationDispatcher").dispatch({type:s,payload:{showTimeZoneWarning:e,timeZoneID:d}});c=b("ServicesDateTimeUtils").todayStartDate(d);this.setMonthToDisplay(c);this.setTimelineStartDate(c);b("ServicesCTAUnificationDispatcher").dispatch({type:o,payload:{}})},setMonthToDisplay:function(a){b("ServicesCTAUnificationDispatcher").dispatch({type:r,payload:{monthToDisplay:a}})},setTimelineStartDate:function(a){b("ServicesCTAUnificationDispatcher").dispatch({type:t,payload:{timelineStartDate:a}})},toggleMessengerSidebarShouldOpen:function(a){a||setTimeout(function(){b("PagesManagerAction").clearViewListItem()},b("ServicesAppointmentCalendarStore").getTransitionDuration()),b("ServicesCTAUnificationDispatcher").dispatch({type:p,payload:{shouldOpen:a}})},updateUnreadThreadsForUsers:function(a,c){__p&&__p();var d=new Map(b("ServicesAppointmentCalendarStore").getUserIDsWithUnreadMessages());for(var c=c,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesAppointmentReadStatusForUserQueryWebGraphQLQuery"))({page_id:a,user_id:g}),{actorID:a,batchName:null}),function(a){__p&&__p();a=((a=a)!=null?(a=a.page)!=null?(a=a.page_comm_items)!=null?a.nodes:a:a:a)||[];a.forEach(function(a,b){if(a){b=a.target_id;var c=a.id;a=a.is_read;if(!b||!c||a==null)return;!a?d.set(b,c):d["delete"](b)}});this.updateUnreadThreads(d)}.bind(this))}},updateUnreadThreads:function(a){b("ServicesCTAUnificationDispatcher").dispatch({type:w,payload:{userIDsWithUnreadMessages:a}})},addUnseenRequest:function(a){if(!a)return;var c=b("ServicesAppointmentCalendarStore").getUnseenRequests();c.has(a)||b("ServicesCTAUnificationDispatcher").dispatch({type:i,payload:{requestID:a}})},removeUnseenRequest:function(a){__p&&__p();var c=a.pageID,d=a.requestID;a=a.referrer;if(!d)return new(b("Promise"))(function(a,b){return a()});var e=b("ServicesAppointmentCalendarStore").getUnseenRequests();if(e.has(d)){e=b("ServicesAppointmentMutationUtils").markAsSeen({pageID:c,requestID:d,referrer:a});b("ServicesCTAUnificationDispatcher").dispatch({type:q,payload:{requestID:d}});b("ServicesCTAUnificationDispatcher").dispatch({type:j,payload:{}});return e}return new(b("Promise"))(function(a,b){return a()})},setTotalUnseenRequestCount:function(a){b("ServicesCTAUnificationDispatcher").dispatch({type:u,payload:{count:a||0}})},forceCalendarRefetch:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:m})},forceRequestsTrayRefetch:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:n})},finishCalendarRefetch:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:k})},finishRequestsTrayRefetch:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:l})},showManualCreateDialog:function(a){b("ServicesCTAUnificationDispatcher").dispatch({type:v,payload:{showManualCreateDialog:!0,startTime:a}})},hideManualCreateDialog:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:v,payload:{showManualCreateDialog:!1,startTime:null}})}};e.exports=a}),null);
__d("ServicesAppointmentCalendarUtils",["MercuryIDs","PagesManagerAction","PagesManagerInboxMercuryUtil","PagesManagerStore","ServicesAppointmentCalendarActions","ServicesAppointmentCalendarStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={openMessengerSidebar:function(a,c){a=b("PagesManagerInboxMercuryUtil").shouldUseMercury()?a:c;c=b("PagesManagerStore").getViewingListItem()!==null&&b("PagesManagerStore").getViewingListItem()===a;var d=b("ServicesAppointmentCalendarStore").isSidebarOpen();!d?(b("ServicesAppointmentCalendarActions").toggleMessengerSidebarShouldOpen(!0),b("PagesManagerAction").viewListItem(""+a)):d&&!c&&b("PagesManagerAction").viewListItem(""+a)},closeMessengerSidebar:function(){b("ServicesAppointmentCalendarActions").toggleMessengerSidebarShouldOpen(!1)},threadlistDidUpdate:function(a,c){var d=[];Object.keys(c).forEach(function(a){a=b("MercuryIDs").getUserIDFromThreadID(a);a&&d.push(a)});b("ServicesAppointmentCalendarActions").updateUnreadThreadsForUsers(a,d)},updateUserIDsWithUnreadMessages:function(a){__p&&__p();var c=new Map();a.forEach(function(a){var b;b=(b=a)!=null?(b=b.pageCommItem)!=null?b.is_read:b:b;if(b!==null&&!b){b=(b=a)!=null?(b=b.user)!=null?b.id:b:b;a=(a=a)!=null?(a=a.pageCommItem)!=null?a.id:a:a;b&&a&&c.set(b,a)}});b("ServicesAppointmentCalendarActions").updateUnreadThreads(c)}};e.exports=a}),null);
__d("ServicesAppointmentDialogButtonTexts",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Approve");b=g._("Archive");c=g._("Archive Request");d=g._("Back");f=g._("Cancel Appointment");var h=g._("Confirm Appointment"),i=g._("Confirm Changes"),j=g._("Create Appointment"),k=g._("Decline Appointment"),l=g._("Delete"),m=g._("Done"),n=g._("Edit"),o=g._("Save"),p=g._("Schedule");g=g._("Schedule Appointment");e.exports={APPROVE:a,ARCHIVE:b,ARCHIVE_REQUEST:c,BACK:d,CANCEL_APPOINTMENT:f,CONFIRM_APPOINTMENT:h,CONFIRM_CHANGES:i,CREATE_APPOINTMENT:j,DECLINE_APPOINTMENT:k,DELETE:l,DONE:m,EDIT:n,SCHEDULE:p,SCHEDULE_APPOINTMENT:g,SAVE:o}}),null);
__d("ServicesUIDialogButton.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.altColorScheme,d=a.children,e=a.className,f=a.disabled,g=a.onClick;a=babelHelpers.objectWithoutProperties(a,["altColorScheme","children","className","disabled","onClick"]);c="_3324"+(c==="blue"?" _3325":"")+(f?" _3326":"");return b("React").createElement("button",babelHelpers["extends"]({className:b("joinClasses")(e,c),disabled:f,onClick:g},a),d)};function a(){h.apply(this,arguments)}a.defaultProps={altColorScheme:"none",disabled:!1};e.exports=a}),null);
__d("ServicesAppointmentDialogFooter.react",["cx","Layout.react","PagesPlatformNativeBookingGraphQLStatus","React","ServicesUIDialogButton.react","ServicesAppointmentDialogButtonTexts","ServicesAppointmentManagementDialogEnum","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("ServicesAppointmentDialogButtonTexts").APPROVE,j=b("ServicesAppointmentDialogButtonTexts").ARCHIVE;b("ServicesAppointmentDialogButtonTexts").ARCHIVE_REQUEST;var k=b("ServicesAppointmentDialogButtonTexts").BACK,l=b("ServicesAppointmentDialogButtonTexts").CANCEL_APPOINTMENT;b("ServicesAppointmentDialogButtonTexts").CONFIRM_CHANGES;var m=b("ServicesAppointmentDialogButtonTexts").CREATE_APPOINTMENT,n=b("ServicesAppointmentDialogButtonTexts").DECLINE_APPOINTMENT,o=b("ServicesAppointmentDialogButtonTexts").DELETE,p=b("ServicesAppointmentDialogButtonTexts").EDIT,q=b("ServicesAppointmentDialogButtonTexts").DONE,r=b("ServicesAppointmentDialogButtonTexts").SCHEDULE,s=b("ServicesAppointmentDialogButtonTexts").SAVE,t=b("Layout.react").FillColumn;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.countChildren=function(a){if(!a)return 0;a=b("React").Children.map(a.props.children,function(a){if(!a)return;return a});a=a?b("React").Children.count(a):0;return a};a.prototype.renderButton=function(a,c){var d=a.buttonColor,e=a.className,f=a.disabledMain,g=a.text;if(a.shown===!1)return null;return d==="blue"?b("React").createElement(b("ServicesUIDialogButton.react"),{altColorScheme:"blue",className:b("joinClasses")("_o_5",e),disabled:this.props.disabled||f,onClick:c},g):b("React").createElement(b("ServicesUIDialogButton.react"),{className:b("joinClasses")("_o_5",e),disabled:this.props.disabled,onClick:c},g)};a.prototype.renderArchiveButton=function(a){return this.renderButton(a,this.props.onClickArchive)};a.prototype.renderCreateButton=function(a){return this.renderButton(a,this.props.onClickCreate)};a.prototype.renderApproveButton=function(a){return this.renderButton(a,this.props.onClickApprove)};a.prototype.renderBackButton=function(a){return this.renderButton(a,this.props.onClickBack)};a.prototype.renderEditButton=function(a){return this.renderButton(a,this.props.onClickEdit)};a.prototype.renderCancelButton=function(a){return this.renderButton(a,this.props.onClickCancel)};a.prototype.renderDeleteButton=function(a){return this.renderButton(a,this.props.onClickDelete)};a.prototype.renderSaveButton=function(a){return this.renderButton(a,this.props.onClickSave)};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.dialogType;a=a.isPastAppointment;var d;switch(c){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:d=b("React").createElement(b("React").Fragment,null,this.renderCreateButton({buttonColor:"blue",disabledMain:this.props.disabledMain,text:r}),this.renderArchiveButton({text:j}));break;case b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:case b("ServicesAppointmentManagementDialogEnum").EDIT:switch(this.props.bookingStatus){case b("PagesPlatformNativeBookingGraphQLStatus").REQUESTED:d=b("React").createElement(b("React").Fragment,null,this.renderSaveButton({buttonColor:"blue",disabledMain:this.props.disabledMain,text:r}));break;case b("PagesPlatformNativeBookingGraphQLStatus").CONFIRMED:d=b("React").createElement(b("React").Fragment,null,this.renderSaveButton({buttonColor:"blue",disabledMain:this.props.disabledMain,text:s}));break}break;case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:d=b("React").createElement(b("React").Fragment,null,this.renderCreateButton({buttonColor:"blue",disabledMain:this.props.disabledMain,text:m}));break;case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:switch(this.props.bookingStatus){case b("PagesPlatformNativeBookingGraphQLStatus").REQUESTED:d=b("React").createElement(b("React").Fragment,null,this.renderApproveButton({buttonColor:"blue",shown:!a,text:i}),this.renderEditButton({text:p}),this.renderArchiveButton({text:j}));break;case b("PagesPlatformNativeBookingGraphQLStatus").CONFIRMED:if(!a){d=b("React").createElement(b("React").Fragment,null,this.renderEditButton({text:p}),this.renderCancelButton({text:l}));break}case b("PagesPlatformNativeBookingGraphQLStatus").CANCELLED:d=b("React").createElement(b("React").Fragment,null,this.renderSaveButton({text:q}));break;default:return null}break;case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:d=b("React").createElement(b("React").Fragment,null,this.renderEditButton({text:p}),this.renderDeleteButton({text:o}));break;case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:d=b("React").createElement(b("React").Fragment,null,this.renderBackButton({text:k}),this.renderCancelButton({text:l}));break;case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:d=b("React").createElement(b("React").Fragment,null,this.renderCancelButton({text:n}));break;default:return null}c=this.countChildren(d);return b("React").createElement(b("Layout.react"),{className:"_2pi9 _2pi4"},b("React").createElement(t,{className:(c===3?"_3ttp":"")+(c===2?" _3ttq":"")+(c===1?" _3tx6":"")},d))};function a(){h.apply(this,arguments)}a.defaultProps={isPastAppointment:!1,disabled:!1,disabledMain:!1};e.exports=a}),null);
__d("ServicesAppointmentDialogFootnote.react",["cx","fbt","Layout.react","React","ServicesAppointmentManagementDialogEnum"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Layout.react").FillColumn;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a;switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:a=h._("When you schedule an appointment, people get an automatic reminder before their appointment.");break;case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:a=h._("This time won't be available for others to book on Facebook. Appointment messages (like reminders) are only sent to people who book on Facebook.");break;default:return null}return b("React").createElement(b("Layout.react"),{className:this.props.className},b("React").createElement(j,null,b("React").createElement("div",{className:"_4719"},a)))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("ServicesAppointmentDialogNotesSection.react",["cx","fbt","AbstractTextArea.react","PagesPlatformNativeBookingGraphQLStatus","React","ServicesAppointmentManagementDialogEnum","ServicesWordingUtils","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ServicesWordingUtils").ADMIN_CANCEL_NOTES_PLACEHOLDER,k=b("ServicesWordingUtils").ADMIN_DECLINE_NOTES_PLACEHOLDER,l=b("ServicesWordingUtils").ADMIN_PRIVATE_NOTES_PLACEHOLDER,m=b("ServicesWordingUtils").ADMIN_PRIVATE_NOTES_TEXT_AREA_TITLE,n=b("ServicesWordingUtils").CUSTOMER_NOTES_TEXT_AREA_TITLE,o=b("ServicesWordingUtils").ServicesWordingUtils;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.renderNotes=function(a){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIText.react"),{className:"_3dxo _3-94",display:"block",size:"meta1"},a.title),b("React").createElement(b("AbstractTextArea.react"),{className:"_3dxp",classNames:{root:"_58ak",empty:b("joinClasses")("_3ct8","_35m_")},defaultValue:a.defaultValue,disabled:a.disabled,onChange:a.onChange,placeholder:a.placeholder}))};a.prototype.renderCustomerNotes=function(){var a={defaultValue:this.props.customerNotes,disabled:this.props.disabled,onChange:this.props.handleCustomerNotesChange,placeholder:o.getCustomerNotesPlaceholder(this.props.userName),title:n};return this.renderNotes(a)};a.prototype.renderAdminPrivateNotes=function(){var a={defaultValue:this.props.privateNotes,disabled:this.props.disabled,onChange:this.props.handlePrivateNotesChange,placeholder:l,title:m};return this.renderNotes(a)};a.prototype.renderAdminCancelNotes=function(){var a={defaultValue:this.props.cancelNotes,disabled:this.props.disabled,onChange:this.props.handleCancelNotesChange,placeholder:j,title:h._("Message")};return this.renderNotes(a)};a.prototype.renderAdminDeclineNotes=function(){var a={defaultValue:this.props.cancelNotes,disabled:this.props.disabled,onChange:this.props.handleCancelNotesChange,placeholder:k,title:h._("Message")};return this.renderNotes(a)};a.prototype.render=function(){switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:return this.renderCustomerNotes();case b("ServicesAppointmentManagementDialogEnum").EDIT:return this.props.isManualCreation?this.renderAdminPrivateNotes():this.renderCustomerNotes();case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:return this.renderAdminPrivateNotes();case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:return this.props.bookingStatus===b("PagesPlatformNativeBookingGraphQLStatus").REQUESTED?this.renderCustomerNotes():this.renderAdminPrivateNotes();case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:return this.renderAdminCancelNotes();case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:return this.renderAdminDeclineNotes()}return null};function a(){i.apply(this,arguments)}a.defaultProps={disabled:!1,isManualCreation:!1};e.exports=a}),null);
__d("ServicesUIMessengerButton.react",["cx","fbt","invariant","React","XUIButton.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=h._("Message");c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.handleClick=function(){var a=this.props,b=a.onClick,c=a.userID;a=a.threadID;b(c,a)}.bind(this),b}a.prototype.getButtonLabel=function(){return this.props.label||k};a.prototype.renderMessengerButton=function(){var a=this.props,c=a.className,d=a.label;a=a.showDefaultLabel;!!d&&a&&i(0);d=!(d||a);return b("React").createElement(b("XUIButton.react"),{className:c,disabled:this.props.disabled,image:b("React").createElement("span",{className:"_16sy"}),label:this.getButtonLabel(),labelIsHidden:d,onClick:this.handleClick,size:"large",use:"default"})};a.prototype.renderMessengerButtonBadgeIcon=function(){return this.props.withBadge?b("React").createElement("div",{className:"_16sz"}):null};a.prototype.render=function(){return b("React").createElement("div",{className:"_16s-"},this.renderMessengerButton(),this.renderMessengerButtonBadgeIcon())};a.defaultProps={disabled:!1,showDefaultLabel:!1};e.exports=a}),null);
__d("ServicesAppointmentDialogUserHeader.react",["ix","cx","fbt","Image.react","Layout.react","LineClamp.react","React","ServicesAppointmentManagementDialogEnum","ServicesDateTimeUtils","ServicesUIMessengerButton.react","ServicesWordingUtils","SUIBorderUtils","SUIBusinessTheme","SUITextInput.react","XUIGrayText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ServicesWordingUtils").ERROR_MESSAGE_MANUAL_CREATE,l=b("Layout.react").Column,m=b("Layout.react").FillColumn,n={withinWeek:"l g:ia",older:"l, F j"},o=function(a){return b("React").createElement(b("Layout.react"),{className:"_o5r _2ph_"},b("React").createElement(l,null,b("React").createElement("div",{className:"_o5s _66cc"},b("React").createElement(b("Image.react"),{src:g("363458")}))),a.children)};c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={showErrorManualCreate:!1},b}a.getDerivedStateFromProps=function(a,c){return{showErrorManualCreate:a.dialogType===b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE&&a.appointmentTitle===""}};a.prototype.renderUserName=function(){var a,c;c=(c=this.props)!=null?(c=c.appointment)!=null?c.consumer_name:c:c;a=(a=this.props)!=null?(a=a.user)!=null?a.name:a:a;return!c&&!a?null:b("React").createElement(b("XUIGrayText.react"),{className:"_o5p",display:"block",shade:"medium",size:"header4",weight:"bold"},b("React").createElement(b("LineClamp.react"),{lines:1},c||a))};a.prototype.renderRequestedTime=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.requested_time:a:a;if(!a)return null;var c=b("ServicesDateTimeUtils").getDefaultTimeZoneID();a=b("ServicesDateTimeUtils").formatTimestampInTimeZone(a,c,n);return b("React").createElement(b("XUIGrayText.react"),{shade:"light"},i._("Requested: {relativeTime}",[i._param("relativeTime",a)]))};a.prototype.renderMessengerButton=function(){var a;a=(a=this.props)!=null?(a=a.user)!=null?a.id:a:a;var c=this.props.threadID;return!this.props.showMessengerButton||!a||!c?null:b("React").createElement(b("ServicesUIMessengerButton.react"),{className:"_3-9a",disabled:this.props.disabled,onClick:this.props.onClickMessenger,threadID:c,userID:a})};a.prototype.renderUserHeader=function(){var a;return b("React").createElement(b("Layout.react"),{className:"_o5r _2ph_"},b("React").createElement(l,null,b("React").createElement(b("Image.react"),{className:"_o5s",src:(a=this.props)!=null?(a=a.user)!=null?(a=a.profile_picture)!=null?a.uri:a:a:a})),b("React").createElement(m,{className:"_o5t _2pis"},this.renderUserName(),this.renderRequestedTime()),b("React").createElement(l,{className:"_o5w"},this.renderMessengerButton()))};a.prototype.renderViewDetailsManualCreateHeader=function(){return b("React").createElement(o,null,b("React").createElement(m,{className:"_o5t _2pis"},this.renderUserName()))};a.prototype.renderManualCreateAppointmentHeader=function(){var a=null;switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:a=i._("Appointment name (required)");break;case b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:a=i._("Reminder name (optional)");break}var c=this.state.showErrorManualCreate?k:null,d=this.state.showErrorManualCreate?b("SUIBorderUtils").ALL_SIDES:[];return b("React").createElement(o,null,b("React").createElement(m,{className:"_o5t _2pis"},b("React").createElement(b("SUITextInput.react"),{borderedSides:d,disabled:this.props.disabled,errorMessage:c,maxLength:80,onChange:this.props.handleAppointmentTitleChange,placeholder:a,theme:b("SUIBusinessTheme"),value:this.props.appointmentTitle})))};a.prototype.render=function(){var a=this.props.dialogType;switch(a){case b("ServicesAppointmentManagementDialogEnum").EDIT:a=(a=this.props)!=null?(a=a.appointment)!=null?a.consumer_name:a:a;if(!a)break;case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:case b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:return this.renderManualCreateAppointmentHeader();case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:return this.renderViewDetailsManualCreateHeader()}return this.renderUserHeader()};a.defaultProps={disabled:!1,showMessengerButton:!0};e.exports=a}),null);
__d("ServicesAppointmentDateTimeRangePicker.react",["ix","cx","fbt","invariant","AbstractDateTimePicker.react","BUIDatePicker.react","BUITimeInput.react","BUITimezoneLabel.react","DateTime","Image.react","Link.react","LocalDate","LocalDateTime","React","TimeOfDay","Timezone","XUIText.react","asset","getTimezoneAbbreviation","nullthrows","ServicesWordingUtils"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("Timezone").getEnvironmentTimezoneID,m=b("Timezone").UTC,n=b("ServicesWordingUtils").ERROR_END_TIME,o=b("ServicesWordingUtils").ERROR_START_TIME;c=babelHelpers.inherits(a,b("React").Component);k=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.state={showUntil:!1,validEndTime:!0,validStartTime:!0},this.handleStartChange=function(a){a||j(0),this.props.onDateTimeRangeChange(babelHelpers["extends"]({},this.props.value,{start:a}))}.bind(this),this.handleEndChange=function(a){var b;((b=this.props)!=null?(b=b.value)!=null?b.start:b:b)||j(0);this.props.onDateTimeRangeChange(babelHelpers["extends"]({},this.props.value,{end:a}))}.bind(this),this.onClickShowUntilTimeInput=function(){var a,c;c=(c=this.props)!=null?(c=c.value)!=null?c.start:c:c;a=(a=this.props)!=null?(a=a.value)!=null?a.end:a:a;!a&&c&&(a=this.props.duration?c.addSeconds(this.props.duration):c.addMinutes(30));this.props.onDateTimeRangeChange(babelHelpers["extends"]({},this.props.value,{end:b("nullthrows")(a)}))}.bind(this),this.onClickHideUntilTimeInput=function(){if(this.props.disabled)return;this.handleEndChange(null)}.bind(this),c}a.prototype.UNSAFE_componentWillReceiveProps=function(a){var b;((b=a)!=null?(b=b.value)!=null?b.start:b:b)||j(0);this.setState({showUntil:a.value&&!!a.value.end||!!a.duration});this.areValuesEqual(this.props.value,a.value)&&this.updateValidityState(a)};a.prototype.isDateAfterOrEqualToday=function(a){var c=b("LocalDate").today(this.getTimeZoneID());a=this.convertLocalDateTimeToLocalDate(a);return!a?!0:a.isAfterOrEqual(c)};a.prototype.updateValidityState=function(a){__p&&__p();var c,d=b("LocalDateTime").now(this.getTimeZoneID());c=(c=a)!=null?(c=c.value)!=null?c.start:c:c;if(!c)return;d=c.isAfterOrEqual(d);d!==this.state.validStartTime&&this.setState({validStartTime:d});a=(d=a)!=null?(d=d.value)!=null?d.end:d:d;if(!a)return;d=a.isAfterOrEqual(c);d!==this.state.validEndTime&&this.setState({validEndTime:d})};a.prototype.areValuesEqual=function(a,b){if(!a&&!b)return!0;return!a||!b?!1:a.start.equals(b.start)&&(!a.end&&!b.end||!!a.end&&!!b.end&&a.end.equals(b.end))};a.prototype.convertLocalDateTimeToLocalDate=function(a){return!a?null:new(b("LocalDate"))(a.getYear(),a.getMonth(),a.getDayOfMonth())};a.prototype.getTimeZoneID=function(){return this.props.timeZoneID||l()||m};a.prototype.renderTimeZoneLabel=function(a){a=b("getTimezoneAbbreviation")(b("DateTime").now(a));return b("React").createElement("div",{className:"_1ttp _3-8w"},b("React").createElement(b("BUITimezoneLabel.react"),{value:a}))};a.prototype.renderDeleteIcon=function(){return b("React").createElement("span",{className:"_4vsw _3-9b _3-8w"},b("React").createElement(b("Image.react"),{className:"_4vsy",onClick:this.onClickHideUntilTimeInput,src:g("384241")}))};a.prototype.renderDatePicker=function(a,c){var d=this.convertLocalDateTimeToLocalDate(a),e=b("LocalDate").today(this.getTimeZoneID()),f;c==="start"&&(!this.state.validStartTime&&!this.isDateAfterOrEqualToday(a)&&(f=o));c==="start"?a=[function(a){return a.isAfterOrEqual(e)}]:a=[function(a){return a.isAfterOrEqual(this.convertLocalDateTimeToLocalDate((a=this.props)!=null?(a=a.value)!=null?a.start:a:a))}.bind(this)];return b("React").createElement(b("BUIDatePicker.react"),{className:"_1u3- _3-91",dateRestraints:a,value:d,xuiError:f})};a.prototype.renderTimePicker=function(a,c){var d=new(b("TimeOfDay"))(a.getHours(),a.getMinutes(),0),e;c==="start"?!this.state.validStartTime&&this.isDateAfterOrEqualToday(a)&&(e=o):e=this.state.validEndTime?null:n;return b("React").createElement(b("BUITimeInput.react"),{className:"_1u3-",value:d,xuiError:e})};a.prototype.renderUntilTimeInput=function(){var a;a=(a=this.props)!=null?(a=a.value)!=null?a.end:a:a;if(this.state.showUntil&&a){var c=this.getTimeZoneID();return b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{display:"block",size:"meta1",className:"_1u42 _3-94"},i._("Ends")),b("React").createElement(b("AbstractDateTimePicker.react"),{datePicker:this.renderDatePicker(a,"end"),disabled:this.props.disabled,onChange:this.handleEndChange,style:{display:"inline-block"},timeInput:this.renderTimePicker(a,"end"),timezoneID:c,timezoneLabel:this.renderTimeZoneLabel(c),value:a}),this.renderDeleteIcon())}return b("React").createElement(b("Link.react"),{onClick:this.onClickShowUntilTimeInput},i._("+ End Time"))};a.prototype.render=function(){var a;a=(a=this.props)!=null?(a=a.value)!=null?a.start:a:a;if(!a)return null;var c=this.getTimeZoneID();return b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{display:"block",size:"meta1",className:"_1u42 _3-94"},i._("Starts")),b("React").createElement(b("AbstractDateTimePicker.react"),{datePicker:this.renderDatePicker(a,"start"),disabled:this.props.disabled,onChange:this.handleStartChange,style:{display:"inline-block"},timeInput:this.renderTimePicker(a,"start"),timezoneID:c,timezoneLabel:this.renderTimeZoneLabel(c),value:a}),b("React").createElement("div",{className:"_3-8y _3-8w"},this.renderUntilTimeInput()))};a.defaultProps={disabled:!1};e.exports=a}),null);
__d("ServicesAppointmentServiceDateTimePicker.react",["cx","fbt","invariant","Layout.react","LocalDateTime","PagesCatalogItemsSelector.react","React","ServicesAppointmentDateTimeRangePicker.react","ServicesDateTimeUtils"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Layout.react").FillColumn;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={dateTimeRange:{start:b("ServicesDateTimeUtils").getNextClosestQuarterHour(this.props.timeZoneID),end:null},serviceID:null},this.validateData=function(){var a=[this.validateServiceData(),this.validateScheduleData()];a=a.reduce(function(a,b){a.data=babelHelpers["extends"]({},a.data,b.data);a.isValid=a.isValid&&b.isValid;return a},{data:{},isValid:!0});this.props.handleFormDataChange(a.data,a.isValid)}.bind(this),this.handleServiceSelectorChange=function(a){a=a?a.id:null;var b=this.state.dateTimeRange;if(a&&this.state.serviceID!==a&&!b.end){b=b.start.toInstant(this.props.timeZoneID);var c=this.getServiceItemDuration(a),d=this.createTimeRange({startTime:b,endTime:c?b+c:null});this.setState({dateTimeRange:d},function(){this.handleDateTimeRangeChange(d)}.bind(this))}this.setState({serviceID:a},this.validateData)}.bind(this),this.handleDateTimeRangeChange=function(a){a=a;this.state.dateTimeRange&&!this.state.dateTimeRange.start.equals(a.start)&&a.end&&a.end.isBefore(a.start)&&(a.end=a.start);this.setState({dateTimeRange:a},this.validateData)}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){__p&&__p();var a,b;b=this.props.startTime||((b=this.props)!=null?(b=b.appointment)!=null?(b=b.suggested_time_range)!=null?b.start:b:b:b);a=this.props.endTime||((a=this.props)!=null?(a=a.appointment)!=null?(a=a.suggested_time_range)!=null?a.end:a:a:a);!b&&a&&i(0);this.props.endTime&&this.props.defaultDuration&&i(0);var c=this.state.dateTimeRange;b&&a&&(b!==a?c=this.createTimeRange({startTime:b,endTime:a}):a=null);if(!a){c=this.createTimeRange({startTime:b,duration:this.props.defaultDuration||((a=this.props)!=null?(a=a.appointment)!=null?(a=a.product_item)!=null?a.duration_in_seconds:a:a:a)})}this.setState({dateTimeRange:c,serviceID:(b=this.props)!=null?(b=b.appointment)!=null?(b=b.product_item)!=null?b.id:b:b:b},this.validateData)};a.prototype.createTimeRange=function(a){var c=a.startTime,d=a.endTime;a=a.duration;!d||!a||i(0);c=c?b("LocalDateTime").fromInstant(c,this.props.timeZoneID):b("ServicesDateTimeUtils").getNextClosestQuarterHour(this.props.timeZoneID);d?d=b("LocalDateTime").fromInstant(d,this.props.timeZoneID):d=a&&a>0?c.addSeconds(a):null;return{start:c,end:d}};a.prototype.getServiceItemDuration=function(a){if(!a||!this.props.catalogItems)return null;var b=this.props.catalogItems.find(function(b){return b.id===a})||null;return(b=b)!=null?b.duration_in_seconds:b};a.prototype.validateServiceData=function(){var a=this.state.serviceID;return{data:{serviceID:a},isValid:!0}};a.prototype.validateScheduleData=function(){var a=this.state.dateTimeRange;if(a){var c=a.start;a=a.end;var d=b("LocalDateTime").now(this.props.timeZoneID);if(c&&c.isAfterOrEqual(d)&&(a&&a.isAfterOrEqual(c)||!a))return{data:{start:c,end:a},isValid:!0}}return{data:{},isValid:!1}};a.prototype.renderServiceSelector=function(){var a=this.props,c=a.catalogItems;a=a.hideServiceSelector;return!c||c.length===0||a?null:b("React").createElement(b("Layout.react"),{className:"_2pi2"},b("React").createElement(k,null,b("React").createElement("div",{className:"_4718"},b("React").createElement("div",{className:"_4719 _3-94"},h._("Service")),b("React").createElement(b("PagesCatalogItemsSelector.react"),{catalogItems:c,defaultValue:this.state.serviceID,disabled:this.props.disabled,maxWidth:this.props.maxWidth,onChange:this.handleServiceSelectorChange,pageID:this.props.pageID}))))};a.prototype.renderDateTimeSelector=function(){var a=this.props.defaultDuration||this.getServiceItemDuration(this.state.serviceID);return b("React").createElement(b("Layout.react"),{className:"_2pi2"},b("React").createElement(k,null,b("React").createElement("div",{className:"_471a"},b("React").createElement(b("ServicesAppointmentDateTimeRangePicker.react"),{disabled:this.props.disabled,duration:a,onDateTimeRangeChange:this.handleDateTimeRangeChange,timeZoneID:this.props.timeZoneID,value:this.state.dateTimeRange}))))};a.prototype.render=function(){return b("React").createElement(b("React").Fragment,null,this.renderServiceSelector(),this.renderDateTimeSelector())};a.defaultProps={disabled:!1,hideServiceSelector:!1};e.exports=a}),null);
__d("ServicesAppointmentCreateScheduleDialog.react",["cx","fbt","invariant","LayerFadeOnHide","NativeBookingRequestStatusUpdateAction","PagesEventObserver","PagesPlatformNativeBookingAppointmentType","React","ServicesAppointmentCalendarActions","ServicesAppointmentCalendarStore","ServicesAppointmentCalendarUtils","ServicesAppointmentDialogFooter.react","ServicesAppointmentDialogFootnote.react","ServicesAppointmentDialogNotesSection.react","ServicesAppointmentDialogUserHeader.react","ServicesAppointmentManagementDialogEnum","ServicesAppointmentMutationUtils","ServicesAppointmentServiceDateTimePicker.react","ServicesChatAppointmentUtils","ServicesDateTimeUtils","ServicesUISpinner.react","ServicesVerticalBookingRequestFlow","SimpleXUIDialog","XUICard.react","XUICardSection.react","XUIDialog.react","XUIDialogTitle.react","ServicesWordingUtils","RelayCompat","PagesEventType","ServicesAppointmentCreateScheduleDialog_appointment.graphql","ServicesAppointmentCreateScheduleDialog_user.graphql","ServicesAppointmentCreateScheduleDialog_page.graphql","ServicesAppointmentCreateScheduleDialog_thread.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ServicesWordingUtils").ERROR_TEXT,l=b("ServicesWordingUtils").ERROR_TITLE;c=b("RelayCompat").createFragmentContainer;b("RelayCompat").graphql;var m=b("PagesEventType").BOOKING_ADMIN_ENTER_CREATION_FLOW,n=b("PagesEventType").BOOKING_ADMIN_ENTER_SCHEDULE_FLOW,o=b("PagesEventType").BOOKING_ADMIN_ENTER_EDIT_APPOINTMENT_FLOW,p=b("PagesEventType").SERVICES_BOOKING_APPT_MANUAL_CREATE_TAP_SAVE,q=b("PagesEventType").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_ARCHIVE_BUTTON,r=b("PagesEventType").SERVICES_BOOKING_APPT_MANUAL_CREATE_VIEW_IMPR,s=b("PagesEventType").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_EDIT_BUTTON,t=b("PagesEventType").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_MESSENGER_ICON,u=400;function v(a,b){return a||a===""?a:b}function w(a){return a||null}d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={appointmentTitle:null,customerNotes:null,formData:{data:{},isValid:!1},isUpdating:!1,privateNotes:null},this.onClickMessengerButton=function(a,c){this.props.onToggle(!1),this.log(t),b("ServicesAppointmentCalendarUtils").openMessengerSidebar(a,c)}.bind(this),this.handleFormDataChange=function(a,b){this.setState({formData:{data:a,isValid:b}})}.bind(this),this.handleCustomerNotesChange=function(event){var a=event.target.value;this.setState({customerNotes:a})}.bind(this),this.handlePrivateNotesChange=function(event){var a=event.target.value;this.setState({privateNotes:a})}.bind(this),this.handleAppointmentTitleChange=function(a){this.setState({appointmentTitle:a})}.bind(this),this.onUpdateCompleted=function(a,c){this.setState({isUpdating:!1});this.props.onToggle(!1);var d=this.props.onUpdateCompleted;c?b("SimpleXUIDialog").show(k,l,function(){d&&d(!1)}):(d&&d(!0),b("ServicesAppointmentCalendarStore").isInitialized()&&(b("ServicesAppointmentCalendarActions").forceCalendarRefetch(),b("ServicesAppointmentCalendarActions").forceRequestsTrayRefetch()))}.bind(this),this.onClickArchive=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.id:a:a;if(!a)return;this.setState({isUpdating:!0});this.log(q);b("ServicesAppointmentMutationUtils").archiveAppointment({pageID:this.props.pageID,referrer:this.props.referrer,requestID:a,onCompleted:this.onUpdateCompleted})}.bind(this),this.onClickCreateAppointment=function(a){__p&&__p();var c;a=(a=this.props)!=null?(a=a.user)!=null?a.id:a:a;c=(c=this.props)!=null?(c=c.appointment)!=null?c.id:c:c;var d=this.state.appointmentTitle,e;switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:if(!a||!c)return;e=b("NativeBookingRequestStatusUpdateAction").SCHEDULE;break;case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:if(!a)return;e=b("NativeBookingRequestStatusUpdateAction").CREATE;break;case b("ServicesAppointmentManagementDialogEnum").EDIT:if(!a)return;this.log(s);e=b("NativeBookingRequestStatusUpdateAction").EDIT;break;case b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:d=d?d.trim():null;e=b("NativeBookingRequestStatusUpdateAction").EDIT_REMINDER;break;case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:if(!d||d.trim()===""){this.setState({appointmentTitle:""});return}d=d.trim();this.log(p);e=b("NativeBookingRequestStatusUpdateAction").CREATE_FOR_EXTERNAL_USERS;break}var f=this.state,g=f.formData;f=f.privateNotes;if(!g.isValid||!e)return;this.setState({isUpdating:!0});var h=this.isJobInterview()?b("ServicesVerticalBookingRequestFlow").JOB_INTERVIEW:null;g=g.data;g.start=g.start.toInstant(this.getTimeZoneID());g.end=g.end?g.end.toInstant(this.getTimeZoneID()):null;if(this.props.dialogType===b("ServicesAppointmentManagementDialogEnum").EDIT&&!this.isEditedAppointmentValid(g)){var i;i=(i=this.props)!=null?(i=i.appointment)!=null?(i=i.request_note)!=null?(i=i.edges)!=null?(i=i[0])!=null?(i=i.node)!=null?(i=i.body)!=null?i.text:i:i:i:i:i:i:i;var j=function(){this.setState({isUpdating:!1}),this.props.onToggle(!1),this.props.onUpdateCompleted&&this.props.onUpdateCompleted(!1)}.bind(this);i===this.state.privateNotes?j():b("ServicesAppointmentMutationUtils").updateAdminPrivateNotes({appointment:this.props.appointment,pageID:this.props.pageID,privateNotes:this.state.privateNotes,referrer:this.props.referrer,onCompleted:function(a,b){return j()}});return}i=f?{text:f}:null;if(this.props.dialogType===b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER){b("ServicesAppointmentMutationUtils").updateConsumerReminder({action:e,actor_id:this.props.pageID,general_info:d,page_id:this.props.pageID,referrer:this.props.referrer,request_id:c||undefined,request_owner_id:a,suggested_end_time:g.end,suggested_time:g.start},this.onUpdateCompleted);return}b("ServicesAppointmentMutationUtils").createAppointment({action:e,actor_id:this.props.pageID,consumer_name:d,job_application_id:this.props.jobApplicationID,notes_for_customer:this.state.customerNotes?this.state.customerNotes.trim():null,page_id:this.props.pageID,referrer:this.props.referrer,request_id:c||undefined,request_note_body:i,request_owner_id:a,service_id:g.serviceID,services_flow_type:h,suggested_end_time:g.end,suggested_time:g.start},this.onUpdateCompleted)}.bind(this),c}a.getDerivedStateFromProps=function(a,c){var d=c?c.appointmentTitle:null,e=c?c.customerNotes:null;c=c?c.privateNotes:null;return{appointmentTitle:v(d,((d=a)!=null?(d=d.appointment)!=null?d.consumer_name:d:d)||((d=a)!=null?(d=d.appointment)!=null?d.service_general_info:d:d)),customerNotes:v(e,b("ServicesChatAppointmentUtils").getCustomerNotes((d=a)!=null?(d=d.appointment)!=null?d.additional_info:d:d)),privateNotes:v(c,(e=a)!=null?(e=e.appointment)!=null?(e=e.request_note)!=null?(e=e.edges)!=null?(e=e[0])!=null?(e=e.node)!=null?(e=e.body)!=null?e.text:e:e:e:e:e:e:e)}};a.prototype.componentDidMount=function(){switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:this.log(m);break;case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:this.log(n);break;case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:this.log(r);break;case b("ServicesAppointmentManagementDialogEnum").EDIT:this.log(o);break}};a.prototype.isJobInterview=function(){return!!this.props.jobApplicationID};a.prototype.isEditedAppointmentValid=function(a){var c,d,e,f=this.props.appointment;f||i(0);e=((e=this.props)!=null?(e=e.appointment)!=null?e.consumer_name:e:e)||((e=this.props)!=null?(e=e.appointment)!=null?e.service_general_info:e:e);d=(d=f)!=null?(d=d.product_item)!=null?d.id:d:d;c=b("ServicesChatAppointmentUtils").getCustomerNotes((c=this.props)!=null?(c=c.appointment)!=null?c.additional_info:c:c);f=f.suggested_time_range.start===a.start&&(f.suggested_time_range.end===a.end||f.suggested_time_range.end===a.start&&!a.end);return e!==w(this.state.appointmentTitle)||d!==a.serviceID||!f||c!==w(this.state.customerNotes)};a.prototype.isManualCreation=function(){var a=this.props,c=a.appointment;a=a.dialogType;return a===b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE?!0:a===b("ServicesAppointmentManagementDialogEnum").EDIT&&(((a=c)!=null?a.appointment_type:a)===b("PagesPlatformNativeBookingAppointmentType").FOR_EXTERNAL_USER||!!((a=c)!=null?a.consumer_name:a))};a.prototype.getDialogTitle=function(){if(this.isJobInterview())return h._("Schedule An Interview");switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:return h._("Schedule Appointment");case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:return h._("Create Appointment");case b("ServicesAppointmentManagementDialogEnum").EDIT:case b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:return h._("Edit Appointment");case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:return h._("Add Appointment");default:break}return null};a.prototype.getCatalogItems=function(){var a;a=((a=this)!=null?(a=a.props)!=null?(a=a.page)!=null?a.services_card:a:a:a)||{};var b=a.card_visibility;if(b==="published"){a=((b=a)!=null?(b=b.product_catalog)!=null?(b=b.catalog_items)!=null?b.edges:b:b:b)||[];return a.map(function(a){return a.node})}return[]};a.prototype.getTimeZoneID=function(){var a;if(this.isJobInterview())return b("ServicesDateTimeUtils").getDefaultTimeZoneID();a=(a=this.props)!=null?(a=a.page)!=null?(a=a.services_vertical_info)!=null?a.time_zone_name:a:a:a;return b("ServicesDateTimeUtils").getTimezoneByNameOrLocal(a)};a.prototype.log=function(event){var a=this.props,c=a.additionalInfo,d=a.referrer,e=a.pageID;a=a.user;b("PagesEventObserver").notify(event,e,babelHelpers["extends"]({referrer:d,referrer_surface:this.props.referrerSurface,customer_id:(e=a)!=null?e.id:e},c))};a.prototype.renderUpdatingSpinner=function(){return b("React").createElement("div",{className:(this.state.isUpdating?"_12y9":"")+" _2pi3"},b("React").createElement(b("ServicesUISpinner.react"),{centered:!0,size:"large"}))};a.prototype.renderUserSection=function(){var a,c;switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:case b("ServicesAppointmentManagementDialogEnum").EDIT:c=(a=this.props)!=null?(a=a.thread)!=null?(a=a.services_vertical_info)!=null?a.thread_id:a:a:a;break;default:break}return b("React").createElement(b("XUICardSection.react"),null,b("React").createElement(b("ServicesAppointmentDialogUserHeader.react"),{appointment:this.props.appointment,appointmentTitle:this.state.appointmentTitle,dialogType:this.props.dialogType,disabled:this.state.isUpdating,handleAppointmentTitleChange:this.handleAppointmentTitleChange,onClickMessenger:this.onClickMessengerButton,pageID:this.props.pageID,showMessengerButton:this.props.showMessengerButton,user:this.props.user,threadID:c}))};a.prototype.renderAppointmentSection=function(){var a=this.props.dialogType===b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER;return b("React").createElement(b("XUICardSection.react"),{className:"_2pi9 _3-95"},b("React").createElement(b("ServicesAppointmentServiceDateTimePicker.react"),{appointment:this.props.appointment,catalogItems:this.getCatalogItems(),defaultDuration:this.props.defaultDuration,dialogType:this.props.dialogType,disabled:this.state.isUpdating,endTime:this.props.endTime,handleFormDataChange:this.handleFormDataChange,hideServiceSelector:this.isJobInterview()||a,maxWidth:u-24,pageID:this.props.pageID,startTime:this.props.startTime,timeZoneID:this.getTimeZoneID()}))};a.prototype.renderNotesSection=function(){var a;a=(a=this.props)!=null?(a=a.user)!=null?a.name:a:a;return b("React").createElement("div",{className:"_2pi9 _2pio _2pic"},b("React").createElement(b("ServicesAppointmentDialogNotesSection.react"),{customerNotes:this.state.customerNotes,dialogType:this.props.dialogType,disabled:this.state.isUpdating,handleCustomerNotesChange:this.handleCustomerNotesChange,handlePrivateNotesChange:this.handlePrivateNotesChange,isManualCreation:this.isManualCreation(),privateNotes:this.state.privateNotes,userName:a}))};a.prototype.renderFootnote=function(){return b("React").createElement(b("ServicesAppointmentDialogFootnote.react"),{className:"_2pi9 _2pio _2pic",dialogType:this.props.dialogType})};a.prototype.renderFooterButtonsSection=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.booking_status:a:a;return b("React").createElement(b("XUICardSection.react"),null,b("React").createElement(b("ServicesAppointmentDialogFooter.react"),{bookingStatus:a,dialogType:this.props.dialogType,disabled:this.state.isUpdating,disabledMain:!this.state.formData.isValid,onClickArchive:this.onClickArchive,onClickCreate:this.onClickCreateAppointment,onClickSave:this.onClickCreateAppointment}))};a.prototype.renderTitleAndContent=function(){var a=this.state.isUpdating?this.renderUpdatingSpinner():null;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIDialogTitle.react"),null,this.getDialogTitle()),a,b("React").createElement(b("XUICard.react"),null,this.renderUserSection(),this.renderAppointmentSection(),this.isJobInterview()?null:b("React").createElement(b("React").Fragment,null,this.renderNotesSection()),this.renderFootnote(),this.renderFooterButtonsSection()))};a.prototype.render=function(){var a;!this.props.page?a=this.renderUpdatingSpinner():a=this.renderTitleAndContent();return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},causalElementRef:this.props.causalElementRef,hideOnEscape:!0,onToggle:this.props.onToggle,shown:this.props.shown,width:u},a)};e.exports=c(a,{appointment:{modern:function(){return b("ServicesAppointmentCreateScheduleDialog_appointment.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{children:[{fieldName:"field_key",kind:"Field",metadata:{},type:"ServicesNativeBookingRequestAdditionalInfoKey"},{fieldName:"label",kind:"Field",metadata:{},type:"String"},{fieldName:"value",kind:"Field",metadata:{},type:"String"}],fieldName:"additional_info",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"ServicesNativeBookingRequestAdditionalInfoField"},{fieldName:"appointment_type",kind:"Field",metadata:{},type:"PagesPlatformNativeBookingAppointmentType"},{fieldName:"booking_status",kind:"Field",metadata:{},type:"PagesPlatformNativeBookingStatus"},{fieldName:"consumer_name",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"duration_in_seconds",kind:"Field",metadata:{},type:"Int"}],fieldName:"product_item",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"ProductItem"},{fieldName:"requested_time",kind:"Field",metadata:{},type:"Time"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:1}}],children:[{children:[{children:[{children:[{fieldName:"text",kind:"Field",metadata:{},type:"String"}],fieldName:"body",kind:"Field",metadata:{canHaveSubselections:!0},type:"TextWithEntities"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"PagesPlatformNote"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"PagesPlatformNoteFromComponentFlowRequestEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"request_note",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0,isFindable:!0},type:"PagesPlatformNoteFromComponentFlowRequestConnection"},{fieldName:"request_flow_type",kind:"Field",metadata:{},type:"ServicesBookingRequestFlowType"},{fieldName:"service_general_info",kind:"Field",metadata:{},type:"String"},{fieldName:"start_time",kind:"Field",metadata:{},type:"Time"},{children:[{fieldName:"start",kind:"Field",metadata:{},type:"Time"},{fieldName:"end",kind:"Field",metadata:{},type:"Time"}],fieldName:"suggested_time_range",kind:"Field",metadata:{canHaveSubselections:!0},type:"TimeRange"}],id:a.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentCreateScheduleDialog_appointment",type:"NativeComponentFlowBookingRequest"}}()}}},user:{modern:function(){return b("ServicesAppointmentCreateScheduleDialog_user.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[{defaultValue:70,kind:"LocalArgument",name:"dimension"}],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:{kind:"CallVariable",callVariableName:"dimension"}},{kind:"Call",metadata:{type:"Int"},name:"height",value:{kind:"CallVariable",callVariableName:"dimension"}}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"profile_picture",kind:"Field",metadata:{canHaveSubselections:!0},type:"Image"}],id:a.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentCreateScheduleDialog_user",type:"User"}}()}}},page:{modern:function(){return b("ServicesAppointmentCreateScheduleDialog_page.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"should_show_page_admin_calendar_view",kind:"Field",metadata:{},type:"Boolean"},{children:[{fieldName:"card_visibility",kind:"Field",metadata:{},type:"String"},{children:[{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:100}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"duration_in_seconds",kind:"Field",metadata:{},type:"Int"},{fieldName:"name",kind:"Field",metadata:{},type:"String"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"ProductItem"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"ProductCatalogToProductItemsEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"catalog_items",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0,isFindable:!0},type:"ProductCatalogToProductItemsConnection"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"product_catalog",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"ProductCatalog"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"services_card",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"PageServicesCard"},{children:[{fieldName:"should_allow_admin_enter_customer_notes",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"time_zone_name",kind:"Field",metadata:{},type:"String"}],fieldName:"services_vertical_info",kind:"Field",metadata:{canHaveSubselections:!0},type:"ServicesVerticalPageBasedInfo"}],id:a.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentCreateScheduleDialog_page",type:"Page"}}()}}},thread:{modern:function(){return b("ServicesAppointmentCreateScheduleDialog_thread.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"userID"}],node:function(){return{children:[{children:[{calls:[{kind:"Call",metadata:{},name:"user_id",value:{kind:"CallVariable",callVariableName:"userID"}}],fieldName:"thread_id",kind:"Field",metadata:{},type:"ID"}],fieldName:"services_vertical_info",kind:"Field",metadata:{canHaveSubselections:!0},type:"ServicesVerticalPageBasedInfo"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:a.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentCreateScheduleDialog_thread",type:"Page"}}()}}}})}),null);
__d("ServicesAppointmentCreateScheduleDialogRoot.react",["invariant","React","RelayFBEnvironment","RelayModern","ServicesAppointmentCreateScheduleDialog.react","ServicesAppointmentManagementDialogEnum","ServicesAppointmentCreateScheduleDialogRootScheduleQuery.graphql","ServicesAppointmentCreateScheduleDialogRootAppointmentsQuery.graphql","ServicesAppointmentCreateScheduleDialogRootManualCreateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var j=function(){return b("ServicesAppointmentCreateScheduleDialogRootScheduleQuery.graphql")},k=function(){return b("ServicesAppointmentCreateScheduleDialogRootAppointmentsQuery.graphql")},l=function(){return b("ServicesAppointmentCreateScheduleDialogRootManualCreateQuery.graphql")};h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.queryRendererSchedule=function(a,c,d){return b("React").createElement(i,{environment:b("RelayFBEnvironment"),query:j,render:function(a){var c=a.error;a=a.props;if(c)return null;return!a?b("React").createElement(b("ServicesAppointmentCreateScheduleDialog.react"),d):b("React").createElement(b("ServicesAppointmentCreateScheduleDialog.react"),babelHelpers["extends"]({},d,{appointment:a.appointment,page:a.page,thread:a.page,user:a.user}))},variables:{requestID:a,pageID:this.props.pageID,userID:c}})};a.prototype.queryRendererCreateAppointment=function(a,c){return b("React").createElement(i,{environment:b("RelayFBEnvironment"),query:k,render:function(a){var d=a.error;a=a.props;if(d)return null;return!a?b("React").createElement(b("ServicesAppointmentCreateScheduleDialog.react"),c):b("React").createElement(b("ServicesAppointmentCreateScheduleDialog.react"),babelHelpers["extends"]({},c,{page:a.page,thread:a.page,user:a.user}))},variables:{pageID:this.props.pageID,userID:a}})};a.prototype.queryRendererManualCreate=function(a){return b("React").createElement(i,{environment:b("RelayFBEnvironment"),query:l,render:function(c){var d=c.error;c=c.props;if(d)return null;return!c?b("React").createElement(b("ServicesAppointmentCreateScheduleDialog.react"),a):b("React").createElement(b("ServicesAppointmentCreateScheduleDialog.react"),babelHelpers["extends"]({},a,{page:c.page}))},variables:{pageID:this.props.pageID}})};a.prototype.render=function(){__p&&__p();if(!this.props.shown)return null;var a=this.props,c=a.requestID,d=a.userID;a=babelHelpers.objectWithoutProperties(a,["requestID","userID"]);switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:case b("ServicesAppointmentManagementDialogEnum").EDIT:case b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:c&&d||g(0);return this.queryRendererSchedule(c,d,a);case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:d||g(0);return this.queryRendererCreateAppointment(d,a);case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:return this.queryRendererManualCreate(a);default:break}return null};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("ServicesAppointmentDialogRoot.react",["invariant","PagesPlatformBookingMessageViewer","React","ServicesAppointmentCreateScheduleDialogRoot.react","ServicesAppointmentManagementDialogEnum","ServicesAppointmentViewDetailsDialogRoot.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.isAdmin=function(){return this.props.viewer===b("PagesPlatformBookingMessageViewer").ADMIN};a.prototype.render=function(){__p&&__p();if(!this.props.shown)return null;var a=this.props,c=a.requestID,d=a.userID;a=babelHelpers.objectWithoutProperties(a,["requestID","userID"]);switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:case b("ServicesAppointmentManagementDialogEnum").EDIT:case b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:this.isAdmin()||g(0);return b("React").createElement(b("ServicesAppointmentCreateScheduleDialogRoot.react"),this.props);case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:c&&d&&this.isAdmin()||g(0);return b("React").createElement(b("ServicesAppointmentViewDetailsDialogRoot.react"),babelHelpers["extends"]({requestID:c,userID:d},a))}return null};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("ServicesAppointmentViewDetailsInfoSection.react",["cx","fbt","Layout.react","PagesPlatformNativeBookingGraphQLStatus","React","ServicesAppointmentDialogNotesSection.react","ServicesAppointmentManagementDialogEnum","ServicesChatAppointmentUtils","ServicesDateTimeUtils","ServicesWordingUtils","XUICard.react","XUICardSection.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ServicesWordingUtils").ADDITIONAL_NOTES_SPECIAL_REQUEST_TITLE,k=b("ServicesWordingUtils").CUSTOMER_NOTES_BUBBLE_TITLE,l=b("Layout.react").FillColumn;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.renderDetailItemRow=function(a,c){return!c?null:b("React").createElement("div",{className:"_3-96"},b("React").createElement("div",{className:"_1kd6 _3-94"},a),c)};a.prototype.renderNotesSection=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.booking_status:a:a;return a===b("PagesPlatformNativeBookingGraphQLStatus").REQUESTED&&this.props.isPastAppointment?null:b("React").createElement(b("XUICard.react"),{className:"_3-8z _3-95",style:{borderRight:"none",borderLeft:"none",borderBottom:"none"}},b("React").createElement(b("XUICardSection.react"),{className:"_2pie _2pim"},b("React").createElement(b("Layout.react"),null,b("React").createElement(b("ServicesAppointmentDialogNotesSection.react"),{bookingStatus:a,cancelNotes:this.props.cancelNotes,customerNotes:this.props.customerNotes,dialogType:this.props.dialogType,disabled:this.props.disabled,handleCancelNotesChange:this.props.handleCancelNotesChange,handleCustomerNotesChange:this.props.handleCustomerNotesChange,handlePrivateNotesChange:this.props.handlePrivateNotesChange,privateNotes:this.props.privateNotes,userName:this.props.userName}))))};a.prototype.render=function(){__p&&__p();var a,c,d,e,f,g;if(!this.props.appointment)return null;var i=this.props.isJobInterview?this.renderDetailItemRow(h._("Type"),h._("Job Interview")):null;g=(g=this.props)!=null?(g=g.appointment)!=null?(g=g.product_item)!=null?g.name:g:g:g;g=g?this.renderDetailItemRow(h._("Service"),g):null;f=(f=this.props)!=null?(f=f.appointment)!=null?(f=f.suggested_time_range)!=null?f.start:f:f:f;e=(e=this.props)!=null?(e=e.appointment)!=null?(e=e.suggested_time_range)!=null?e.end:e:e:e;var m=this.renderDetailItemRow(h._("Date"),b("ServicesDateTimeUtils").formatTimestampDuration(f,e,this.props.timeZoneID,"l, F j"));f=this.renderDetailItemRow(h._("Time"),b("ServicesDateTimeUtils").formatTimestampDuration(f,e,this.props.timeZoneID,"g:i A"));e=b("ServicesChatAppointmentUtils").getCustomerNotes((e=this.props)!=null?(e=e.appointment)!=null?e.additional_info:e:e);e=this.renderDetailItemRow(k,e);d=b("ServicesChatAppointmentUtils").getReferralInfo((d=this.props)!=null?(d=d.appointment)!=null?d.additional_info:d:d);d=d?this.renderDetailItemRow(d.label,d.value):null;var n;if(this.props.dialogType===b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE){var o;o=(o=this.props)!=null?(o=o.appointment)!=null?o.user_availability:o:o;n=o?this.renderDetailItemRow(h._("Availability"),o):null}o=(o=this.props)!=null?(o=o.appointment)!=null?o.service_general_info:o:o;o=this.renderDetailItemRow(h._("Additional Info"),o);c=(c=this)!=null?(c=c.props)!=null?(c=c.appointment)!=null?(c=c.consumer_phone_number)!=null?c.display_number:c:c:c:c;c=this.renderDetailItemRow(h._("Phone Number"),c);a=(a=this.props)!=null?(a=a.appointment)!=null?a.special_request:a:a;a=this.renderDetailItemRow(j,a);var p=!this.props.isJobInterview||this.props.dialogType===b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL?this.renderNotesSection():null,q;switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:q=b("React").createElement(b("React").Fragment,null,i,g,n,o,c,a,d,p);break;default:q=b("React").createElement(b("React").Fragment,null,i,g,m,f,e,o,c,a,d,p)}return b("React").createElement(b("Layout.react"),{className:"_2pi9 _2pi2"},b("React").createElement(l,null,b("React").createElement("div",{className:"_1kd7"},q)))};function a(){i.apply(this,arguments)}a.defaultProps={isJobInterview:!1,isPastAppointment:!1};e.exports=a}),null);
__d("ServicesAppointmentViewDetailsDialog.react",["ix","cx","fbt","Image.react","LayerFadeOnHide","NativeBookingRequestStatusUpdateAction","PagesEventObserver","PagesEventType","PagesPlatformBookingMessageViewer","PagesPlatformNativeBookingAppointmentType","PagesPlatformNativeBookingGraphQLStatus","React","RelayCompat","ServicesAppointmentCalendarActions","ServicesAppointmentCalendarStore","ServicesAppointmentCalendarUtils","ServicesAppointmentDialogFooter.react","ServicesAppointmentDialogRoot.react","ServicesAppointmentDialogUserHeader.react","ServicesAppointmentManagementDialogEnum","ServicesAppointmentMutationUtils","ServicesAppointmentViewDetailsInfoSection.react","ServicesDateTimeUtils","ServicesUISpinner.react","ServicesVerticalBookingRequestFlow","ServicesWordingUtils","SimpleXUIDialog","XUICard.react","XUICardSection.react","XUIDialog.react","XUIDialogTitle.react","XUIText.react","asset","ServicesAppointmentViewDetailsDialog_appointment.graphql","ServicesAppointmentViewDetailsDialog_user.graphql","ServicesAppointmentViewDetailsDialog_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("PagesEventType").BOOKING_ADMIN_TAPPED_CANCEL_APPOINTMENT,l=b("PagesEventType").BOOKING_ADMIN_TAPPED_DECLINE_APPOINTMENT,m=b("PagesEventType").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_APPROVE_BUTTON,n=b("PagesEventType").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_ARCHIVE_BUTTON,o=b("PagesEventType").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_CANCEL_BUTTON,p=b("PagesEventType").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_EDIT_BUTTON,q=b("PagesEventType").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_MESSENGER_ICON,r=b("PagesEventType").SERVICES_NEW_APPOINTMENT_DETAIL_VIEW_IMPRESSION;c=b("RelayCompat").createFragmentContainer;b("RelayCompat").graphql;var s=b("ServicesVerticalBookingRequestFlow").JOB_INTERVIEW,t=b("ServicesWordingUtils").ERROR_TEXT,u=b("ServicesWordingUtils").ERROR_TITLE,v=400;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.history=[],this.state={cancelNotes:null,customerNotes:null,dialogType:this.props.dialogType,isUpdating:!1,privateNotes:null,showEditDialog:!1},this.onClickMessengerButton=function(a,c){this.onToggleAndSave(!1),this.log(q),b("ServicesAppointmentCalendarUtils").openMessengerSidebar(a,c)}.bind(this),this.onUpdateCompleted=function(a,c){this.setState({isUpdating:!1,showEditDialog:!1});this.onToggleAndSave(!1);var d=this.props.onUpdateCompleted;c?b("SimpleXUIDialog").show(t,u,function(){d&&d(!1)}):(d&&d(!0),b("ServicesAppointmentCalendarStore").isInitialized()&&(b("ServicesAppointmentCalendarActions").forceCalendarRefetch(),b("ServicesAppointmentCalendarActions").forceRequestsTrayRefetch()))}.bind(this),this.onClickApprove=function(a){a=(a=this.props)!=null?(a=a.appointment)!=null?a.id:a:a;if(!a)return;this.setState({isUpdating:!0});this.log(m);b("ServicesAppointmentMutationUtils").approveAppointment({pageID:this.props.pageID,referrer:this.props.referrer,requestID:a,customerNotes:this.state.customerNotes,privateNotes:this.state.privateNotes,onCompleted:this.onUpdateCompleted})}.bind(this),this.onClickArchive=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.id:a:a;if(!a)return;this.setState({isUpdating:!0});this.log(n);b("ServicesAppointmentMutationUtils").archiveAppointment({pageID:this.props.pageID,referrer:this.props.referrer,requestID:a,onCompleted:this.onUpdateCompleted})}.bind(this),this.onClickBack=function(){this.setState({cancelNotes:null,dialogType:this.history.pop()})}.bind(this),this.onClickCancel=function(){switch(this.state.dialogType){case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:this.onClickCancelMutation();break;default:this.onClickCancelOpenDialog()}}.bind(this),this.onClickClose=function(){this.onToggleAndSave(!1)}.bind(this),this.onClickEdit=function(){this.log(p),this.handleUpdatePrivateNotes(function(a,b){b||this.setState({showEditDialog:!0})}.bind(this))}.bind(this),this.onToggleEdit=function(){this.setState({showEditDialog:!1}),this.props.onToggle(!1)}.bind(this),this.onToggleAndSave=function(a){this.props.onToggle(a),a||this.handleUpdatePrivateNotes()}.bind(this),this.handleCancelNotesChange=function(event){var a=event.target.value;this.setState({cancelNotes:a})}.bind(this),this.handleCustomerNotesChange=function(event){var a=event.target.value;this.setState({customerNotes:a})}.bind(this),this.handlePrivateNotesChange=function(event){var a=event.target.value;this.setState({privateNotes:a})}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){var a;this.setState({cancelNotes:this.getDefaultDeclineOrCancelNotes(this.props.dialogType,this.props.user),dialogType:this.props.dialogType,privateNotes:(a=this.props)!=null?(a=a.appointment)!=null?(a=a.request_note)!=null?(a=a.edges)!=null?(a=a[0])!=null?(a=a.node)!=null?(a=a.body)!=null?a.text:a:a:a:a:a:a:a})};a.prototype.componentDidMount=function(){switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:this.log(r);break}};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.setState({cancelNotes:this.getDefaultDeclineOrCancelNotes(a.dialogType,a.user),privateNotes:(a=a)!=null?(a=a.appointment)!=null?(a=a.request_note)!=null?(a=a.edges)!=null?(a=a[0])!=null?(a=a.node)!=null?(a=a.body)!=null?a.text:a:a:a:a:a:a:a})};a.prototype.isJobInterview=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.request_flow_type:a:a;return!!a&&b("ServicesVerticalBookingRequestFlow")[a]===s};a.prototype.getDefaultDeclineOrCancelNotes=function(a,c){c=((c=c)!=null?c.name:c)||i._("customer");var d;switch(a){case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:d=i._("Hi, {user name}. Unfortunately, we need to cancel this appointment. We're sorry for the inconvenience and would like to reschedule. Are there any other times that would work for you?",[i._param("user name",c)]);break;case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:d=i._("Hi, {user name}. Unfortunately, the appointment times you've suggested aren't available. Are there any other times that would work for you?",[i._param("user name",c)]);break}return d?d.toString():null};a.prototype.onClickCancelOpenDialog=function(){this.history.push(this.state.dialogType);this.log(o);var a=b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL,c=this.getDefaultDeclineOrCancelNotes(a,this.props.user);this.setState({cancelNotes:c,dialogType:a});this.handleUpdatePrivateNotes()};a.prototype.onClickCancelMutation=function(){__p&&__p();var a,c,d;switch(this.state.dialogType){case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:c=b("NativeBookingRequestStatusUpdateAction").ADMIN_CANCEL;d=k;break;case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:c=b("NativeBookingRequestStatusUpdateAction").ADMIN_DECLINE;d=l;break}if(!c||!d){this.onUpdateCompleted({},new Error());return}this.setState({isUpdating:!0});this.log(d);var e=this.props.appointment;a=((a=e)!=null?a.id:a)||undefined;e=((e=e)!=null?e.suggested_time_range:e)||{};b("ServicesAppointmentMutationUtils").cancelAppointment({action:c,actor_id:this.props.pageID,message_text:this.state.cancelNotes||undefined,page_id:this.props.pageID,referrer:this.props.referrer,request_id:a,suggested_end_time:e.end,suggested_time:e.start},this.onUpdateCompleted)};a.prototype.handleUpdatePrivateNotes=function(a){b("ServicesAppointmentMutationUtils").updateAdminPrivateNotes({appointment:this.props.appointment,pageID:this.props.pageID,privateNotes:this.state.privateNotes,referrer:this.props.referrer,onCompleted:function(c,d){d?b("SimpleXUIDialog").show(t,u,function(){a&&a(c,d)}):a&&a(c,d)}})};a.prototype.getDialogTitle=function(){switch(this.state.dialogType){case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:return i._("Decline Appointment");case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:return i._("Cancel Appointment")}return i._("Appointment Details")};a.prototype.getTimeZoneID=function(){var a;if(this.isJobInterview())return b("ServicesDateTimeUtils").getDefaultTimeZoneID();a=(a=this.props)!=null?(a=a.page)!=null?(a=a.services_vertical_info)!=null?a.time_zone_name:a:a:a;return b("ServicesDateTimeUtils").getTimezoneByNameOrLocal(a)};a.prototype.isManualCreation=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.appointment_type:a:a;return!!a&&b("PagesPlatformNativeBookingAppointmentType")[a.toUpperCase()]===b("PagesPlatformNativeBookingAppointmentType").FOR_EXTERNAL_USER||!!((a=this.props)!=null?(a=a.appointment)!=null?a.consumer_name:a:a)};a.prototype.isConsumerReminder=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.appointment_type:a:a;return!!a&&b("PagesPlatformNativeBookingAppointmentType")[a.toUpperCase()]===b("PagesPlatformNativeBookingAppointmentType").FOR_FB_USER_REMINDER};a.prototype.isPastAppointment=function(){var a,c;c=(c=this.props)!=null?(c=c.appointment)!=null?(c=c.suggested_time_range)!=null?c.start:c:c:c;a=(a=this.props)!=null?(a=a.appointment)!=null?(a=a.suggested_time_range)!=null?a.end:a:a:a;return b("ServicesDateTimeUtils").isTimestampInPast(c,a,this.getTimeZoneID())};a.prototype.log=function(event){b("PagesEventObserver").notify(event,this.props.pageID,{referrer:this.props.referrer,referrer_surface:this.props.referrerSurface})};a.prototype.renderUpdatingSpinner=function(){return b("React").createElement("div",{className:(this.state.isUpdating?"_12y9":"")+" _2pi3"},b("React").createElement(b("ServicesUISpinner.react"),{centered:!0,size:"large"}))};a.prototype.renderBookingStatusBanner=function(){__p&&__p();var a;if(this.isManualCreation())return null;a=(a=this.props)!=null?(a=a.appointment)!=null?a.booking_status:a:a;var c=this.isConsumerReminder(),d=!1,e,f;switch(a){case b("PagesPlatformNativeBookingGraphQLStatus").REQUESTED:e=g("363506");f=i._("Appointment Requested");break;case b("PagesPlatformNativeBookingGraphQLStatus").CONFIRMED:d=!0;!c?(e=g("425291"),f=i._("Appointment Confirmed")):(e=g("509365"),f=i._("Appointment Reminder"));break;case b("PagesPlatformNativeBookingGraphQLStatus").CANCELLED:e=g("425301");f=i._("Appointment Cancelled");break;default:return null}return b("React").createElement("div",{className:"_3-bx"+(d?"":" _3-by")+(!c&&d?" _3-bz":"")+(c&&d?" _1-rw":"")},b("React").createElement("div",{className:"_2ph- _3-9a _3-b-"},b("React").createElement(b("Image.react"),{src:e}),b("React").createElement("span",{className:"_3-9b"},b("React").createElement(b("XUIText.react"),{color:"white",size:"header4",weight:"normal"},f))))};a.prototype.renderUserSection=function(){var a,c=null;switch(this.state.dialogType){case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:c=b("React").createElement(b("ServicesAppointmentDialogUserHeader.react"),{appointment:this.props.appointment,dialogType:this.state.dialogType,disabled:this.state.isUpdating,onClickMessenger:this.onClickMessengerButton,pageID:this.props.pageID,showMessengerButton:this.props.showMessengerButton,threadID:(a=this.props)!=null?(a=a.appointment)!=null?(a=a.page_comm_item)!=null?a.id:a:a:a,user:this.props.user});break;case b("ServicesAppointmentManagementDialogEnum").USER_VIEW_DETAILS:break;default:return null}return b("React").createElement(b("XUICardSection.react"),null,c)};a.prototype.renderAppointmentSection=function(){var a;return b("React").createElement(b("XUICardSection.react"),null,b("React").createElement(b("ServicesAppointmentViewDetailsInfoSection.react"),{appointment:this.props.appointment,cancelNotes:this.state.cancelNotes,customerNotes:this.state.customerNotes,dialogType:this.state.dialogType,disabled:this.state.isUpdating,handleCancelNotesChange:this.handleCancelNotesChange,handleCustomerNotesChange:this.handleCustomerNotesChange,handlePrivateNotesChange:this.handlePrivateNotesChange,isJobInterview:this.isJobInterview(),isPastAppointment:this.isPastAppointment(),privateNotes:this.state.privateNotes,timeZoneID:this.getTimeZoneID(),userAvailability:(a=this.props)!=null?(a=a.appointment)!=null?a.user_availability:a:a,userName:(a=this.props)!=null?(a=a.user)!=null?a.name:a:a}))};a.prototype.renderFooterButtonsSection=function(){var a;return b("React").createElement(b("XUICardSection.react"),null,b("React").createElement(b("ServicesAppointmentDialogFooter.react"),{bookingStatus:(a=this.props)!=null?(a=a.appointment)!=null?a.booking_status:a:a,dialogType:this.state.dialogType,disabled:this.state.isUpdating,isPastAppointment:this.isPastAppointment(),onClickApprove:this.onClickApprove,onClickArchive:this.onClickArchive,onClickBack:this.onClickBack,onClickCancel:this.onClickCancel,onClickDelete:this.onClickCancel,onClickEdit:this.onClickEdit,onClickSave:this.onClickClose}))};a.prototype.renderTitleAndContent=function(){var a=this.state.isUpdating?this.renderUpdatingSpinner():null;switch(this.state.dialogType){case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIDialogTitle.react"),null,this.getDialogTitle()),a,b("React").createElement(b("XUICard.react"),null,this.renderUserSection(),this.renderAppointmentSection(),this.renderFooterButtonsSection()))}return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIDialogTitle.react"),null,this.getDialogTitle()),a,this.renderBookingStatusBanner(),b("React").createElement(b("XUICard.react"),null,this.renderUserSection(),this.renderAppointmentSection(),this.renderFooterButtonsSection()))};a.prototype.renderEditDialog=function(){var a,c;c=(c=this.props)!=null?(c=c.user)!=null?c.id:c:c;if(!c)return null;a=(a=this.props)!=null?(a=a.appointment)!=null?(a=a.job_application)!=null?a.id:a:a:a;var d=this.isConsumerReminder()?b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:b("ServicesAppointmentManagementDialogEnum").EDIT;return b("React").createElement(b("ServicesAppointmentDialogRoot.react"),{causalElementRef:this.props.causalElementRef,dialogType:d,jobApplicationID:a,onToggle:this.onToggleEdit,onUpdateCompleted:this.props.onUpdateCompleted,pageID:this.props.pageID,referrer:this.props.referrer,referrerSurface:this.props.referrerSurface,relay:this.props.relay,requestID:(d=this.props)!=null?(d=d.appointment)!=null?d.id:d:d,showMessengerButton:this.props.showMessengerButton,shown:this.props.shown,userID:c,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})};a.prototype.render=function(){if(this.state.showEditDialog)return this.renderEditDialog();var a;!this.props.appointment?a=this.renderUpdatingSpinner():a=this.renderTitleAndContent();return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},causalElementRef:this.props.causalElementRef,hideOnEscape:!0,onToggle:this.onToggleAndSave,shown:this.props.shown,width:v},a)};e.exports=c(a,{appointment:{modern:function(){return b("ServicesAppointmentViewDetailsDialog_appointment.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"appointment_type",kind:"Field",metadata:{},type:"PagesPlatformNativeBookingAppointmentType"},{fieldName:"booking_status",kind:"Field",metadata:{},type:"PagesPlatformNativeBookingStatus"},{fieldName:"consumer_name",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],fieldName:"page_comm_item",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"PageCommItem"},{children:[{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"product_item",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"ProductItem"},{fieldName:"requested_time",kind:"Field",metadata:{},type:"Time"},{fieldName:"service_general_info",kind:"Field",metadata:{},type:"String"},{fieldName:"special_request",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"country_code",kind:"Field",metadata:{},type:"String"},{fieldName:"display_number",kind:"Field",metadata:{},type:"String"},{fieldName:"extension",kind:"Field",metadata:{},type:"String"},{fieldName:"national_number",kind:"Field",metadata:{},type:"String"},{fieldName:"universal_number",kind:"Field",metadata:{},type:"String"}],fieldName:"consumer_phone_number",kind:"Field",metadata:{canHaveSubselections:!0},type:"PhoneNumber"},{children:[{fieldName:"start",kind:"Field",metadata:{},type:"Time"},{fieldName:"end",kind:"Field",metadata:{},type:"Time"}],fieldName:"suggested_time_range",kind:"Field",metadata:{canHaveSubselections:!0},type:"TimeRange"},{fieldName:"user_availability",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"field_key",kind:"Field",metadata:{},type:"ServicesNativeBookingRequestAdditionalInfoKey"},{fieldName:"label",kind:"Field",metadata:{},type:"String"},{fieldName:"value",kind:"Field",metadata:{},type:"String"}],fieldName:"additional_info",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"ServicesNativeBookingRequestAdditionalInfoField"},{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],fieldName:"job_application",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"JobApplication"},{fieldName:"request_flow_type",kind:"Field",metadata:{},type:"ServicesBookingRequestFlowType"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:1}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{children:[{fieldName:"text",kind:"Field",metadata:{},type:"String"}],fieldName:"body",kind:"Field",metadata:{canHaveSubselections:!0},type:"TextWithEntities"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"PagesPlatformNote"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"PagesPlatformNoteFromComponentFlowRequestEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"request_note",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0,isFindable:!0},type:"PagesPlatformNoteFromComponentFlowRequestConnection"}],id:a.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentViewDetailsDialog_appointment",type:"NativeComponentFlowBookingRequest"}}()}}},user:{modern:function(){return b("ServicesAppointmentViewDetailsDialog_user.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[{defaultValue:70,kind:"LocalArgument",name:"dimension"}],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:{kind:"CallVariable",callVariableName:"dimension"}},{kind:"Call",metadata:{type:"Int"},name:"height",value:{kind:"CallVariable",callVariableName:"dimension"}}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"profile_picture",kind:"Field",metadata:{canHaveSubselections:!0},type:"Image"}],id:a.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentViewDetailsDialog_user",type:"User"}}()}}},page:{modern:function(){return b("ServicesAppointmentViewDetailsDialog_page.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{children:[{fieldName:"time_zone_name",kind:"Field",metadata:{},type:"String"}],fieldName:"services_vertical_info",kind:"Field",metadata:{canHaveSubselections:!0},type:"ServicesVerticalPageBasedInfo"}],id:a.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentViewDetailsDialog_page",type:"Page"}}()}}}})}),null);
__d("ServicesAppointmentViewDetailsDialogRoot.react",["React","RelayFBEnvironment","RelayModern","ServicesAppointmentViewDetailsDialog.react","ServicesAppointmentViewDetailsDialogRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var i=function(){return b("ServicesAppointmentViewDetailsDialogRootQuery.graphql")};g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){if(!this.props.shown)return null;var a=this.props,c=a.requestID,d=a.userID,e=babelHelpers.objectWithoutProperties(a,["requestID","userID"]);return b("React").createElement(h,{environment:b("RelayFBEnvironment"),query:i,render:function(a){var c=a.error;a=a.props;if(c)return null;return!a?b("React").createElement(b("ServicesAppointmentViewDetailsDialog.react"),e):b("React").createElement(b("ServicesAppointmentViewDetailsDialog.react"),babelHelpers["extends"]({},e,{appointment:a.appointment,page:a.page,user:a.user}))},variables:{requestID:c,pageID:this.props.pageID,userID:d}})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("ServicesAppointmentInterstitialDialog.react",["cx","fbt","DialogExpansion","FluxContainer","InputLabel.react","LayerFadeOnHide","LayerFadeOnShow","LayerRemoveOnHide","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","ServicesAppointmentInterstitialAction","ServicesAppointmentInterstitialStore","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){this.state.optOut&&b("ServicesAppointmentInterstitialAction").interstitialOptOut(),b("PagesLogger").log(this.props.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").SERVICES_APPOINTMENT_INTERSTITIAL,null,["services_appointment_interstitial"],{opt_out:this.state.optOut,target:"NOT_NOW_BUTTON"}),this.$2(!1)}.bind(this),this.$3=function(){this.state.optOut&&b("ServicesAppointmentInterstitialAction").interstitialOptOut(),b("PagesLogger").log(this.props.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").SERVICES_APPOINTMENT_INTERSTITIAL,null,["services_appointment_interstitial"],{opt_out:this.state.optOut,target:"SCHEDULE_BUTTON"}),this.$2(!1),this.props.onToggleSchedule()}.bind(this),this.$4=b("uniqueID")(),c}a.getStores=function(){return[b("ServicesAppointmentInterstitialStore")]};a.calculateState=function(a){if(!a)return{isActive:!1,optOut:!1};var c=b("ServicesAppointmentInterstitialStore").isActive();return babelHelpers["extends"]({},a,{isActive:c})};a.prototype.componentDidMount=function(){b("ServicesAppointmentInterstitialAction").interstitialReady()};a.prototype.$2=function(a){a||b("ServicesAppointmentInterstitialAction").interstitialClose()};a.prototype.renderBody=function(){return b("React").createElement(b("XUIDialogBody.react"),null,h._("Customers with appointments can get automatic confirmations, reminders, and follow-up messages to book again."))};a.prototype.renderFooter=function(){var a=b("React").createElement(b("InputLabel.react"),{label:h._("Don't show again"),className:"_3-8w"},b("React").createElement(b("XUICheckboxInput.react"),{onChange:function(a){return this.setState({optOut:a.target.checked})}.bind(this)}));return b("React").createElement(b("XUIDialogFooter.react"),{leftContent:a},b("React").createElement(b("XUIDialogButton.react"),{label:h._("Not Now"),size:"large",onClick:this.$1}),b("React").createElement(b("XUIDialogButton.react"),{label:h._("Schedule"),onClick:this.$3,size:"large",use:"confirm"}))};a.prototype.renderTitle=function(){return b("React").createElement(b("XUIDialogTitle.react"),{id:this.$4},h._("Create an Appointment So Your Customer Gets Reminders"))};a.prototype.render=function(){return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerRemoveOnHide:b("LayerRemoveOnHide"),DialogExpansion:b("DialogExpansion")},hideOnEscape:!0,labelledBy:this.$4,layerHideOnBlur:!1,onToggle:this.$2,shown:this.state.isActive,width:500},this.renderTitle(),this.renderBody(),this.renderFooter())};e.exports=b("FluxContainer").create(a)}),null);
__d("ServicesUISpinnerOverlay.react",["cx","React","ServicesUISpinner.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.className,d=babelHelpers.objectWithoutProperties(a,["className"]);return b("React").createElement("div",{className:b("joinClasses")("_69vo"+(a.backgroundOverlay==="dark"?" _23hj":""),c)},b("React").createElement(b("ServicesUISpinner.react"),d))}e.exports=a}),null);
__d("ServicesThreadIntentActionSheetDialog.react",["ix","cx","fbt","FbtResultBase","Image.react","Instant","Link.react","MessengerDialog.react","MessengerDialogBody.react","MessengerDialogHeader.react","MessengerDialogTitle.react","NativeBookingRequestStatusUpdateAction","PagesEventObserver","PagesEventType","PagesPlatformBookingMessageViewer","React","ServicesAppointmentCalendarActions","ServicesAppointmentCalendarStore","ServicesAppointmentDialogButtonTexts","ServicesAppointmentDialogRoot.react","ServicesAppointmentManagementDialogEnum","ServicesAppointmentMutationUtils","ServicesAppointmentReferrer","ServicesDateTimeUtils","ServicesUISpinnerOverlay.react","ServicesWordingUtils","SimpleXUIDialog","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("PagesEventType").BOOKING_ADMIN_ACTION_SHEET_IMPRESSION,l=b("PagesEventType").BOOKING_ADMIN_ACTION_SHEET_TAPPED_DIFFERENT_TIME,m=b("PagesEventType").BOOKING_ADMIN_ACTION_SHEET_TAPPED_SUGGESTED_TIME,n=b("ServicesAppointmentDialogButtonTexts").SCHEDULE_APPOINTMENT,o=b("ServicesWordingUtils").ERROR_TEXT,p=b("ServicesWordingUtils").ERROR_TITLE,q=400;function r(a){var c=a.onClick;a=a.text;return b("React").createElement(b("Link.react"),{className:"_1251",onClick:c},b("React").createElement("div",{className:"_1252 _2pi1"},b("React").createElement(b("XUIText.react"),{color:"primary"},a)))}c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={isUpdating:!1,showCreateScheduleDialog:!1,timestampOptions:[]},this.onUpdateCompleted=function(a,c){this.setState({isUpdating:!1}),c?b("SimpleXUIDialog").show(o,p,function(){return this.onToggle(!1)}.bind(this)):(b("ServicesAppointmentCalendarStore").isInitialized()&&(b("ServicesAppointmentCalendarActions").forceCalendarRefetch(),b("ServicesAppointmentCalendarActions").forceRequestsTrayRefetch()),this.onToggle(!1))}.bind(this),this.onClickDifferentTime=function(){if(this.state.isUpdating)return;this.setState({showCreateScheduleDialog:!0});this.log(l)}.bind(this),this.onToggle=function(a){this.setState({showCreateScheduleDialog:!1}),this.props.onToggle(a)}.bind(this),c}a.prototype.componentDidMount=function(){var a=this.props.timestampOptions.filter(function(a){return a>b("Instant").now()});this.setState({showCreateScheduleDialog:a.length===0,timestampOptions:a},function(){return this.log(k)}.bind(this))};a.prototype.log=function(event,a){var c=null,d=null;a&&(c=this.props.timestampOptions.indexOf(a),d=this.state.timestampOptions.indexOf(a));b("PagesEventObserver").notify(event,this.props.pageID,{referrer:this.props.referrer,referrer_surface:this.props.referrerSurface,customer_id:this.props.userID,absolute_position:c,relative_position:d,selected_time:a,timestamp_options:this.state.timestampOptions})};a.prototype.onClickQuickSchedule=function(a){if(this.state.isUpdating)return;this.setState({isUpdating:!0});this.log(m,a);b("ServicesAppointmentMutationUtils").createAppointment({action:b("NativeBookingRequestStatusUpdateAction").CREATE,actor_id:this.props.pageID,page_id:this.props.pageID,referrer:b("ServicesAppointmentReferrer").ACTION_SHEET_SUGGESTED_TIME,request_owner_id:this.props.userID,suggested_time:a},this.onUpdateCompleted)};a.prototype.getActionSheetText=function(a){a=b("ServicesDateTimeUtils").getRelativeDayTimeText(a);var c=a.relativeDayText;a=a.startTimeText;return i._("{relative-day} at {start-time}",[i._param("relative-day",c),i._param("start-time",a)])};a.prototype.renderSpinnerAndOverlay=function(){return!this.state.isUpdating?null:b("React").createElement(b("ServicesUISpinnerOverlay.react"),{backgroundOverlay:"dark",centered:!0,size:"large"})};a.prototype.renderBody=function(){return b("React").createElement("div",{className:"_1261 _3-8j"},this.state.timestampOptions.map(function(a,c){return b("React").createElement(r,{key:"action_sheet_row_"+c,onClick:function(){return this.onClickQuickSchedule(a)}.bind(this),text:this.getActionSheetText(a).toString()})}.bind(this)),b("React").createElement(r,{onClick:this.onClickDifferentTime,text:i._("Different time")}))};a.prototype.renderCreateScheduleDialog=function(){var a=this.state.timestampOptions;a=a.length>0?a[0]:null;return b("React").createElement(b("ServicesAppointmentDialogRoot.react"),{causalElementRef:function(){return this}.bind(this),dialogType:b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT,onToggle:this.onToggle,pageID:this.props.pageID,referrer:b("ServicesAppointmentReferrer").ACTION_SHEET_DIFFERENT_TIME,referrerSurface:this.props.referrerSurface,showMessengerButton:!1,shown:this.props.shown,startTime:a,userID:this.props.userID,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})};a.prototype.render=function(){if(!this.props.shown)return null;return this.state.showCreateScheduleDialog?this.renderCreateScheduleDialog():b("React").createElement(b("MessengerDialog.react"),{onToggle:this.onToggle,type:"default",width:q},this.renderSpinnerAndOverlay(),b("React").createElement(b("MessengerDialogHeader.react"),null,b("React").createElement(b("MessengerDialogTitle.react"),{className:"_3yf5"},n),b("React").createElement(b("Image.react"),{className:"_6a1h",src:g("478238"),onClick:function(){return this.onToggle(!1)}.bind(this)})),b("React").createElement(b("MessengerDialogBody.react"),{className:"_4dx2"},this.renderBody()))};e.exports=a}),null);
__d("XDliteGraphQLSkywalkerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/dlite/skywalker_topic/",{})}),null);
__d("PagesManagerInboxComposerCreateAppointmentButton.react",["cx","fbt","ChannelManager","CurrentUser","FluxContainer","Link.react","PagesEventObserver","PagesPlatformBookingMessageViewer","React","ReactDOM","RelayGraphQLSubscriptionNetworkLayer","RelayGraphQLSubscriber","ServicesAppointmentAvailabilitySelectorDialog.react","ServicesAppointmentBadgeSubscription","ServicesAppointmentCalendarStore","ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation","ServicesAppointmentComposerBadgeQueryWebGraphQLQuery","ServicesAppointmentAvailabilitySelectorQueryWebGraphQLQuery","ServicesAppointmentDialogRoot.react","ServicesAppointmentInterstitialDialog.react","ServicesAppointmentManagementDialogEnum","ServicesAppointmentReferrer","ServicesCTAUnificationDispatcher","ServicesDateTimeUtils","ServicesMessengerAppointmentNUXActions","ServicesMessengerAppointmentNUXStore","ServicesThreadIntentActionSheetDialog.react","ServicesVerticalCreateAppointmentDialogRoot.react","Timezone","WebGraphQL","XDliteGraphQLSkywalkerController","XUIAmbientNUX.react","XUIContextualDialog.react","promiseDone","uuid","RulesTimezoneTransitionProvider","TimezoneRulesFrom2009","TimezoneNamesData","PagesEventType","ServicesMessengerAppointmentNUXIDEnum"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;b("ChannelManager");b("Timezone").registerRulesModule(b("RulesTimezoneTransitionProvider"),b("TimezoneRulesFrom2009"));b("Timezone").registerNamesModule(b("TimezoneNamesData"));b("Timezone").toggleTransitionProvider("rules",!0);var j=function(a){var c=a.title;a=a.onClick;return b("React").createElement(b("Link.react"),{className:"_2ph- _6e1j",onClick:a},b("React").createElement("div",{className:"_6e1k"},c))},k=b("PagesEventType").BOOKING_ADMIN_COMPOSER_ICON_IMPRESSION,l=b("PagesEventType").BOOKING_ADMIN_THREAD_INTENT_COMPOSER_BADGING_IMPRESSION,m=b("ServicesMessengerAppointmentNUXIDEnum").COMPOSER_NUX_ID;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.setAnchorRef=function(a){return this.anchorRef=a}.bind(this),this.getAnchorRef=function(){return this.anchorRef}.bind(this),this.composerBadgeSubscription=null,this.handleClick=function(){this.state.showComposerBadge&&b("WebGraphQL").exec(new(b("ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation"))({input:{actor_id:b("CurrentUser").getAccountID(),client_mutation_id:b("uuid")(),page_id:this.props.userID,user_id:this.props.recipientID}})),this.state.availEntryShown||this.handleCreateAppointment()}.bind(this),this.handleInterstitialSchedule=function(){this.setState({dialogShown:!0,referrer:b("ServicesAppointmentReferrer").APPOINTMENT_INTERSTITIAL})}.bind(this),this.handleToggleDialog=function(a){this.setState({dialogShown:a})}.bind(this),this.handleAvailabilityToggleDialog=function(a){this.setState({availDialogShown:a})}.bind(this),this.handleCreateAppointment=function(){this.setState({dialogShown:!0,referrer:b("ServicesAppointmentReferrer").COMPOSER,showComposerBadge:!1})}.bind(this),this.handleSendAvailability=function(){this.setState({availDialogShown:!0})}.bind(this),c}a.getStores=function(){return[b("ServicesMessengerAppointmentNUXStore")]};a.calculateState=function(a){if(!a)return{availDialogShown:!1,availEntryShown:!1,dialogShown:!1,referrer:b("ServicesAppointmentReferrer").COMPOSER,showComposerBadge:!1,showComposerNUX:!1,timeMentioned:null,timeOptions:[],timeZoneID:b("ServicesDateTimeUtils").getDefaultTimeZoneID()};var c=b("ServicesMessengerAppointmentNUXStore").getState();return babelHelpers["extends"]({},a,{showComposerNUX:c.showComposerNUX})};a.prototype.componentDidMount=function(){b("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("ServicesMessengerAppointmentNUXActions").loadNUXEligibility(),this.log(k),b("RelayGraphQLSubscriptionNetworkLayer").injectGraphQLSubscriber(b("RelayGraphQLSubscriber")(b("XDliteGraphQLSkywalkerController").getURIBuilder().getURI())),this.initShowComposerBadge(),this.initShowAvilabilitySelector(),this.subscribeToShowComposerBadge()};a.prototype.componentWillUnmount=function(){this.composerBadgeSubscription&&(this.composerBadgeSubscription=null)};a.prototype.UNSAFE_componentWillReceiveProps=function(a,b){!this.state.showComposerBadge&&b.showComposerBadge&&this.log(l)};a.prototype.log=function(event){b("PagesEventObserver").notify(event,this.props.userID,{referrer:this.state.referrer,referrer_surface:this.props.referrerSurface,customer_id:this.props.recipientID})};a.prototype.initShowComposerBadge=function(){b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesAppointmentComposerBadgeQueryWebGraphQLQuery"))({page_id:this.props.userID,user_id:this.props.recipientID})),function(a){a=((a=a)!=null?(a=a.page)!=null?a.services_vertical_info:a:a)||{};var b=a.messenger_appointment_intent_data||{};this.setState({showComposerBadge:!!a.should_show_composer_badge,timeMentioned:b.time_mentioned||null,timeOptions:b.time_options||[]})}.bind(this),function(a){})};a.prototype.initShowAvilabilitySelector=function(){b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesAppointmentAvailabilitySelectorQueryWebGraphQLQuery"))({page_id:this.props.userID})),function(a){a=((a=a)!=null?(a=a.page)!=null?a.services_vertical_info:a:a)||{};var b=a.group_for_services_sharing_availability_www;this.setState({availEntryShown:b==="test_entry"||b==="test_entry_nux",timeZoneID:this.getTimeZoneID(a.time_zone_name)})}.bind(this),function(a){})};a.prototype.getTimeZoneID=function(a){return a?b("Timezone").getByName(a):b("ServicesDateTimeUtils").getDefaultTimeZoneID()};a.prototype.subscribeToShowComposerBadge=function(){this.composerBadgeSubscription=b("ServicesAppointmentBadgeSubscription").subscribe({page_id:this.props.userID,user_id:this.props.recipientID},function(a){a=((a=a)!=null?a.services_appointment_badge_subscribe:a)||{};this.setState({showComposerBadge:!!a.should_show_badge,timeMentioned:a.timestamp||null,timeOptions:a.time_options||[]})}.bind(this))};a.prototype.renderAppointmentInterstitial=function(){return b("React").createElement(b("ServicesAppointmentInterstitialDialog.react"),{onToggleSchedule:this.handleInterstitialSchedule,pageID:this.props.userID})};a.prototype.renderActionSheetDialog=function(){return b("React").createElement(b("ServicesThreadIntentActionSheetDialog.react"),{onToggle:this.handleToggleDialog,pageID:this.props.userID,referrer:this.state.referrer,referrerSurface:this.props.referrerSurface,shown:this.state.dialogShown,timestampOptions:this.state.timeOptions,userID:this.props.recipientID})};a.prototype.renderCreateAnotherAppointmentDialog=function(){var a=this.state.timeMentioned;if(b("ServicesAppointmentCalendarStore").isInitialized()){var c=a?b("ServicesDateTimeUtils").getClosestDateWithSameTime(a,b("ServicesAppointmentCalendarStore").getTimeZoneID()):null;return b("React").createElement(b("ServicesAppointmentDialogRoot.react"),{causalElementRef:function(){return this}.bind(this),dialogType:b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT,onToggle:this.handleToggleDialog,pageID:this.props.userID,referrer:this.state.referrer,referrerSurface:this.props.referrerSurface,showMessengerButton:!1,shown:this.state.dialogShown,startTime:c,userID:this.props.recipientID,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})}c=a?b("ServicesDateTimeUtils").getClosestDateWithSameTime(a):null;return b("React").createElement(b("ServicesVerticalCreateAppointmentDialogRoot.react"),{causalElementRef:function(){return this}.bind(this),onToggle:this.handleToggleDialog,pageID:this.props.userID,requestOwnerID:this.props.recipientID,referrer:this.state.referrer,referrerSurface:this.props.referrerSurface,shown:this.state.dialogShown,startTime:c||undefined})};a.prototype.renderSendAvailabilityDialog=function(){return b("React").createElement(b("ServicesAppointmentAvailabilitySelectorDialog.react"),{onToggle:this.handleAvailabilityToggleDialog,pageID:this.props.userID,shown:this.state.availDialogShown,timeZoneID:this.state.timeZoneID,userID:this.props.recipientID})};a.prototype.renderCreateAppointmentDialog=function(){var a=this.state,b=a.dialogShown;a=a.timeOptions;return!b?null:a.length>0?this.renderActionSheetDialog():this.renderCreateAnotherAppointmentDialog()};a.prototype.renderLayer=function(){if(!this.button)return null;var a=this.state.showComposerNUX;a&&b("ServicesMessengerAppointmentNUXActions").showNUX(m);return b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"right",context:b("ReactDOM").findDOMNode(this.button),shown:a,onCloseButtonClick:function(){return b("ServicesMessengerAppointmentNUXActions").closeNUX(m)},position:"above",width:"normal"},h._("Create an appointment from any conversation so customers can get automatic reminders"))};a.prototype.renderContextualDialog=function(){return!this.state.availEntryShown?null:b("React").createElement(b("XUIContextualDialog.react"),{alignment:"center",autoFocus:!1,contextRef:this.getAnchorRef,hoverContextRef:this.getAnchorRef,label:h._("services appointment tab"),position:"above",width:140},b("React").createElement("div",{className:"_2em3"},b("React").createElement(j,{title:h._("Create Appointment"),onClick:this.handleCreateAppointment}),b("React").createElement(j,{title:h._("Send Availability"),onClick:this.handleSendAvailability})))};a.prototype.render=function(){var a=null;this.state.availEntryShown||(a=h._("Create Appointment"));return b("React").createElement("div",null,b("React").createElement(b("Link.react"),{"aria-label":this.props.showTooltip?a:null,className:"_2em3","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?a:null,onClick:this.handleClick,ref:function(a){return this.button=a}.bind(this)},b("React").createElement("div",{className:this.state.showComposerBadge?"_4on2":""}),b("React").createElement("i",{ref:this.setAnchorRef,className:"_2em5"})),this.renderContextualDialog(),this.renderLayer(),this.renderCreateAppointmentDialog(),this.renderSendAvailabilityDialog(),this.renderAppointmentInterstitial())};e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerMessagingComposerAttachedLeadForm.react",["ix","cx","Image.react","React","XUICloseButton.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){return b("React").createElement("ul",{className:"_27ru"},b("React").createElement("li",{className:"clearfix _2uid"},b("React").createElement("span",{className:"_kqe _kqf"},b("React").createElement("span",{className:"_2uib"},b("React").createElement(b("Image.react"),{src:g("397685")}))),b("React").createElement("span",{className:"_kqe _kqh"},b("React").createElement("span",{className:"_2uic"},this.props.form.name)),b("React").createElement("span",{className:"_kqe _kqi"},b("React").createElement(b("XUICloseButton.react"),{className:"_2uia",onClick:this.props.onDetach}))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerMessagingComposerAttachmentListItem.react",["cx","ix","Image.react","React","XUICloseButton.react","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.$1=function(){return this.props.onDetach(this.props.uploadID)}.bind(this)}a.prototype.$2=function(){if(this.props.type.startsWith("image"))return h("94995");else if(this.props.type.startsWith("video"))return h("94998");else if(this.props.type.startsWith("audio"))return h("94984");else if(this.props.type.startsWith("text"))return h("94997");return h("94992")};a.prototype.$3=function(){return b("React").createElement(b("XUICloseButton.react"),{className:"_2uia",onClick:this.$1})};a.prototype.$4=function(){return b("React").createElement("span",{className:"_2uib"},this.props.isUploading?b("React").createElement(b("XUISpinner.react"),{size:"large"}):b("React").createElement(b("Image.react"),{src:this.$2(),alt:this.props.type}))};a.prototype.$5=function(){return b("React").createElement("span",{className:"_2uic"},this.props.name)};a.prototype.render=function(){return b("React").createElement("li",{className:"clearfix _2uid"},b("React").createElement("span",{className:"_kqe _kqf"},this.$4()),b("React").createElement("span",{className:"_kqe _kqh"},this.$5()),b("React").createElement("span",{className:"_kqe _kqi"},this.$3()))};a.propTypes={attachmentID:c.string,isUploading:c.bool,key:c.string,name:c.string,onDetach:c.func,type:c.string,uploadID:c.string};e.exports=a}),null);
__d("PagesManagerMessagingComposerAttachmentList.react",["cx","PagesManagerMessagingComposerAttachmentListItem.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.$1=function(a){return b("React").createElement(b("PagesManagerMessagingComposerAttachmentListItem.react"),{isUploading:a.isUploading,key:a.uploadID,name:a.name,onDetach:this.props.onDetach,type:a.type,uploadID:a.uploadID})};a.prototype.render=function(){return this.props.attachments.length>0?b("React").createElement("ul",{className:"_27ru"},this.props.attachments.map(this.$1,this)):null};function a(){h.apply(this,arguments)}a.propTypes={attachments:c.array.isRequired,onDetach:c.func.isRequired};a.defaultProps={attachments:[]};e.exports=a}),null);
__d("PagesManagerMessagingLeadFormsListItem.react",["cx","fbt","AsyncDialog","AsyncRequest","LeftRight.react","Link.react","React","XAdsLeadGenFormPreviewController","intlList"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;var j=5;d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){this.props.onSelectLeadForm(this.props.form)}.bind(this),this.$2=function(a){a.stopPropagation();a=b("XAdsLeadGenFormPreviewController").getURIBuilder().setFBID("lead_gen_data_id",this.props.form.id).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a))}.bind(this),c}a.prototype.render=function(){var a=this.props.form.questions,c=a.length,d=[];d.push.apply(d,a.slice(0,j));c>j&&d.push(h._("{number of hidden questions} more",[h._param("number of hidden questions",c-j)]));a=b("intlList")(d);return b("React").createElement("li",null,b("React").createElement("div",{className:"_2ph_ _40g6",onClick:this.$1,role:"menuitem",tabIndex:0},b("React").createElement(b("LeftRight.react"),{direction:"right"},b("React").createElement("div",null,b("React").createElement("h4",{className:"_40g7"},this.props.form.name),b("React").createElement("span",null,h._("{inlineQuestions}",[h._param("inlineQuestions",a)])),b("React").createElement("div",null,b("React").createElement(b("Link.react"),{href:"#",onClick:this.$2},h._("Preview")))))))};e.exports=a}),null);
__d("PagesManagerMessagingLeadFormsList.react",["cx","fbt","Link.react","PagesManagerMessagingLeadFormsListItem.react","React","ScrollableArea.react","URI","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){var a=this.props.forms.map(function(a){return b("React").createElement(b("PagesManagerMessagingLeadFormsListItem.react"),{form:a,key:a.id,onSelectLeadForm:this.props.onSelectLeadForm,pageID:this.props.pageID})}.bind(this)),c=this.props.isLoading?b("React").createElement("div",{className:"_2ph_ _22rp"},b("React").createElement(b("XUISpinner.react"),{size:"large"})):null;return b("React").createElement("div",{className:"_22rq"+(this.props.isLoading?" _22rr":"")+(!this.props.isLoading&&this.props.forms.length===0?" _22rs":"")},c,b("React").createElement(b("ScrollableArea.react"),{fade:!0,height:300,shadow:!1},b("React").createElement("ul",{className:"_22rt"},a,b("React").createElement("li",{className:"_2ph_ _22rs"},b("React").createElement("div",{className:"_2ph_ _22ru"},b("React").createElement("p",null,h._("End of forms")),b("React").createElement("p",null,b("React").createElement(b("Link.react"),{className:"_22rv",href:this.props.leadFormLibraryURI},h._("Create new form"))))))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerMessagingLeadFormsFlyout.react",["cx","fbt","LeftRight.react","Link.react","PageContentTabTabs","PagesManagerMessagingLeadFormsList.react","React","URI","XPagesManagerPublishingToolsController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){var a=b("XPagesManagerPublishingToolsController").getURIBuilder().setString("section",b("PageContentTabTabs").LEAD_ADS_FORMS).setString("page_token",this.props.pageID).getURI();return b("React").createElement("div",{className:"_2gcs"},b("React").createElement(j,{leadFormLibraryURI:a}),b("React").createElement(b("PagesManagerMessagingLeadFormsList.react"),{forms:this.props.forms,isLoading:this.props.isLoading,leadFormLibraryURI:a,onSelectLeadForm:this.props.onSelectLeadForm,pageID:this.props.pageID}))};function a(){i.apply(this,arguments)}function j(a){return b("React").createElement(b("LeftRight.react"),{className:"_2ph_ _2gcu"},b("React").createElement("h3",{className:"_ht4",id:"leadFormsHeaderTitle"},h._("Published Forms")),b("React").createElement(b("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",href:a.leadFormLibraryURI},h._("Manage Forms")))}e.exports=a}),null);
__d("PagesManagerMessagingLeadFormsButton.react",["cx","fbt","Link.react","PagesManagerMessagingLeadFormsFlyout.react","React","XUIContextualDialog.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;var j=405;d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.$3=function(){this.props.onFetchLeadForms(),this.setState(function(b,a){return{isFlyoutShown:!b.isFlyoutShown}})}.bind(this),this.$4=function(){setTimeout(function(){this.setState({isFlyoutShown:!1})}.bind(this),0)}.bind(this),this.$5=function(){return this.$2}.bind(this),this.$1=null,this.$2=null,this.state={isFlyoutShown:!1}}a.prototype.render=function(){var a=this.props.showTooltip?h._("Send a Lead Form"):null,c=null;this.state.isFlyoutShown&&(c=b("React").createElement(b("XUIContextualDialog.react"),{alignment:"right",className:"_63go",contextRef:this.$5,hasActionableContext:!0,hideOnEscape:!1,labelledBy:"leadFormsHeaderTitle",onBlur:this.$4,position:"above",ref:function(a){return this.$1=a}.bind(this),shown:this.state.isFlyoutShown,width:j},b("React").createElement(b("PagesManagerMessagingLeadFormsFlyout.react"),{forms:this.props.forms,isLoading:this.props.isLeadFormsLoading,onSelectLeadForm:this.props.onSelectLeadForm,pageID:this.props.pageID})));return b("React").createElement("div",null,b("React").createElement(b("Link.react"),{"aria-label":a,className:"_63gp","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":a,onClick:this.$3,tabIndex:0},b("React").createElement("div",{className:"_63gq",ref:function(a){return this.$2=a}.bind(this)})),c)};e.exports=a}),null);
__d("XPagesSavedResponsesImageDuplicationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/image/duplication/",{})}),null);
__d("PagesManagerMessagingSavedRepliesListItem.react",["cx","ActorURI","AsyncRequest","LeftRight.react","React","SavedResponsesImage.react","SavedResponsesTokensUtils","SavedResponsesUtils","XPagesSavedResponsesImageDuplicationController","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=53,j=53;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){h.constructor.call(this,a),this.state={isHovering:!1}}a.prototype.$1=function(){if(this.props.reply.image){var a=this.props.reply.image.id;return b("React").createElement(b("SavedResponsesImage.react"),{className:"_3-9b _1pnc",displayClassName:"_1pnc",height:i,imageID:a,loadingClassName:"_1pnc",pageID:this.props.pageID,shouldShowCloseButton:!1,width:j})}};a.prototype.$2=function(){if(this.props.reply.title)return b("React").createElement("h4",{className:"_40g7"},this.props.reply.title)};a.prototype.$3=function(){__p&&__p();var a=b("SavedResponsesTokensUtils").prepareforSend(this.props.reply.message,this.props.tokens),c=null,d;if(!this.props.reply.image){this.props.onClick(this.props.reply,a,c);return}c=this.props.reply.image.id;d=b("XPagesSavedResponsesImageDuplicationController").getURIBuilder().getURI();d=b("ActorURI").create(d,this.props.pageID);new(b("AsyncRequest"))().setURI(d).setMethod("POST").setData({image_id:c}).setHandler(function(c){c=b("SavedResponsesUtils").generateImageMetadata(""+c.payload.duplicatedImageID);this.props.onClick(this.props.reply,a,c)}.bind(this)).send()};a.prototype.$4=function(){var a=b("SavedResponsesTokensUtils").prepareforSend(this.props.reply.message,this.props.tokens);this.props.onMouseEnter(a)};a.prototype.$5=function(a){__p&&__p();var c=0,d=0,e=/\{{(.*?)\}}/g,f=e.exec(a),g=0,h=[];while(f!=null){d=f.index;h.push(b("React").createElement("span",{key:"token:"+g},a.substring(c,d)));c=d+f[0].length;g+=1;var i=f[1]in this.props.tokens?this.props.tokens[f[1]].value:f[1];h.push(b("React").createElement("span",{className:"_1pnd",key:"token:"+g},i));f=e.exec(a);g+=1}h.push(b("React").createElement("span",{key:"token:"+g},a.substring(c,a.length)));g+=1;return h};a.prototype.render=function(){return b("React").createElement("li",{className:b("joinClasses")("_2ph_ _40g6",this.props.className),onClick:function(){return this.$3()}.bind(this),onMouseEnter:function(){return this.$4()}.bind(this),onMouseLeave:function(){return this.props.onMouseLeave()}.bind(this),ref:"replyItem"},b("React").createElement(b("LeftRight.react"),{direction:"right"},b("React").createElement("div",null,this.$2(),this.$5(this.props.reply.message)),this.$1()))};a.propTypes={className:c.string,onClick:c.func.isRequired,onMouseEnter:c.func.isRequired,onMouseLeave:c.func.isRequired,pageID:c.string.isRequired,reply:c.object.isRequired,tokens:c.object.isRequired};e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesList.react",["cx","fbt","Link.react","PagesManagerMessagingSavedRepliesListItem.react","React","SavedResponsesUtils","ScrollableArea.react","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$7=function(a,c){return b("React").createElement(b("PagesManagerMessagingSavedRepliesListItem.react"),{className:this.$1(a)?"":"hidden_elem",key:c,onClick:this.props.onReplySelected,onMouseEnter:this.props.onReplyMouseEnter,onMouseLeave:this.props.onReplyMouseLeave,pageID:this.props.pageID,reply:a,tokens:this.props.tokens})}.bind(this),c}a.prototype.$1=function(a){var b=this.props.filter.toLowerCase();return a.message.toLowerCase().indexOf(b)!==-1||(a.title||"").toLowerCase().indexOf(b)!==-1};a.prototype.render=function(){return b("React").createElement("div",{className:"_22rq"+(this.props.isLoading?" _22rr":"")+(!this.props.isLoading&&this.props.replies.length===0?" _22rs":"")},this.props.isLoading?this.$2():null,this.$3())};a.prototype.$4=function(){return b("React").createElement(b("Link.react"),{onClick:function(){return this.props.onCreateNewReply()}.bind(this),className:"_22rv"},h._("Create new reply"))};a.prototype.$5=function(){return b("React").createElement("div",{className:"_2ph_ _22ru"},b("React").createElement("p",null,this.$6()),b("React").createElement("p",null,this.$4()))};a.prototype.$2=function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_2ph_ _22rp"},b("React").createElement(b("XUISpinner.react"),{size:"large"})))};a.prototype.$6=function(){return h._("End of saved replies")};a.prototype.$3=function(){var a=b("SavedResponsesUtils").sortSavedResponses(this.props.replies,this.props.sortingKey);return b("React").createElement(b("ScrollableArea.react"),{fade:!0,shadow:!1,height:300},b("React").createElement("ul",{className:"_22rt"},a.map(this.$7,this),b("React").createElement("li",{className:"_2ph_ _22rs"},this.$5())))};a.defaultProps={filter:""};a.propTypes={filter:c.string,isLoading:c.bool.isRequired,onCreateNewReply:c.func.isRequired,onReplyMouseEnter:c.func.isRequired,onReplyMouseLeave:c.func.isRequired,onReplySelected:c.func.isRequired,pageID:c.string.isRequired,replies:c.array.isRequired,tokens:c.object.isRequired};e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesFlyout.react",["cx","fbt","ix","Layout.react","Image.react","LeftFillRightFitLayout.react","LeftRight.react","Link.react","PagesManagerMessagingSavedRepliesList.react","React","SavedResponsesConstants","SavedResponsesOrderingMenu.react","XUICloseButton.react","XUITextInput.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Layout.react").Column,l=b("Layout.react").FillColumn;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(a){j.constructor.call(this,a),this.$1=function(a){this.setState({activeSortingOptionKey:a})}.bind(this),this.state={searchQuery:"",activeSortingOptionKey:b("SavedResponsesConstants").sortingKey.MOST_USED}}a.prototype.$2=function(a){a=a.target.value;this.setState({searchQuery:a})};a.prototype.$3=function(){this.setState({searchQuery:""})};a.prototype.render=function(){return b("React").createElement("div",{className:"_2gcs"},this.$4(),b("React").createElement(b("LeftFillRightFitLayout.react"),null,this.$5(),b("React").createElement(b("SavedResponsesOrderingMenu.react"),{className:"_2gct",activeSortingOptionKey:this.state.activeSortingOptionKey,onSortingKeyChanged:this.$1})),this.$6())};a.prototype.$4=function(){return b("React").createElement("div",{className:"_2ph_ _2gcu"},b("React").createElement(b("LeftRight.react"),null,b("React").createElement("h3",{className:"_ht4"},h._("Saved Replies")),b("React").createElement(b("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",onClick:this.props.onManageReplies},h._("Manage Replies"))))};a.prototype.$6=function(){return b("React").createElement(b("PagesManagerMessagingSavedRepliesList.react"),{filter:this.state.searchQuery,isLoading:this.props.isLoading,onCreateNewReply:this.props.onCreateNewReply,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,sortingKey:this.state.activeSortingOptionKey,tokens:this.props.tokens})};a.prototype.$5=function(){return b("React").createElement(b("Layout.react"),{className:"_2ph_ _ht5"},b("React").createElement(k,null,b("React").createElement(b("Image.react"),{className:"_ht8",src:i("27278")})),b("React").createElement(l,null,b("React").createElement(b("XUITextInput.react"),{className:"_ht9",onChange:this.$2.bind(this),ref:"inputField",placeholder:h._("Search Saved Replies"),value:this.state.searchQuery})),b("React").createElement(k,null,b("React").createElement(b("XUICloseButton.react"),{size:"small",onClick:this.$3.bind(this),className:(this.state.searchQuery.length===0?"hidden_elem":"")+" _hta"})))};a.propTypes={isLoading:c.bool.isRequired,onCreateNewReply:c.func.isRequired,onManageReplies:c.func.isRequired,onReplyMouseEnter:c.func.isRequired,onReplyMouseLeave:c.func.isRequired,onReplySelected:c.func.isRequired,pageID:c.string.isRequired,replies:c.array.isRequired,tokens:c.object.isRequired};e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesButton.react",["cx","fbt","Link.react","PagesEventObserver","PagesEventType","PagesManagerMessagingSavedRepliesFlyout.react","React","SavedResponsesConstants","SavedResponsesManagePanel.react","XUIContextualDialog.react","XUIDialog.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=600,k=405;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.state={initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST,isFlyoutShown:!1,isManageDialogVisible:!1}}a.prototype.$1=function(){this.props.onFetchReplies(),b("PagesEventObserver").notify(b("PagesEventType").SAVED_REPLIES_TOGGLE_BROWSE_VIEW,this.props.pageID,{toggle_on:!this.state.isFlyoutShown}),this.setState({isFlyoutShown:!this.state.isFlyoutShown})};a.prototype.$2=function(){this.props.onFetchReplies(),this.setState({isManageDialogVisible:!1})};a.prototype.$3=function(){setTimeout(function(){b("PagesEventObserver").notify(b("PagesEventType").SAVED_REPLIES_TOGGLE_BROWSE_VIEW,this.props.pageID,{toggle_on:!1}),this.setState({isFlyoutShown:!1})}.bind(this),0)};a.prototype.render=function(){var a=h._("Choose a Saved Reply");return b("React").createElement("div",null,b("React").createElement(b("Link.react"),{"aria-label":this.props.showTooltip?a:null,className:"_hsy","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?a:null,onClick:this.$1.bind(this)},b("React").createElement("div",{className:"_ht0",ref:"icon"})),this.$4(),this.$5())};a.prototype.$4=function(){if(this.state.isFlyoutShown)return b("React").createElement(b("XUIContextualDialog.react"),{alignment:"right",className:"_ht1",contextRef:function(){return this.refs.icon}.bind(this),hasActionableContext:!0,hideOnEscape:!1,onBlur:this.$3.bind(this),position:"above",ref:"flyoutDialog",shown:this.state.isFlyoutShown,width:k},b("React").createElement(b("PagesManagerMessagingSavedRepliesFlyout.react"),{isLoading:this.props.isSavedRepliesLoading,onCreateNewReply:function(){return this.setState({isManageDialogVisible:!0,initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.CREATE})}.bind(this),onManageReplies:function(){return this.setState({isManageDialogVisible:!0,initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST})}.bind(this),onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,tokens:this.props.tokens}))};a.prototype.$5=function(){if(this.state.isManageDialogVisible)return b("React").createElement(b("XUIDialog.react"),{layerHideOnBlur:!1,ref:"managementDialog",shown:this.state.isManageDialogVisible,width:j},b("React").createElement(b("SavedResponsesManagePanel.react"),{initialViewType:this.state.initialSavedResponsesManageViewType,onClose:this.$2.bind(this),otherUserID:this.props.recipientID,pageID:this.props.pageID}))};a.propTypes={isSavedRepliesLoading:c.bool.isRequired,onFetchReplies:c.func.isRequired,onReplyMouseEnter:c.func.isRequired,onReplyMouseLeave:c.func.isRequired,onReplySelected:c.func.isRequired,pageID:c.string.isRequired,recipientID:c.string.isRequired,replies:c.array.isRequired,showTooltip:c.bool,tokens:c.object.isRequired};a.defaultProps={showTooltip:!0};e.exports=a}),null);
__d("PagesManagerMessagingComposerView.react",["cssVar","cx","fbt","ix","CommerceInvoiceAdminButton.react","Image.react","MercuryDragDropPrompt.react","MercuryShareAttachmentRenderLocations","MessengerHotLikeButton.react","MessengerHotLikeGlyphIcon.react","PagesAdminToolUIActionType","PagesEventObserver","PagesEventType","PagesManagerInboxComposerCreateAppointmentButton.react","PagesManagerLogger","PagesManagerMessagingComposerAttachedLeadForm.react","PagesManagerMessagingComposerAttachmentList.react","PagesManagerMessagingLeadFormsButton.react","PagesManagerMessagingSavedRepliesButton.react","PagesMessageSuggestedResponseHandler","PagesMessagingPerfLoggerEvent","PagesMessagingPerfTypedLogger","PagesMessengerFileUploader.react","PagesMessengerSuggestedResponseView.react","PagesMessengerTextInput.react","React","ReactDOM","SavedResponsesUtils","ServicesAppointmentReferrerSurface","Tooltip.react","TooltipData","UFIStickerButton.react","XUIButton.react","fbglyph","Grid.react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k;c=b("React").PropTypes;d=function(){};var l=b("Grid.react").GridItem;f=babelHelpers.inherits(a,b("React").Component);k=f&&f.prototype;function a(a){k.constructor.call(this,a),this.$1=!1,this.state={isAttachmentsButtonVisible:!0,isLeadFormsButtonVisible:!0,isSavedRepliesButtonVisible:!0,isStickerButtonVisible:!0,placeholder:""}}a.prototype.componentDidUpdate=function(a,b){this.props.onInitialRender&&this.props.participant&&this.refs.textInput&&!this.$1&&(this.props.onInitialRender(),this.$1=!0),a&&a.message!==this.props.message&&this.refs.textInput.updateHeight()};a.prototype.UNSAFE_componentWillMount=function(){this.$2(this.props)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.$2(a,this.state)};a.prototype.$2=function(a){var b=a.attachments.length,c=a.message.length;a=!!a.leadFormsData.attachedLeadForm;c=c<1&&b<1&&!a;var d=!a&&(this.props.supportMultiAttachments||b<1);this.setState({isAttachmentsButtonVisible:d,isLeadFormsButtonVisible:!a&&b<1,isSavedRepliesButtonVisible:c,isStickerButtonVisible:c})};a.prototype.$3=function(){return this.props.canAttachFiles};a.prototype.$4=function(){return this.props.canUseSavedReplies&&this.state.isSavedRepliesButtonVisible};a.prototype.$5=function(){return this.props.canUseStickers&&this.state.isStickerButtonVisible};a.prototype.$6=function(){return!!this.props.canUseLeadForms&&this.state.isLeadFormsButtonVisible};a.prototype.$7=function(a){this.props.onEmoticonSelected(a,b("ReactDOM").findDOMNode(this.refs.textInput.refs.input))};a.prototype.$8=function(a){a.preventDefault();a=Date.now();b("PagesManagerLogger").logMessageInboxUIAction(b("PagesAdminToolUIActionType").MESSAGE_INBOX_CLICK_SEND_MESSAGE,this.props.userID);new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName(b("PagesMessagingPerfLoggerEvent").SEND_MESSAGE_JS_START).log();this.props.onSend(a)};a.prototype.$9=function(){return!this.props.leadFormsData.attachedLeadForm?null:b("React").createElement(b("PagesManagerMessagingComposerAttachedLeadForm.react"),{form:this.props.leadFormsData.attachedLeadForm,onDetach:this.props.onDetachLeadForm})};a.prototype.$10=function(){if(!this.$3())return null;var a=i._("Send a file");return b("React").createElement("div",babelHelpers["extends"]({className:"_4dvy"+(this.state.isAttachmentsButtonVisible?"":" hidden_elem")},b("TooltipData").propsFor(a)),b("React").createElement(b("PagesMessengerFileUploader.react"),{actionURI:this.props.uploaderActionURI,iconSize:"large",supportMulti:this.props.supportMultiAttachments,onFileUploaderMounted:this.props.onFileUploaderMounted,onSubmit:this.props.onFileUploaderSubmit,onUpdateAttachmentsShelf:this.props.onFileUploadUpdateUI,onUploadFinished:this.props.onFileUploadFinished,ref:"fileUploader"}))};a.prototype.$11=function(){return!this.props.canAttachFiles?null:b("React").createElement(b("PagesManagerMessagingComposerAttachmentList.react"),{attachments:this.props.attachments,attachmentsUploading:this.props.attachmentsUploading,onDetach:this.props.onAttachmentDetach,ref:"attachmentList"})};a.prototype.$12=function(){if(this.props.canUseHotLike&&this.props.threadID&&this.props.message.length<1&&this.props.attachments.length<1&&!this.props.leadFormsData.attachedLeadForm){var a=this.props.threadID;return b("React").createElement("span",{className:"_1z9h"},b("React").createElement(b("MessengerHotLikeButton.react"),{CustomRenderer:this.props.isInboxDetailView?b("MessengerHotLikeGlyphIcon.react"):undefined,customColor:this.props.isInboxDetailView?undefined:"#0084ff",disabled:!this.props.threadID,location:b("MercuryShareAttachmentRenderLocations").PAGES_INBOX,sendSticker:this.props.onStickerSelected,renderSize:24,threadID:a}))}return null};a.prototype.$13=function(){var a=this.state.placeholder||i._("Write a reply...");return b("React").createElement("div",{className:"_4dv-"},b("React").createElement(b("PagesMessengerTextInput.react"),{className:"_1p7p _5id1 _4dv_",maxLength:this.props.maxLength,onChange:this.props.onInputChange,onFocus:this.props.onFocus,onInputReady:this.props.onInputReady,onNoShiftEnter:this.props.isQuickReplyMode?function(a){return this.$8(a)}.bind(this):null,placeholder:a,ref:"textInput",value:this.props.message}))};a.prototype.$14=function(){return b("React").createElement("div",{className:"_6fk",ref:"linkPreview"})};a.prototype.$15=function(){return b("React").createElement("div",{className:"_4dw0"},b("React").createElement(b("Image.react"),{className:"_1cjc",src:this.props.participant.image_src}))};a.prototype.$16=function(){return!this.$4()||!this.props.recipientID?null:b("React").createElement("span",{className:"_4dw1"},b("React").createElement(b("PagesManagerMessagingSavedRepliesButton.react"),{recipientID:this.props.recipientID,isSavedRepliesLoading:this.props.isSavedRepliesLoading,onFetchReplies:this.props.onFetchReplies,onReplyMouseEnter:this.$17.bind(this),onReplyMouseLeave:this.$18.bind(this),onReplySelected:this.$19.bind(this),pageID:this.props.userID,replies:this.props.savedReplies.replies,showTooltip:!0,tokens:this.props.savedReplies.tokens}))};a.prototype.$20=function(){return!this.$6()?null:b("React").createElement("span",{className:"_2rzh"},b("React").createElement(b("PagesManagerMessagingLeadFormsButton.react"),{forms:this.props.leadFormsData.leadForms,isLeadFormsLoading:this.props.leadFormsData.isLeadFormsLoading,onFetchLeadForms:this.props.onFetchLeadForms,onSelectLeadForm:this.props.onSelectLeadForm,pageID:this.props.userID,showTooltip:!0}))};a.prototype.$21=function(){var a=i._("Send"),c=this.props.message.length<1&&this.props.attachments.length<1&&!this.props.leadFormsData.attachedLeadForm;return b("React").createElement("div",{className:"_4dw3"+(c?" hidden_elem":"")},b("React").createElement(b("XUIButton.react"),{disabled:this.props.isSendBlocked,label:a,onClick:function(a){return this.$8(a)}.bind(this),use:"confirm"}))};a.prototype.$22=function(){if(!this.$5())return null;var a=i._("Post a sticker");return b("React").createElement("span",{className:"_4dw4"},b("React").createElement(b("UFIStickerButton.react"),{onStickerSelected:this.props.onStickerSelected,onEmoticonSelected:function(a){return this.$7(a)}.bind(this)},b("React").createElement(b("Image.react"),{alt:a,className:"_3fhi",src:j("94989")})))};a.prototype.$23=function(){return!this.props.canCreateAppointment||!this.props.recipientID?null:b("React").createElement("span",{className:"_43nn"},b("React").createElement(b("PagesManagerInboxComposerCreateAppointmentButton.react"),{creatorInfo:this.props.creatorInfo,recipientID:this.props.recipientID,referrerSurface:b("ServicesAppointmentReferrerSurface").MESSAGE,showTooltip:!0,threadID:this.props.threadID,userID:this.props.userID}))};a.prototype.$24=function(){return!this.props.shouldShowCommerceInvoiceButton||this.props.recipientID==null?null:b("React").createElement("div",{className:"_3w8o"},b("React").createElement(b("CommerceInvoiceAdminButton.react"),{defaultCurrency:this.props.defaultCurrency,pageID:this.props.userID,recipientID:this.props.recipientID,shouldAllowPaymentOnboarding:this.props.shouldAllowPaymentOnboarding,shouldShowConfirmPayment:this.props.shouldShowConfirmPayment,shouldShowPUX:this.props.shouldShowCommerceInvoiceButtonPUX,shouldShowRequestPayment:this.props.shouldShowRequestPayment,shouldShowShippingNUX:this.props.shouldShowInvoiceShippingNUX}))};a.prototype.$25=function(){return b("React").createElement(b("PagesMessengerSuggestedResponseView.react"),{suggestedResponseHandler:this.props.suggestedResponseHandler,onAccepted:this.props.onSuggestedResponseAccept,onDeclined:this.props.onSuggestedResponseDecline})};a.prototype.render=function(){if(!this.props.recipientID||!this.props.threadID||!this.props.participant)return b("React").createElement("div",{className:"__1d"});else if(this.props.isBlocked){new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName(b("PagesMessagingPerfLoggerEvent").COMPOSER_BLOCKED_WITH_WARNING).log();return b("React").createElement(l,{alignv:"middle",className:"_50wh"},b("React").createElement("div",{className:"_50wn"},i._("Your Page is no longer able to send messages to this person."),b("React").createElement(b("Tooltip.react"),{tooltip:i._("A Page may be unable to send messages to someone if they are no longer on Facebook, if they pose a security risk, or if they have chosen not to receive messages.")},b("React").createElement("a",{href:"https://www.facebook.com/help/307375982614147"},b("React").createElement(b("Image.react"),{src:j("126341"),style:{verticalAlign:"-2px"}})))))}return b("React").createElement("div",{className:"__1d"},b("React").createElement(b("MercuryDragDropPrompt.react"),null),b("React").createElement("div",{className:"_4dw9"},this.$15(),this.$13(),b("React").createElement("div",{className:"_3-8o _4dwa"},this.$20(),this.$24(),this.$10(),this.$22(),this.$16(),this.$23(),this.$12(),this.$21())),b("React").createElement("div",{className:"_6fl"},this.$25(),this.$14()),this.$9(),this.$11())};a.prototype.$17=function(a){this.setState({placeholder:a})};a.prototype.$18=function(){this.setState({placeholder:""})};a.prototype.$19=function(a,c,d){this.setState({placeholder:""}),this.props.onReplySelected(c,d),b("PagesEventObserver").notify(b("PagesEventType").SAVED_REPLIES_APPLY_REPLY,this.props.userID),b("SavedResponsesUtils").notifySavedResponseApplied(a,this.props.userID)};a.propTypes={attachments:c.array,canAttachFiles:c.bool,canCreateAppointment:c.bool,canUseHotLike:c.bool,canUseSavedReplies:c.bool,canUseStickers:c.bool,canUseLeadForms:c.bool,isQuickReplyMode:c.bool,isSavedRepliesLoading:c.bool,isSendBlocked:c.bool,leadFormsData:c.object,message:c.string.isRequired,onAttachmentDetach:c.func,onDetachLeadForm:c.func.isRequired,onEmoticonSelected:c.func,onFetchLeadForms:c.func.isRequired,onFetchReplies:c.func.isRequired,onFileUploaderSubmit:c.func,onFileUploaderMounted:c.func,onFileUploadFinished:c.func,onFocus:c.func,onInitialRender:c.func,onInputChange:c.func,onSelectLeadForm:c.func.isRequired,onSend:c.func,onStickerSelected:c.func,onSuggestedResponseAccept:c.func,onSuggestedResponseDecline:c.func,participant:c.object,recipientID:c.string,savedReplies:c.object,shouldShowInvoiceShippingNUX:c.bool,shouldAllowPaymentOnboarding:c.bool,shouldShowConfirmPayment:c.bool,shouldShowRequestPayment:c.bool,suggestedResponseHandler:c.instanceOf(b("PagesMessageSuggestedResponseHandler")),uploaderActionURI:c.string,userID:c.string};a.defaultProps={attachments:[],canAttachFiles:!0,canCreateAppointment:!1,canUseHotLike:!0,canUseSavedReplies:!0,canUseStickers:!0,canUseLeadForms:!1,leadFormsData:{attachedLeadForm:null,isLeadFormsLoading:!1,leadForms:[]},isSendBlocked:!1,maxLength:null,onAttachmentDetach:d,onEmoticonSelected:d,onFileUploaderMounted:d,onFileUploaderSubmit:d,onFileUploadFinished:d,onInputChange:d,onSend:d,onStickerSelected:d,onSuggestedResponseAccept:d,shouldShowCommerceInvoiceButton:!1,shouldShowCommerceInvoiceButtonNUX:!1,shouldShowCommerceInvoiceButtonPUX:!1,shouldShowInvoiceShippingNUX:!1,shouldAllowPaymentOnboarding:!1,shouldShowConfirmPayment:!1,shouldShowRequestPayment:!1};e.exports=a}),null);
__d("XPagesMessagingBlockController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/message/isblocked/",{recipient_id:{type:"String",required:!0}})}),null);
__d("PagesManagerMessagingComposerContainer.react",["invariant","AsyncRequest","DragDropTarget","EmoticonsList","EmoticonUtils","FluxContainer","LeadFormsDataBridge","MercuryIDs","MercuryMessageActions","MercuryMessageObject","MercurySourceType","MercuryThreadIDMap","MercuryTriodeSourceUtil","MessengerConstants","MessengerParticipants.bs","PageCommPlatform","PagesEventObserver","PagesEventType","PagesManagerMessagingComposerActions","PagesManagerMessagingComposerStore","PagesManagerMessagingComposerView.react","PagesManagerMessagingNUXActions","PagesMessagingConfig","PagesMessagingPerfLoggerEvent","PagesMessagingPerfTypedLogger","PagesMessengerShareLinkUploader","React","ReactDOM","SavedResponsesUtils","SelectionPosition","ShareDataType","SubscriptionsHandler","TypingDetectorController","XPagesMessagingBlockController","emptyFunction","ActorURI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$10=function(a){this.$5&&this.$5.destroy(),this.$5=null,this.props.threadID!==b("MessengerConstants").NEW_THREAD_KEY&&a&&(this.$5=new(b("TypingDetectorController"))(b("MercuryIDs").getUserIDFromThreadID(this.props.threadID),a,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),null,b("MercuryThreadIDMap").getForFBID(this.props.userID).getServerIDFromClientIDNow(this.props.threadID),function(){return this.state.message}.bind(this),this.props.userID))}.bind(this),c}a.getStores=function(){return[b("PagesManagerMessagingComposerStore")]};a.calculateState=function(a,c){var d=a?a.isShareLinkUploading:!1;a=a?a.isBlocked:!1;return{attachments:b("PagesManagerMessagingComposerStore").getAllAttachmentsMeta(),isAttachmentUploading:b("PagesManagerMessagingComposerStore").getIsAttachmentUploading(),isSavedRepliesLoading:b("PagesManagerMessagingComposerStore").getIsSavedRepliesLoading(),isQuickReplyMode:b("PagesManagerMessagingComposerStore").getQuickReplyMode(),isShareLinkUploading:d,leadFormsData:b("PagesManagerMessagingComposerStore").getLeadFormsData(),message:b("PagesManagerMessagingComposerStore").getMessage(),participant:b("PagesManagerMessagingComposerStore").getParticipant(),savedReplies:b("PagesManagerMessagingComposerStore").getSavedReplies(),supportMultiAttachments:c.commPlatform!==b("PageCommPlatform").WHATSAPP,uploaderActionURI:b("PagesManagerMessagingComposerStore").getUploadActionFromUserID(c.commPlatform,c.userID),isBlocked:a}};a.prototype.$6=function(a){this.__subscriptions.addSubscriptions(a.subscribe("one-upload-completed",this.__onFileUploaderOneUploadComplete.bind(this)))};a.prototype.componentDidUpdate=function(a){this.props.recipientID&&this.props.threadID&&(!a.recipientID||!a.threadID)&&(b("PagesManagerMessagingNUXActions").setComposerReady(),this.props.onInitialRender&&this.props.onInitialRender()),this.props.recipientID!==null&&this.props.recipientID!==a.recipientID&&this.isRecipientBlocked(this.props.recipientID)};a.prototype.componentDidMount=function(){b("PagesManagerMessagingComposerActions").clearMessage(),b("PagesManagerMessagingComposerActions").detachAllAttachments(),b("PagesManagerMessagingComposerActions").clearShareLinkUploader(),this.$7(this.props.userID)};a.prototype.UNSAFE_componentWillMount=function(){this.$8(this.props),this.__subscriptions=new(b("SubscriptionsHandler"))()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.$8(a),a.threadID!==this.props.threadID&&(b("PagesManagerMessagingComposerActions").clearMessage(),b("PagesManagerMessagingComposerActions").detachAllAttachments(),b("PagesManagerMessagingComposerActions").clearShareLinkUploader()),a.userID!==this.props.userID&&this.$7(a.userID)};a.prototype.UNSAFE_componentWillUpdate=function(a,b){this.props.onMessageOrAttachmentUpdate&&(b.attachments.length!==this.state.attachments.length||b.message!==this.state.message||b.leadFormsData.attachedLeadForm!==this.state.leadFormsData.attachedLeadForm)&&this.props.onMessageOrAttachmentUpdate()};a.prototype.componentWillUnmount=function(){this.__subscriptions&&this.__subscriptions.release(),this.$5&&this.$5.destroy()};a.prototype.$9=function(){var a=new(b("PagesMessengerShareLinkUploader"))(b("ReactDOM").findDOMNode(this.refs.composer.refs.linkPreview),this.refs.composer.refs.textInput.refs.input,b("emptyFunction"),b("emptyFunction"),this.props.userID);this.__subscriptions.addSubscriptions(a.subscribe("link-detected",function(){this.setState({isShareLinkUploading:!0}),this.props.onMessageOrAttachmentUpdate&&this.props.onMessageOrAttachmentUpdate()}.bind(this)),a.subscribe("share-loaded",function(){this.setState({isShareLinkUploading:!1})}.bind(this)),a.subscribe("closed",function(){this.props.onMessageOrAttachmentUpdate&&this.props.onMessageOrAttachmentUpdate()}.bind(this)));b("PagesMessagingConfig").dragdropEnabled&&(this.$1=this.$1||new(b("DragDropTarget"))(b("ReactDOM").findDOMNode(this)).enable(),this.$1.setOnURLDropCallback(function(b){return a.loadShare(b)}));b("PagesManagerMessagingComposerActions").setShareLinkUploader(a)};a.prototype.__fetchLeadForms=function(){if(this.state.leadFormsData.isLeadFormsLoading||!this.props.userID)return;var a=this.props.userID;b("PagesManagerMessagingComposerActions").setIsLeadFormsLoading(!0);b("LeadFormsDataBridge").fetch(this.props.accessToken,a,function(a){b("PagesManagerMessagingComposerActions").setIsLeadFormsLoading(!1),b("PagesManagerMessagingComposerActions").setLeadForms(a)},function(a){})};a.prototype.__fetchSavedReplies=function(){if(this.state.isSavedRepliesLoading||!this.props.userID||!this.props.recipientID)return;b("PagesManagerMessagingComposerActions").setIsSavedRepliesLoading(!0);b("SavedResponsesUtils").fetchSavedResponses(this.props.userID,this.props.recipientID,function(a,c){b("PagesManagerMessagingComposerActions").setIsSavedRepliesLoading(!1),b("PagesManagerMessagingComposerActions").setSavedReplies(a,c)})};a.prototype.$8=function(a){a=a.userID;a||g(0);this.$2=b("MercuryMessageObject").getForFBID(a)};a.prototype.$7=function(a){a=b("MercuryIDs").getParticipantIDFromUserID(a);b("MessengerParticipants.bs").get(a,function(a){b("PagesManagerMessagingComposerActions").setParticipant(a)})};a.prototype.isSendBlocked=function(){return this.state.isAttachmentUploading||this.state.isShareLinkUploading||this.state.message===""&&this.state.attachments.length<1&&!this.state.leadFormsData.attachedLeadForm?!0:!1};a.prototype.isRecipientBlocked=function(a){a=b("ActorURI").create(b("XPagesMessagingBlockController").getURIBuilder().setString("recipient_id",a).getURI(),this.props.userID);new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.payload;this.setState({isBlocked:a});return}.bind(this)).send()};a.prototype.__onAttachmentDetach=function(a){b("PagesManagerMessagingComposerActions").detachAttachment(a)};a.prototype.__onDetachLeadForm=function(){b("PagesManagerMessagingComposerActions").detachLeadForm()};a.prototype.__onEmoticonSelected=function(a,c){a=b("EmoticonsList").symbols[a];if(!a)return;this.$3=this.$3||new(b("SelectionPosition"))(c);c=b("EmoticonUtils").insertEmoticon(a,this.state.message,this.$3.getPos());this.$3.setPos(c.start,c.end);b("PagesManagerMessagingComposerActions").setMessage(c.result)};a.prototype.__onFileUploaderMounted=function(a){this.$6(a),b("PagesMessagingConfig").dragdropEnabled&&(this.$1=this.$1||new(b("DragDropTarget"))(b("ReactDOM").findDOMNode(this)).enable(),this.$1.setOnFilesDropCallback(this.$11.bind(this))),b("PagesManagerMessagingComposerActions").fileUploaderReady(a)};a.prototype.__onFileUploaderOneUploadComplete=function(a,c){b("PagesManagerMessagingComposerActions").completeAttachment(c)};a.prototype.__onFileUploaderSubmit=function(a,c){b("PagesManagerMessagingComposerActions").startAttachment(c.files),this.refs.composer&&this.refs.composer.refs.textInput&&this.refs.composer.refs.textInput.refs.input&&b("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};a.prototype.__onFileUploadFinished=function(a){a==="all-uploads-completed"?b("PagesManagerMessagingComposerActions").completeAllAttachments():a==="upload-canceled"};a.prototype.__onInputValueChange=function(a){b("PagesManagerMessagingComposerActions").setMessage(a.target.value)};a.prototype.__onReplySelected=function(a,c){var d=b("PagesManagerMessagingComposerStore").getFileUploader();b("PagesManagerMessagingComposerActions").detachAllAttachments();b("PagesManagerMessagingComposerActions").setMessage(a);c&&d&&d.addCachedAttachments([c]);this.refs.composer&&this.refs.composer.refs.textInput&&b("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};a.prototype.__onSelectLeadForm=function(a){b("PagesManagerMessagingComposerActions").attachLeadForm(a)};a.prototype.__onSendMessageHandleException=function(a){try{this.__onSendMessage(a)}catch(a){new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName(b("PagesMessagingPerfLoggerEvent").SEND_MESSAGE_JS_EXCEPTION).setExceptionMessage(a.message).setStack(a.stack).log()}};a.prototype.__onSendMessage=function(a){__p&&__p();var c=this.state.message,d=b("PagesManagerMessagingComposerStore").getAttachedAttachmentIds(),e=b("PagesManagerMessagingComposerStore").getAttachedImageIds(),f=b("PagesManagerMessagingComposerStore").getAttachedAnimatedImageIds(),g=b("PagesManagerMessagingComposerStore").getAttachedVideoIds(),h=b("PagesManagerMessagingComposerStore").getAttachedAudioFilesIds(),i=b("PagesManagerMessagingComposerStore").getAttachedFilesIds(),j=b("PagesManagerMessagingComposerStore").getShareLink(),k=b("PagesManagerMessagingComposerStore").getLeadFormsData().attachedLeadForm,l=this.$2.constructUserGeneratedMessageObject(c,b("MercurySourceType").PAGE_UNIFIED_INBOX,this.props.threadID,null,this.props.creatorInfo);if(this.isSendBlocked()||!c&&!d.length&&!h.length&&!e.length&&!i.length&&!f.length&&!g.length&&!j&&!k)return;j&&(l.has_attachment=!0,l.content_attachment=j);d.length>0&&(l.has_attachment=!0,l.raw_attachments=d);e.length>0&&(l.image_ids=e,l.has_attachment=!0);f.length>0&&(l.gif_ids=f,l.has_attachment=!0);g.length>0&&(l.video_ids=g,l.has_attachment=!0);h.length>0&&(l.audio_ids=h,l.has_attachment=!0);i.length>0&&(l.file_ids=i,l.has_attachment=!0);k&&(l.shareable_attachment={share_params:[k.id],share_type:b("ShareDataType").FB_GENERIC_SHAREABLE},l.has_attachment=!0);b("PagesEventObserver").logData_DEPRECATED({page_id:this.props.user,event_name:b("PagesEventType").MESSAGES_DIALOG_SEND,thread_id:this.props.threadElementID},null);this.props.messageActions.send(l);b("PagesManagerMessagingComposerActions").detachAllAttachments();b("PagesManagerMessagingComposerActions").detachLeadForm();b("PagesManagerMessagingComposerActions").clearMessage();b("PagesManagerMessagingComposerActions").clearShareLinkUploader();this.$5&&this.$5.resetState();this.props.onSendMessage&&this.props.onSendMessage();new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName(b("PagesMessagingPerfLoggerEvent").SEND_MESSAGE_JS_END).setPerfTime(Date.now()-a).log()};a.prototype.__onStickerSelected=function(a){var c=this.$2.constructUserGeneratedMessageObject("",b("MercurySourceType").TITAN_WEB,this.props.threadID,null,this.props.creatorInfo);c.has_attachment=!0;c.sticker_id=a;this.props.messageActions.send(c);b("PagesManagerMessagingComposerActions").clearMessage()};a.prototype.$11=function(a){this.refs.composer&&this.refs.composer.refs.fileUploader&&this.refs.composer.refs.fileUploader.addFiles(a)};a.prototype.render=function(){return b("React").createElement(b("PagesManagerMessagingComposerView.react"),babelHelpers["extends"]({},this.props,this.state,{isSendBlocked:this.isSendBlocked(),onAttachmentDetach:this.__onAttachmentDetach.bind(this),onDetachLeadForm:this.__onDetachLeadForm.bind(this),onEmoticonSelected:this.__onEmoticonSelected.bind(this),onFetchLeadForms:this.__fetchLeadForms.bind(this),onFetchReplies:this.__fetchSavedReplies.bind(this),onFileUploaderMounted:this.__onFileUploaderMounted.bind(this),onFileUploaderSubmit:this.__onFileUploaderSubmit.bind(this),onFileUploadFinished:this.__onFileUploadFinished.bind(this),onInitialRender:function(){return this.$9()}.bind(this),onInputChange:function(a){return this.__onInputValueChange(a)}.bind(this),onInputReady:this.$10,onReplySelected:this.__onReplySelected.bind(this),onSelectLeadForm:this.__onSelectLeadForm.bind(this),onSend:function(a){return this.__onSendMessageHandleException(a)}.bind(this),onStickerSelected:this.__onStickerSelected.bind(this),ref:"composer"}))};a.propTypes={accessToken:c.string,canAttachFiles:c.bool,canCreateAppointment:c.bool,canUseHotLike:c.bool,canUseLeadForms:c.bool,canUseSavedReplies:c.bool,canUseStickers:c.bool,creatorInfo:c.object,maxLength:c.number,onInitialRender:c.func,onMessageOrAttachmentUpdate:c.func,shouldShowCommerceInvoiceButton:c.bool,shouldShowCommerceInvoiceButtonPUX:c.bool,shouldShowInvoiceShippingNUX:c.bool,shouldAllowPaymentOnboarding:c.bool,shouldShowConfirmPayment:c.bool,shouldShowRequestPayment:c.bool,threadElementID:c.string,threadID:c.string,userID:c.string};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("XPagesContextCardSetIsHiddenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/customer/context_card/set_is_hidden/",{})}),null);
__d("PagesManagerMessagingMessagelistStore",["ActorURI","AsyncRequest","FluxStore","MercuryMessages","MercuryThreadlistConstants","PagesManagerMessagingActionType","PagesManagerMessagingMessagelistDispatcher","XPagesContextCardSetIsHiddenController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("PagesManagerMessagingMessagelistDispatcher")),this.$PagesManagerMessagingMessagelistStore1="",this.$PagesManagerMessagingMessagelistStore2=!1,this.$PagesManagerMessagingMessagelistStore3=!1,this.$PagesManagerMessagingMessagelistStore4=!1,this.$PagesManagerMessagingMessagelistStore6=[],this.$PagesManagerMessagingMessagelistStore7=0,this.$PagesManagerMessagingMessagelistStore9=new Map(),this.$PagesManagerMessagingMessagelistStore10=0}a.prototype.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerMessagingActionType").LIST.LOADED:this.$PagesManagerMessagingMessagelistStore11(a);this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.LOADING:this.$PagesManagerMessagingMessagelistStore2=a.isLoading;this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.LOAD_MORE:this.$PagesManagerMessagingMessagelistStore3=a.isLoadingMore;this.__emitChange();break;case b("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT:var c=a.height;c!==this.$PagesManagerMessagingMessagelistStore7&&(this.$PagesManagerMessagingMessagelistStore7=c,this.__emitChange());break;case b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT:this.$PagesManagerMessagingMessagelistStore10=a.appointmentBannerHeight;this.__emitChange();break;case b("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD:this.__emitChange();break;case b("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN:this.$PagesManagerMessagingMessagelistStore12(a.pageID,a.isHidden);this.__emitChange();break;case b("PagesManagerMessagingActionType").HOT_LIKE.END:this.$PagesManagerMessagingMessagelistStore4=!1;this.$PagesManagerMessagingMessagelistStore5=null;break;case b("PagesManagerMessagingActionType").HOT_LIKE.START:this.$PagesManagerMessagingMessagelistStore4=!0;this.$PagesManagerMessagingMessagelistStore5=a.preview;this.__emitChange();break;case b("PagesManagerMessagingActionType").BAN.UPDATE:this.$PagesManagerMessagingMessagelistStore13(a.pageID,a.userID,a.isBanned);this.__emitChange();break;default:return}};a.prototype.$PagesManagerMessagingMessagelistStore11=function(a){this.$PagesManagerMessagingMessagelistStore2=!1,this.$PagesManagerMessagingMessagelistStore1=a.threadID,this.$PagesManagerMessagingMessagelistStore6=a.data.messages};a.prototype.isLoading=function(){return this.$PagesManagerMessagingMessagelistStore2};a.prototype.isLoadingMore=function(){return this.$PagesManagerMessagingMessagelistStore3};a.prototype.getMessagelist=function(a,c){if(c!=this.$PagesManagerMessagingMessagelistStore1)return b("MercuryMessages").getForFBID(a).getThreadMessagesRangeNow(c,0,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_MESSAGES_COUNT).reverse();if(this.$PagesManagerMessagingMessagelistStore4&&this.$PagesManagerMessagingMessagelistStore5){a=this.$PagesManagerMessagingMessagelistStore6.slice();this.$PagesManagerMessagingMessagelistStore5&&a.push(this.$PagesManagerMessagingMessagelistStore5);return a}return this.$PagesManagerMessagingMessagelistStore6};a.prototype.getScrollHeight=function(){return this.$PagesManagerMessagingMessagelistStore7};a.prototype.isCardHidden=function(){return this.$PagesManagerMessagingMessagelistStore8===undefined||this.$PagesManagerMessagingMessagelistStore8===null?null:this.$PagesManagerMessagingMessagelistStore8};a.prototype.getAppointmentBannerHeight=function(){return this.$PagesManagerMessagingMessagelistStore10};a.prototype.$PagesManagerMessagingMessagelistStore12=function(a,c){this.$PagesManagerMessagingMessagelistStore8=c;a=b("ActorURI").create(b("XPagesContextCardSetIsHiddenController").getURIBuilder().getURI(),a);new(b("AsyncRequest"))().setURI(a).setData({is_hidden:c}).setMethod("POST").send()};a.prototype.$PagesManagerMessagingMessagelistStore14=function(a,b){return a+"_"+b};a.prototype.getIsUserBanned=function(a,b){return this.$PagesManagerMessagingMessagelistStore9.get(this.$PagesManagerMessagingMessagelistStore14(a,b))};a.prototype.$PagesManagerMessagingMessagelistStore13=function(a,b,c){this.$PagesManagerMessagingMessagelistStore9.set(this.$PagesManagerMessagingMessagelistStore14(a,b),c)};a.__moduleID=e.id;e.exports=new a(b("PagesManagerMessagingMessagelistDispatcher"))}),null);
__d("PagesManagerMessagingMessageDateBreak.react",["cx","CenteredContainer.react","MessengerDateBreak.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("CenteredContainer.react"),{vertical:!1},b("React").createElement(b("MessengerDateBreak.react"),{className:"_1wpi",date:this.props.date}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerMessagingMessageGroup.react",["MessengerMessageGroup.react","React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("MessengerMessageGroup.react"),this.props)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerWhatsAppMessageGroup.react",["cx","immutable","MercuryIDs","MessengerMessage.react","MessengerParticipants.bs","React","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={participants:i(this.props)},b}a.prototype.calculateState=function(a){return{participants:i(a)}};a.prototype.$1=function(){var a=this.props.messages.size,c=[];this.props.messages.forEach(function(d,e,f){var g=d.message_id===this.props.activeMessageID,h=b("MercuryIDs").getUserIDFromParticipantID(this.props.author),i=b("gkx")("AT7X8zD-9DNn0OeQ0S5-rozrySawyX8ZP8Z_NFsQBL8WAUNZhO-HKIM8cWBdfNilWyfk5H-Q_oFDDxJhsL4ycAkk")?b("emptyFunction"):this.props.onAttachmentLoad;c.push(b("React").createElement(b("MessengerMessage.react"),{authorFBID:h===null?undefined:h,customColor:"",deliveryTimestamp:this.props.deliveryTimestamp,isActive:g,isFromViewer:this.props.isFromViewer,isPageMessage:this.props.isPageMessage,key:d.message_id,message:d,nextTimestamp:this.$2(f,a,e),onAttachmentLoad:i,onDeselect:this.props.onMessageDeselect,onSelect:this.props.onMessageSelect,pageID:this.props.pageID,participants:this.state.participants,readReceipts:this.props.readReceipts,ref:d.message_id,showDeliveryState:d.timestamp>this.props.lastReadTimestamp,threadCustomColor:""}))}.bind(this));return c};a.prototype.$2=function(a,b,c){return c<b-1?a.get(c+1).timestamp:this.props.nextTimestamp};a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_1t_p clearfix"},b("React").createElement("div",{className:"_41ud _38-y"},this.$1())))};function i(a){var c=a.personaID?a.personaID:a.messages.first().author;return b("immutable").Map().withMutations(function(d){a.readReceipts.forEach(function(a,c){d.set(c,b("MessengerParticipants.bs").getNow(c))}),d.set(c,b("MessengerParticipants.bs").getNow(c))})}e.exports=a}),null);
__d("PagesManagerMessagingMessageList.react",["cx","ChatTypingIndicatorsWrapper.react","DOM","Event","MercuryShareAttachmentRenderLocations","MessageList.react","MessengerCollapsedLogMessageGroup.react","MessengerDeliveryReceipt.bs","MessengerLogMessage.react","MessengerSpinner.react","MessengerTypingIndicator.react","PageCommPlatform","PagesManagerMessagingMessageDateBreak.react","PagesManagerMessagingMessageGroup.react","PagesManagerWhatsAppMessageGroup.react","React","ReactDOM","ScrollableArea.react","debounce"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a,b){h.constructor.call(this,a,b),this.$1=!0,this.prevScrollTop=0,this.prevScrollHeight=0}a.prototype.componentDidMount=function(){this.refs.scrollableArea&&this.refs.scrollableArea.getArea()&&this.refs.scrollableArea.getArea().scrollToBottom()};a.prototype.componentDidUpdate=function(a){var b=this.props.messagelist.last()&&this.props.messagelist.last().thread_fbid,c=a.messagelist.last()&&a.messagelist.last().thread_fbid;a.messagelist.size===0&&this.props.messagelist.size!==0||b!==c||a.threadID!==this.props.threadID||a.footerChildren!==this.props.footerChildren?(this.refs.scrollableArea&&this.refs.scrollableArea.getArea()&&this.refs.scrollableArea.getArea().scrollToBottom(),this.$2()):this.props.messagelist.size!==a.messagelist.size&&(this.$3(this.prevScrollHeight,this.prevScrollTop),this.$2())};a.prototype.$3=function(a,b){if(!this.refs.scrollableArea)return;var c=this.refs.scrollableArea.getArea();a=c.getScrollHeight()-a+b;c.setScrollTop(a,!1)};a.prototype.$4=function(){if(!this.refs.scrollableArea)return;var a=this.refs.scrollableArea.getArea(),b=this.prevScrollTop,c=this.prevScrollHeight;this.$5();a.isScrolledToTop()?(this.$6(),this.props.fetchEarlierMessages()):a.isScrolledToBottom()?this.$7():(a.getScrollTop()===b&&a.getScrollHeight()!==c&&this.$3(c,b),this.$6())};a.prototype.$7=function(){this.$1||(this.$1=!0)};a.prototype.$6=function(){this.$1&&(this.$1=!1)};a.prototype.$5=function(){var a=this.refs.scrollableArea;this.prevScrollHeight=a?a.getArea().getScrollHeight():0;this.prevScrollTop=a?a.getArea().getScrollTop():0};a.prototype.$8=function(a){return function(){if(this.props.threadID!==a)return;this.$1&&(this.refs.scrollableArea&&this.refs.scrollableArea.getArea().scrollToBottom())}.bind(this)};a.prototype.$2=function(){b("DOM").scry(b("ReactDOM").findDOMNode(this),"img").forEach(function(a){if(a.complete)return;var c=this.props.threadID,d=b("Event").listen(a,"load",function(){this.props.threadID===c&&this.$1&&(this.refs.scrollableArea&&this.refs.scrollableArea.getArea().scrollToBottom()),d.remove()}.bind(this))}.bind(this))};a.prototype.$9=function(){var a=Math.floor(this.props.scrollHeight/130);return b("React").createElement("div",{className:"_31m6",style:{height:this.props.scrollHeight}},b("React").createElement("div",{className:"_31m7",style:{height:130*a}},this.$10(a)))};a.prototype.$10=function(a){var c=b("React").createElement("div",{className:"_1vrr"},b("React").createElement("div",{className:"_31m8"}),b("React").createElement("div",{className:"_31ma"}),b("React").createElement("div",{className:"_31mb"}),b("React").createElement("div",{className:"_31mc"}),b("React").createElement("div",{className:"_31me"}),b("React").createElement("div",{className:"_31mf"}),b("React").createElement("div",{className:"_31mg"}),b("React").createElement("div",{className:"_31mh"}),b("React").createElement("div",{className:"_31mi"}),b("React").createElement("div",{className:"_31mj"}),b("React").createElement("div",{className:"_31mk"}),b("React").createElement("div",{className:"_31ml"}),b("React").createElement("div",{className:"_31mm"}),b("React").createElement("div",{className:"_31mn"}),b("React").createElement("div",{className:"_31mo"}),b("React").createElement("div",{className:"_31mp"}),b("React").createElement("div",{className:"_31mq"})),d=[];for(var e=0;e<a;e++)d.push(b("React").cloneElement(c,{key:"loading"+e}));return b("React").createElement("div",{className:"_1vrs"},d)};a.prototype.$11=function(){return!this.props.isLoadingMore?null:b("React").createElement("div",{className:"_2k8v"},b("React").createElement(b("MessengerSpinner.react"),null))};a.prototype.$12=function(){return b("React").createElement("div",{className:"clearfix _1ej0 _2mpc"},b("React").createElement(b("MessageList.react"),{DateBreak:b("PagesManagerMessagingMessageDateBreak.react"),deliveryTimestamp:this.props.deliveryReceipts?b("MessengerDeliveryReceipt.bs").getDeliveryTimeOfThread(this.props.deliveryReceipts,this.props.threadID):0,isCanonical:!0,isPageMessage:!0,location:b("MercuryShareAttachmentRenderLocations").MESSENGER,CollapsedLogMessageGroup:b("MessengerCollapsedLogMessageGroup.react"),LogMessage:b("MessengerLogMessage.react"),MessageGroup:this.props.commPlatform===b("PageCommPlatform").WHATSAPP?b("PagesManagerWhatsAppMessageGroup.react"):b("PagesManagerMessagingMessageGroup.react"),onAttachmentLoad:this.$8(this.props.threadID),messages:this.props.messagelist,readReceipts:this.props.readReceipts,viewer:this.props.pageID}),b("React").createElement(b("ChatTypingIndicatorsWrapper.react"),{indicatorClass:b("MessengerTypingIndicator.react"),indicatorsWillShow:function(){},indicatorsDidShow:function(){this.$1&&this.refs.scrollableArea&&this.refs.scrollableArea.getArea().scrollToBottom()}.bind(this),rootClassName:"clearfix _17pz _4gv2",threadID:this.props.threadID,viewer:this.props.pageID}))};a.prototype.render=function(){return this.props.initLoading?this.$9():b("React").createElement("div",{className:this.props.commPlatform===b("PageCommPlatform").WHATSAPP?"_66_6":""},b("React").createElement(b("ScrollableArea.react"),{className:"_11y7",fade:!1,height:this.props.scrollHeight,onScroll:b("debounce")(function(){return this.$4()}.bind(this),500),ref:"scrollableArea",shadow:!1},this.$11(),b("React").createElement("div",{className:"_14y3"},this.props.threadID?this.$12():b("React").createElement("div",null)),this.props.footerChildrenSpacer),this.props.footerChildren)};e.exports=a}),null);