if (self.CavalryLogger) { CavalryLogger.start_js(["oV0Q5"]); }

__d("GroupAdminType",[],(function(a,b,c,d,e,f){e.exports={none:"NONE",moderator:"MODERATOR",admin:"ADMIN"}}),null);
__d("GroupPendingMembersOrdering",[],(function(a,b,c,d,e,f){e.exports={most_recent:"most_recent",chronological:"chronological",facebook_registered_time:"facebook_registered_time",groups_count:"groups_count",friend_count:"friend_count",mutual_friends_count:"mutual_friends_count",answered_questions:"answered_questions",suggested:"suggested",first_possible_ordering:"first_possible_ordering",name:"name",first_name:"first_name",last_name:"last_name",importance:"importance",is_viewer:"is_viewer",is_viewer_friend:"is_viewer_friend",poke_app_friends:"poke_app_friends",memorialized_friends_last:"memorialized_friends_last",viewer_member_coefficient:"viewer_member_coefficient"}}),null);
__d("OzConstants",[],(function(a,b,c,d,e,f){e.exports={AUTHOR_TYPES:{BOT:"bot",TRAINER:"trainer",USER:"user"},ATTS:{COMMAND:"@COMMAND",IMAGE:"image",SUGG:"@SUGG",TEMPLATE:"template",SURVEY:"survey",QUICK_REPLIES:"@QUICK_REPLIES",OPENTABLEQR:"opentableQuickReply"},SESSION_INFO_EVENT:"iframenonce_fb_session_info",TOKENS:{USER_FIRST_NAME:"user-first-name"},REMINDERS:{RANGE_IN_YEARS:5},M_FBIDS:{M:"881263441913087",M_DEV:"1579802578966277",P:"506060876211905"}}}),null);
__d("FBModalCloseButton.react",["cx","fbt","Image.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("ShimButton.react"),{className:"_3cnu",inline:!0,onClick:this.props.onToggleClick},b("React").createElement(b("Image.react"),{alt:h._("Close"),src:{uri:"/images/video/channel_view/close.png"}}))};function a(){i.apply(this,arguments)}a.displayName="Modal Close Button";e.exports=a}),null);
__d("distance",["DistanceConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("DistanceConstants").EARTH_RADIUS_KM,h=b("DistanceConstants").METERS_PER_KILOMETER;function a(a,b,c,d){var e=c*Math.PI/180-a*Math.PI/180;d=d*Math.PI/180-b*Math.PI/180;b=Math.sin(e/2)*Math.sin(e/2)+Math.cos(a*Math.PI/180)*Math.cos(c*Math.PI/180)*Math.sin(d/2)*Math.sin(d/2);e=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));a=g*e;return a*h}e.exports={haversine:a}}),null);
__d("AddressTypeaheadClientSideTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:AddressTypeaheadClientSideLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:AddressTypeaheadClientSideLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AddressTypeaheadClientSideLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCallerID=function(a){this.$1.caller_id=a;return this};a.prototype.setCountry=function(a){this.$1.country=a;return this};a.prototype.setDropType=function(a){this.$1.drop_type=a;return this};a.prototype.setInputLatitude=function(a){this.$1.input_latitude=a;return this};a.prototype.setInputLongitude=function(a){this.$1.input_longitude=a;return this};a.prototype.setInputString=function(a){this.$1.input_string=a;return this};a.prototype.setName=function(a){this.$1.name=a;return this};a.prototype.setProductTag=function(a){this.$1.product_tag=a;return this};a.prototype.setSelection=function(a){this.$1.selection=a;return this};a.prototype.setSelectionIndex=function(a){this.$1.selection_index=a;return this};a.prototype.setSelectionLatitude=function(a){this.$1.selection_latitude=a;return this};a.prototype.setSelectionLongitude=function(a){this.$1.selection_longitude=a;return this};a.prototype.setSelectionType=function(a){this.$1.selection_type=a;return this};a.prototype.setSessionid=function(a){this.$1.sessionid=a;return this};a.prototype.setTaProvider=function(a){this.$1.ta_provider=a;return this};c={caller_id:!0,country:!0,drop_type:!0,input_latitude:!0,input_longitude:!0,input_string:!0,name:!0,product_tag:!0,selection:!0,selection_index:!0,selection_latitude:!0,selection_longitude:!0,selection_type:!0,sessionid:!0,ta_provider:!0};e.exports=a}),null);
__d("OzActions",["Reflux"],(function(a,b,c,d,e,f){__p&&__p();a={};a.activateThread=b("Reflux").createAction();a.scrollThreadToTimestamp=b("Reflux").createAction();a.doneScrollingToTimestamp=b("Reflux").createAction();a.updateThreads=b("Reflux").createAction();a.maybeUpdateThreads=b("Reflux").createAction();a.clearReassignState=b("Reflux").createAction();a.deleteTask=b("Reflux").createAction();a.updateMerchants=b("Reflux").createAction();a.deleteMerchants=b("Reflux").createAction();a.updateWitIntents=b("Reflux").createAction();a.updateReps=b("Reflux").createAction();a.replaceReps=b("Reflux").createAction();a.replaceHumans=b("Reflux").createAction();a.updateRequirements=b("Reflux").createAction();a.showDialog=b("Reflux").createAction();a.hideDialog=b("Reflux").createAction();a.updateComposer=b("Reflux").createAction();a.addBubble=b("Reflux").createAction();a.addAutopilot=b("Reflux").createAction();a.isActive=b("Reflux").createAction();a.isInactive=b("Reflux").createAction();a.sendPulse=b("Reflux").createAction();a.updateQueueFilters=b("Reflux").createAction();a.intentCreator=b("Reflux").createActions(["toggle","select","clear"]);a.emailComposer=b("Reflux").createActions(["delete","add"]);a.emailComposer.update=b("Reflux").createAction({sync:!0});a.inviteComposer=b("Reflux").createActions(["delete","add","create"]);a.inviteComposer.update=b("Reflux").createAction({sync:!0});a.twilio=b("Reflux").createActions(["connect","endCall","hangUp","incoming","incomingAccept","incomingReject","mute","ready","setup","startCall","unmute","updateIncomingInfo","useIntent","updateRating","dialAgain"]);a.twilio.changeTo=b("Reflux").createAction({sync:!0});a.twilio.sendDigits=b("Reflux").createAction({sync:!0});a.sendMessageStart=b("Reflux").createAction();a.sendMessageFinish=b("Reflux").createAction();a.addHandledEvents=b("Reflux").createAction();a.updateServerOffset=b("Reflux").createAction();a.updateLoadingState=b("Reflux").createAction();a.updateCalendarEvents=b("Reflux").createAction();a.skywalkerMessage=b("Reflux").createAction();a.skywalkerStalled=b("Reflux").createAction();a.selectAIPick=b("Reflux").createAction();e.exports=a}),null);
__d("OzConfig",["immutable","Reflux"],(function(a,b,c,d,e,f){__p&&__p();var g=b("immutable").Map,h=b("Reflux").createAction({sync:!0}),i=b("Reflux").createAction({sync:!0}),j=b("Reflux").createStore({init:function(){this.data=g(),this.listenTo(h,this._onSetConfig),this.listenTo(i,this._onUpdateConfig)},getInitialState:function(){return this.data},_onSetConfig:function(a){this.data=a,this.trigger(this.data)},_onUpdateConfig:function(a){this.data=this.data.mergeDeep(a),this.trigger(this.data)}});function a(a){return j.data.get(a)}function c(a){return j.data.getIn(a)}e.exports={ConfigStore:j,getInStaticConfig:c,getStaticConfig:a,setConfig:h,updateConfig:i}}),null);
__d("OzImmutablePureRenderMixin",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").is;function h(a,b){__p&&__p();if(g(a,b))return!0;if(typeof a!=="object"||a===null||typeof b!=="object"||b===null)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(var d=0;d<c.length;d++)if(!hasOwnProperty.call(b,c[d])||!g(a[c[d]],b[c[d]])){window._debugLogs&&!1;return!1}return!0}function i(a,b,c){return!h(a.props,b)||!h(a.state,c)}a={shouldComponentUpdate:function(a,b){return i(this,a,b)}};e.exports=a}),null);
__d("OzNotify",["cx","immutable","OzImmutablePureRenderMixin","React","ReactCSSTransitionGroup","Reflux","ShimButton.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("immutable").OrderedMap,i=b("immutable").Map,j={addNotif:b("Reflux").createAction({sync:!0}),removeNotif:b("Reflux").createAction({sync:!0})};c=b("Reflux").createStore({init:function(){this.data=h(),this.listenTo(j.addNotif,this._onAddNotif),this.listenTo(j.removeNotif,this._onRemoveNotif)},getInitialState:function(){return this.data},_onAddNotif:function(a){this.data=this.data.set(a.get("id"),a),this.trigger(this.data)},_onRemoveNotif:function(a){this.data=this.data["delete"](a),this.trigger(this.data)}});var k=i({info:"_4nqo",warn:"_4nqp",error:"_4nqq"});d=b("React").createClass({displayName:"OzNotify",mixins:[b("Reflux").connect(c,"notifs"),b("OzImmutablePureRenderMixin")],render:function(){return b("React").createElement(b("ReactCSSTransitionGroup"),{component:"div",transitionName:"oz-fade-in-out",className:"_4nqr",transitionEnterTimeout:500,transitionLeaveTimeout:500},this.state.notifs.reverse().map(function(c,a){return b("React").createElement("div",{key:a,className:b("joinClasses")("_4nqs",k.get(c.get("level")))},c.get("msg"),b("React").createElement(b("ShimButton.react"),{className:"_ok9",inline:!0,onClick:function(){return j.removeNotif(a)}},"\xd7"))}).valueSeq())}});var l=7e3,m=0;function a(a){return function(b){m+=1,j.addNotif(i({id:m,level:a,msg:b})),(function(a){window.setTimeout(function(b){return j.removeNotif(a)},l)})(m)}}f={Component:d,info:a("info"),warn:a("warn"),error:a("error")};e.exports=f}),null);
__d("OzAPI",["invariant","Arbiter","ChannelConstants","ChannelManager","immutable","OzActions","OzAJAX","OzConfig","OzHelpers","OzNotify","OzStores","RTISubscriptionManager","promiseDone","promiseFinally"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("immutable").List,i=b("immutable").Map,j=b("OzAJAX").ajax,k=b("OzAJAX").beacon,l=b("OzAJAX").buildURI,m=b("OzStores").ActiveThreadStore,n=b("OzStores").ThreadStore;b("ChannelManager").startChannelManager();function o(a){a.attachment&&!a.attachments&&(a.attachments=[a.attachment]);a=b("immutable").fromJS(a);return a}function p(a){return h(a.map(function(a){a=o(a);return[b("OzHelpers").msgID(a),a]})).fromEntrySeq().toMap()}function q(a){a.messages||(a.messages=(a["last-events"]||[]).map(function(a){a.sender=a.from;return a}));a.messages=p(a.messages);a=b("immutable").fromJS(a);return a}function r(a){return h(a.map(q))}function s(a){a=r([a]);b("OzActions").updateThreads(a);b("OzActions").addHandledEvents(a.first().get("handled-events",h()));a.count()===1||g(0);return a.first()}function t(a){Number.isSafeInteger(a.offset)||g(0);Number.isSafeInteger(a.limit)||g(0);return j({type:"GET",url:l("threads",b("OzConfig").getStaticConfig("PAGE_ID")),params:a}).then(function(a){a=a.threads;a=r(a);b("OzActions").updateThreads(a);return a})}function u(a,c,d){__p&&__p();c===void 0&&(c={});d===void 0&&(d=null);typeof a==="string"||g(0);typeof c==="object"||g(0);var e,f=!1;c instanceof FormData?e=c:(e=JSON.stringify(c),f=!0);var k=function(){var a=m.data.get("activeIntent"),b=m.data.get("threadID");b=a&&b&&n.data.getIn([b,"intents"],h()).findLast(function(b){return b.get("id")===a},null,i()).get("state");return b==="open"&&a};d={type:"PUT",url:l("sync"),params:{t:a,"intent-id":d||k(),page:b("OzConfig").getStaticConfig("PAGE_ID")},body:e};f&&(d.headers=d.headers||{},d.headers["content-type"]="application/json");b("OzHelpers").info("[sync] "+a,c);return j(d)}function a(a){return function(c){return u(a,{tid:c}).then(function(a){a=q(a);b("OzActions").updateThreads(h([a]));return a})}}function v(a){var c=a["user-id"],d=a["owner-id"];a=a["last-owner-id"];var e=b("OzConfig").getStaticConfig("uid");return n.data.get(c)||d===e||a===e}var w={metrics:i({}),bumpMetric:function(a){w.metrics=w.metrics.updateIn(a,function(a){return(a||0)+1})},setMetric:function(a,b){w.metrics=w.metrics.setIn(a,b)},_witIntentCSV:function(){b("promiseDone")(w.witIntents(),function(a){var b="data:text/csv;charset=utf-8,";a.forEach(function(a){return b+='"'+a.get("name")+'","'+a.get("id")+'","'+a.get("doc")+'"\n'});window.open(window.encodeURI(b))})},grab:a("grab"),release:a("release"),ready:a("ready"),notready:a("notready"),ack:a("ack"),lockThread:a("lock-thread"),markRead:a("mark-read"),unlockThread:function(a,b){return u("unlock-thread",{tid:a,"locked-at":b}).then(s)},assignTo:function(a,b){return u("assign-to",{tid:a,id:b})},escalate:function(a){return w.createTag(a,"escalated")},escalateTo:function(a,b){return w.escalate(a).then(function(){return w.assignTo(a,b)})},typing:function(a){return u("rep-typing",{tid:a})},notTyping:function(a){return u("rep-not-typing",{tid:a})},createReminder:function(a,b){return u("create-reminder",babelHelpers["extends"]({tid:a},b.toJS()))},createTask:function(a,b){return u("create-task",{tid:a,task:b.toJS()})},completeTask:function(a,b){return u("complete-task",{tid:a,task:b.toJS()}).then(s)},editTask:function(a,b){return u("edit-task",{tid:a,task:b.toJS()}).then(s)},cancelTask:function(a,c,d){d===void 0&&(d=!1);b("OzActions").deleteTask(a,c.get("id"));return u("cancel-task",{tid:a,task:c.toJS(),"cancel-future":d}).then(s)},openTask:function(a,b){return u("open-task",{tid:a,task:b.toJS()}).then(s)},closeReminder:function(a,b,c){return u("close-reminder",{tid:a,id:b,all:c}).then(s)},editReminder:function(a,b){return u("edit-reminder",{tid:a,reminder:b.toJS()}).then(s)},snoozeReminder:function(a,b){return u("snooze-reminder",{tid:a,id:b}).then(s)},deleteIntentRequirement:function(a,b,c){return u("delete-intent-requirement",{tid:a,"intent-id":b,"requirement-id":c},b).then(s)},deleteThreadRequirement:function(a,b){return u("delete-thread-requirement",{tid:a,"requirement-id":b}).then(s)},createIntentRequirement:function(a,b,c){return u("create-intent-requirement",{tid:a,"intent-id":b,"requirement-name":c},b).then(s)},createThreadRequirement:function(a,b){return u("create-thread-requirement",{tid:a,"requirement-name":b}).then(s)},createIntent:function(a,b){return u("create-intent",babelHelpers["extends"]({tid:a},b.toJS())).then(s)},openIntent:function(a,b){return u("open-intent",{tid:a,id:b},b).then(s)},triggerAIForIntent:function(a,b){return u("trigger-ai-for-intent",{tid:a,id:b},b)},closeIntent:function(a,b,c,d,e){a={tid:a,id:b,"close-state":c,feedback:d,"send-survey":e};return u("close-intent",a,b).then(s)},blockIntent:function(a,b){return u("block-intent",{tid:a,id:b},b).then(s)},unblockIntent:function(a,b){return u("unblock-intent",{tid:a,id:b},b).then(s)},addPhoneNumber:function(a,b){return u("add-phone-number",{tid:a,"intent-id":b},b)},editIntent:function(a,b){return u("edit-intent",babelHelpers["extends"]({tid:a},b.toJS()),b.get("id")).then(s)},createTag:function(a,b){return u("add-thread-tag",{tid:a,tag:b}).then(s)},deleteTag:function(a,b){return u("remove-thread-tag",{tid:a,tag:b}).then(s)},view:a("create-subscription"),unview:function(a){return u("delete-subscription",{tid:a})},updateMessage:function(a,b){return u("update-message",{tid:a,message:b.toJS()}).then(s)},everstoreUpload:function(a){var b=new FormData();a.forEach(function(a,c){return b.append(c,a)});return u("everstore-upload",b)},upload:function(a){var c=new FormData();a.forEach(function(a,b){return c.append(b,a)});return u("upload",c).then(function(a){return b("immutable").fromJS(a)})},sendMessage:function(a){var c=u("send",a).then(function(b){return s({"user-id":a.tid,"last-events":b})});b("promiseFinally")(c,function(c){return b("OzActions").sendMessageFinish(a.tid)});window.setTimeout(function(){return b("OzActions").sendMessageStart(a.tid)},200);return c},scheduleMessage:function(a){return u("schedule-send",a)},suggest:function(a){return u("suggest",a).then(s)},scheduleSuggest:function(a){return u("schedule-suggest",a)},deleteScheduled:function(a,b){return u("delete-scheduled",{tid:a,id:b}).then(s)},saveNote:function(a,b){a={tid:a,infos:{notes:b}};return u("update-infos",a).then(s)},saveMeta:function(a,b){a={tid:a,infos:{"metadata-json":b.toJS()}};return u("update-infos",a).then(s)},saveMuted:function(a,b){a={tid:a,infos:{muted:b}};return u("update-infos",a).then(s)},createMerchant:function(a){return u("create-merchant",a.toJS()).then(function(a){a=h([i(a)]);b("OzActions").updateMerchants(a);return a})},editMerchant:function(a){return u("edit-merchant",a.toJS()).then(function(a){a=h([i(a)]);b("OzActions").updateMerchants(a);return a})},deleteMerchant:function(a){return u("delete-merchant",a.toJS()).then(function(a){if(a&&a.id){var c=h([a.id]);b("OzActions").deleteMerchants(c);return c}else b("OzHelpers").warn("[api] unexpected delete-merchant response",a)})},sendEmail:function(a,b){var c=m.data.get("threadID");return u("send-email",babelHelpers["extends"]({tid:c},a.toJS()),b)},sendInvite:function(a,b){var c=m.data.get("threadID");return u("send-calendar",babelHelpers["extends"]({tid:c},a.toJS()),b)},fetchCalendar:function(a){return j({type:"GET",url:l("threads",b("OzConfig").getStaticConfig("PAGE_ID"),a,"calendar")}).then(function(c){b("OzActions").updateCalendarEvents({tid:a,calendarEvents:c});return c})},bookOpenTable:function(a,b,c,d,e){return u("book-reservation",{tid:a,rid:c,ts:d,covers:e},b)},everstoreURI:function(a){return u("everstore-uri",{handle:a})},witIntents:function(){return j({type:"GET",url:l("wit-intents",b("OzConfig").getStaticConfig("PAGE_ID"))}).then(function(a){a=b("immutable").fromJS(a);b("OzActions").updateWitIntents(a);return a})},merchants:function(){return j({type:"GET",url:l("merchants")}).then(function(a){b("OzActions").updateMerchants(h(a).map(function(a){return i(a)}))})},repsSync:function(){return j({type:"GET",url:l("reps-sync")})},requirements:function(){return j({type:"GET",url:l("requirements")}).then(function(a){b("OzActions").updateRequirements(b("immutable").fromJS(a))})},AIModules:function(){return j({type:"GET",url:l("ai-modules")}).then(function(a){return h(a)})},authorFeedback:function(a){return j({type:"GET",url:l("author-feedback"),params:{author_id:a}}).then(function(a){return i(a.map(function(a){a=b("immutable").fromJS(a);return[b("OzHelpers").msgID(a),a]}))})},myThreads:function(){var a=b("OzConfig").getStaticConfig("PAGE_ID");return j({type:"GET",params:{page:a},url:l("mythreads")}).then(function(a){a=a.mythreads;b("OzActions").updateThreads(r(a))})},allThreads:function(a,b,c,d){c={all:!0,first_tags:a.toJS(),last_tags:b.toJS(),offset:c,limit:d};a.has("ready")?(a=a["delete"]("ready"),c.ready=!0):b.has("ready")&&(b=b["delete"]("ready"),c.ready=!1);return t(c)},thread:function(a){return j({type:"GET",url:l("threads",b("OzConfig").getStaticConfig("PAGE_ID"),a)}).then(s)},handledEvents:function(a){return j({type:"GET",params:{"intent-id":a},url:l("handled-events")}).then(function(a){b("OzActions").addHandledEvents(b("immutable").fromJS(a["handled-events"]))})},tasksForIntent:function(a,c){var d=b("OzConfig").getStaticConfig("PAGE_ID");return j({type:"GET",params:{page:d},url:l("tasks",a)}).then(function(a){s({"user-id":c,tasks:a})})},history:function(a,c,d){return j({type:"GET",params:{timestamp:c,limit:d},url:l("threads",b("OzConfig").getStaticConfig("PAGE_ID"),a,"history")}).then(function(b){b=s({"user-id":a,messages:b});return b.get("messages")})},topIntents:function(){return j({type:"GET",url:l("top-intents")}).then(function(a){return b("immutable").fromJS(a)})},intentsDashboard:function(a){return j({type:"GET",params:a,url:l("dashboard","intent",b("OzConfig").getStaticConfig("PAGE_ID"))}).then(function(a){return b("immutable").fromJS(a)})},aiDashboard:function(a){return j({type:"GET",params:a,url:l("dashboard","ai",b("OzConfig").getStaticConfig("PAGE_ID"))}).then(function(a){return b("immutable").fromJS(a)})},statsDashboard:function(a){return j({type:"GET",params:a,url:l("dashboard","trainer",a["trainer-id"])}).then(function(a){return b("immutable").fromJS(a)})},teamStatsDashboard:function(a){return j({type:"GET",params:a,url:l("dashboard","trainer-team-stats")}).then(function(a){return b("immutable").fromJS(a)})},humans:function(){return j({type:"GET",url:l("humans")}).then(function(a){return b("OzActions").replaceHumans(b("immutable").fromJS(a))})},search:function(a){return j({params:a,type:"GET",url:l("search")}).then(function(a){return b("immutable").fromJS(a).flatten(!0)})},requestAutopilot:function(a){window.postMessage(a,"*")},notifyExtension:function(a){b("OzHelpers").debug("[oz-ext] notifying toto",a),window.postMessage(babelHelpers["extends"]({type:"notification"},{data:a}),"*")},recordActivity:function(a,b){return u("activity",babelHelpers["extends"]({tid:a},{activity:b}))},sendPulse:function(a,c){return j({type:"POST",url:l("pulse"),headers:{"content-type":"application/json"},params:{page:b("OzConfig").getStaticConfig("PAGE_ID"),duration:a},body:JSON.stringify(c)})},sendDisconnectPulse:function(a,c){return k({url:l("pulse"),params:{page:b("OzConfig").getStaticConfig("PAGE_ID"),duration:a},body:JSON.stringify(c)})},threadFocus:function(a,b){return u("thread-focus",{tid:a,intentID:b},b)},away:function(a){return u("away",{away:a})},coachMode:function(a){return u("coach-mode",{"coach-mode":a})},timestamp:function(){var a=Date.now();return j({type:"POST",url:l("timestamp")}).then(function(c){c=c.timestamp;var d=Date.now();if(d-a>1e3)b("OzHelpers").warn("[oz-api] timestamp took over 1 second, not updating offset");else{c=d-(c+(d-a)/2);b("OzActions").updateServerOffset({offsetMs:c})}})},init:function(){return j({type:"GET",url:l("init")}).then(function(a){a["twilio-token"]&&b("OzActions").twilio.setup(a["twilio-token"]),b("OzConfig").updateConfig(b("immutable").fromJS(a))})},realTime:function(a,c){__p&&__p();var d,e=6e4,f=function(){var a=Date.now();clearInterval(d);d=setInterval(function(c){c=Math.round((Date.now()-a)/1e3);b("OzActions").skywalkerStalled();b("OzHelpers").warn("[rti] no payload in "+c+"seconds")},e)},j={repsVersion:-1},k=function(a,c){__p&&__p();var d=c.payload;c=c.topic;a==="sky"||a==="msg"||g(0);f();a=a==="sky"?a+" "+c+" ->":a;var e=d.type,k=e||"";b("OzHelpers").debug("[rti] "+a+" "+k,d);if(!d.data){b("OzHelpers").error("[sky] got sky event without data",d,c);return}a=d.data["page-id"];if(a&&a!==b("OzConfig").getStaticConfig("PAGE_ID")){b("OzHelpers").debug("[sky] junk event on "+c,d);return}w.bumpMetric(["realtime",e]);b("OzActions").skywalkerMessage({payload:d,timestamp:b("OzHelpers").serverNow()});switch(e){case"thread":k=d.data;s(k);break;case"thread-metrics":k=d.data;n.data.get(k["user-id"])&&(w.bumpMetric(["realtime","thread-metrics-update-thread"]),s(k));break;case"maybe-thread":k=d.data;b("OzActions").maybeUpdateThreads(r([k]));break;case"delivered":case"seen":k=d.data;s({"user-id":k["user-id"],"last-seen":k["last-seen"]});break;case"presence":k=d.data;s({"user-id":k["user-id"],"last-presence":k["last-presence"]});break;case"carebear":(function(){var b=d.data,a=b.type;b=b.tid;b={"user-id":b};b["ui-"+a]=!0;s(b)})();break;case"inactive":b("OzActions").isInactive();break;case"updated-merchant":b("OzActions").updateMerchants(h([i(d.data)]));break;case"deleted-merchant":b("OzActions").deleteMerchants(h([d.data.id]));break;case"phone-call":b("OzActions").twilio.updateIncomingInfo(b("immutable").fromJS(d.data));break;case"humans":b("OzActions").replaceHumans(b("immutable").fromJS(d.data));break;case"reps-sync":j=babelHelpers["extends"]({},j,{repsVersion:d.version});b("OzActions").replaceReps(b("immutable").fromJS(d.data));break;case"reps-diff":j.repsVersion!==d.version-1?(b("OzHelpers").warn("[api] reps version out of sync",{"our-version":j.repsVersion,"next-version":d.version}),j=babelHelpers["extends"]({},j,{repsVersion:-1}),w.repsSync()):(j.repsVersion=d.version,b("OzActions").updateReps(b("immutable").fromJS(d.data)));break;case"handled-events":b("OzActions").addHandledEvents(b("immutable").fromJS(d.data));break;case"config":b("OzConfig").updateConfig(b("immutable").fromJS(d.data));break;case"notify":a=d.data;c=a.level;k=a.message;b("OzNotify")[c](k);break;case"updated-thread":a=d.data["user-id"];v(d.data)&&(w.bumpMetric(["realtime","updated-thread-fetch-thread"]),b("OzHelpers").info("[api] fetching thread after update",a),w.thread(a));break;case"ping":c=d.data.timestamp;k=b("OzHelpers").serverNow()-c;w.setMetric(["realtime","pingLatency"],k);break;default:b("OzHelpers").debug("[sky] unk type",e,d)}},l=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];try{k.apply(undefined,c)}catch(a){try{b("OzHelpers").error.apply(b("OzHelpers"),["[sky] error handling message"].concat(c))}catch(a){!1}}},m=b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("msg"),function(a,b){l("msg",b.obj)}),o=x(function(){b("Arbiter").unsubscribe(m),b("RTISubscriptionManager").unsubscribeAll()});b("RTISubscriptionManager").subscribe(a,l.bind(this,"sky"),null,x(function(a){var b=a.data;a=a.error;a?(o(),c(a,b)):(f(),c(null,b,m))}));return o}};function x(a){var b,c,d=this;return function(){b||(c=a.apply(d,arguments),b=!0);return c}}e.exports=w}),null);
__d("ozMakeColor",["immutable","randomShuffle"],(function(a,b,c,d,e,f){__p&&__p();var g=b("immutable").Map,h=b("immutable").List,i=b("immutable").Range,j=function(a,b){return"hsla("+a+", 85%, 30%, "+b+")"};function a(a,c){__p&&__p();a===void 0&&(a=25);c===void 0&&(c=.9);var d=h(b("randomShuffle")(i(10,360,a).toJS())),e=0,f=g();return function(a){if(f.has(a))return j(f.get(a),c);else{var b=d.get(e);f=f.set(a,b);e=(e+1)%d.count();return j(b)}}}function c(a){a===void 0&&(a=77);return function(b){return j(b*a%360,.9)}}e.exports={makeColorShuffle:a,makeColor:c}}),null);
__d("OzHelpers",["BanzaiScuba","DatePickerRestraints","ErrorUtils","immutable","LogHistory","OzConfig","OzConstants","OzImmutablePureRenderMixin","OzServerTime","React","URI","getURLRanges","ozMakeColor"],(function(a,b,c,d,e,f){__p&&__p();var g=b("ozMakeColor").makeColor,h=b("immutable").List,i=b("immutable").Map,j=b("immutable").Set,k=b("immutable").OrderedMap,l=b("OzConstants").AUTHOR_TYPES,m=b("OzConstants").REMINDERS,n=/^image\//,o={color:g(),blobURI:function(a){return window.URL.createObjectURL(a)},blobFromDataURI:function(a){a=a.split(",");var b=atob(a[1]);a=a[0].split(":")[1].split(";")[0];var c=new ArrayBuffer(b.length),d=new Uint8Array(c);for(var e=0;e<b.length;e++)d[e]=b.charCodeAt(e);return new Blob([c],{type:a})},toLocaleDate:function(a){return new Date(a).toLocaleDateString()},toLocaleTime:function(a){return new Date(a).toLocaleTimeString()},hasCmdOrCtrl:function(a){return a.getModifierState("Meta")||a.getModifierState("Control")},keysIn:function(){var a=j(arguments);return function(b,c){return a.has(c)}},safeParse:function(a){var b={};try{b=JSON.parse(a)}catch(b){o.info("invalid json",a)}return b},safeURI:function(a){var c=null;try{c=b("URI").tryParseURI(a)}catch(b){o.info("invalid uri",a)}return c},pure:a,memoize:c,values:function(a){return Object.keys(a).map(function(b){return a[b]})},nonempty:function(a){return a&&!a.isEmpty()?a:null},uniqId:d,debug:s("debug",!1),info:s("info",!0),warn:s("warn",!0),error:s("error",!0),isImageType:function(a){return n.test(a)},isStickerType:function(a){return a==="image/sticker"},dateRestraints:f,moveCursorToInputEnd:function(a){if(a.setSelectionRange){var b=a.value.length;a.setSelectionRange(b,b)}},toTitleCase:function(a){var b=j(["a","an","the","at","by","for","in","of","on","to","up","and","as","but","or","nor"]),c=function(b,c,a){return c===0||c+b.length===a.length},d=function(d,e,a){return c(d,e,a)||!b.has(d)?d.charAt(0).toUpperCase()+d.substr(1):d};return a.toLowerCase().replace(/\w\S*/g,d)},scrollToBottom:function(a){a.scrollTop=a.scrollHeight},threadID:function(a){return a.get("user-id")},isNew:function(a){return!o.intents(a).find(o.isClosedIntent)},hasOwner:function(a){return a.getIn(["owner","id"])},hasAllTags:function(a,b){return b.every(function(b){return o.hasTag(a,b)})},hasSomeTag:function(a,b){return b.some(function(b){return o.hasTag(a,b)})},hasTag:function(a,b){return a.get("tags")&&a.get("tags").contains(b)},isEscalated:function(a){return o.hasTag(a,"escalated")},hasEngage:function(a){return!!a.get("engagement-type")},photo:function(a){return a.getIn(["user-vcard","photo"])||a.getIn(["user-vcard","picture"])},compareNums:function(a,b){if(a&&b)return b-a;else if(a)return-1;else if(b)return 1;else return 0},compareBools:function(a,b){if(a&&b)return 0;else if(a)return-1;else if(b)return 1},getIncomingThreads:function(a){return a.filter(function(a){return a.get("ready")&&!o.hasOwner(a)}).sort(o.threadComparator)},threadComparator:function(a,b){var c=o.compareBools(o.hasTag(a,"vip"),o.hasTag(b,"vip")),d=o.compareBools(o.hasTag(a,"urgent"),o.hasTag(b,"urgent")),e=o.compareNums(o.urgentReminders(a).getIn([0,"scheduled-time"]),o.urgentReminders(b).getIn([0,"scheduled-time"]));a=o.compareNums(a.get("last-event-at"),b.get("last-event-at"));return c||d||e||a},lastEvents:function(a){return a.get("last-events",h()).sortBy(function(a){return a.get("timestamp")})},lastUserMessage:function(a){return o.lastEvents(a).findLast(function(a){return o.authorType(a)===l.USER})},shortDesc:function(a){a===void 0&&(a=i());var b=a.getIn(["attachments",0,"mime_type"]),c=a.getIn(["attachments",0,"sticker_id"]);return a.get("text")||c&&"sent a sticker."||b&&(b.match(/video/i)&&"sent a video."||b.match(/audio/i)&&"sent an audio clip."||b.match(/image/i)&&"sent an image")},preferredName:function(a){return a.getIn(["metadata-json","preferred-name"])||a.getIn(["user-vcard","first-name"])},userEmail:function(a){return a.getIn(["metadata-json","email"])},intents:function(a){return a.get("intents",h()).sortBy(function(a){return a.get("created-at")})},isOwner:function(a,b){a=a.getIn(["owner","id"]);return a&&b&&a==b},wasOwner:function(a,b){a=a.getIn(["last-owner","id"]);return a&&b&&a==b},isLocker:function(a,b){return a.get("locked")&&a.get("locker-id")===b},nameOrId:function(a){return a&&(a.get("name")||a.get("id"))||""},isSubscriber:function(a,b){return!!a.get("subscriptions",h()).find(function(a){return a===b})},hasUnblockedIntents:function(a){return a.get("intents",h()).some(function(a){return!o.isBlockedIntent(a)})},hasOpenIntents:function(a){return a.get("intents",h()).some(function(a){return o.isOpenIntent(a)})},openIntents:function(a){return o.intents(a).filter(o.isOpenIntent)},closedIntents:function(a){return o.intents(a).filter(o.isClosedIntent)},intentById:function(a,b){return o.intents(a).findLast(function(a){return a.get("id")===b})},isBlockedIntent:function(a){return a.get("blocked")},intentName:function(a){return a.get("name")||"Unknown intent"},intentAlias:function(a){return a.get("alias")||a.get("name")||"Unknown intent"},isOpenIntent:function(a){return a.get("state")==="open"},isClosedIntent:function(a){return!o.isOpenIntent(a)},isDeleted:function(a){return a.get("state")==="deleted"},getName:function(a){return a.getIn(["user-vcard","name"],"Unknown user")},lastPresence:function(a){return Math.max(a.get("last-seen")||0,a.get("last-presence")||0)},timeSpent:function(a){if(a.get("ready")&&a.get("last-ready-at"))return o.serverNow()-a.get("last-ready-at")},locationLastSeen:function(a){if(a.getIn(["location","last-seen"]))return new Date(a.getIn(["location","last-seen"]))},timezone:function(a){return a.getIn(["location","timezone"])},durationStr:function(a){__p&&__p();if(a==null){o.warn("[durationStr] strange duration "+a);return"[invalid duration]"}else if(a<-1e3){o.warn("[durationStr] strange duration "+a);return"-"+o.durationStr(-a)}else if(a<0){o.warn("[durationStr] strange duration "+a);return"< 0s"}else if(a===0)return"0s";else if(a<1e3)return"< 1s";else if(a<60*1e3)return Math.floor(a/1e3)+"s";else if(a<60*60*1e3)return Math.floor(a/(60*1e3))+"m";else if(a<24*60*60*1e3)return Math.floor(a/(60*60*1e3))+"h";else return Math.floor(a/(24*60*60*1e3))+"d"},serverNow:function(){return b("OzServerTime").serverNow()},repName:function(a,b){b=b.get(a);return b&&b.get("name")||a||null},authorType:function(a){var c=l.BOT,d=l.USER,e=l.TRAINER,f=a.get("sender")||a.get("from");a=a.get("author-type");return a===c&&c||(a===e||f===b("OzConfig").getStaticConfig("PAGE_ID"))&&e||d},msgID:function(a){a===void 0&&(a=i());return a.get("offline-threading-id")||a.get("mid")||o.warn("[msgID] had to resort to timestamp",a)&&null||a.get("timestamp")},isActivePulse:function(a){a=a&&a.get("pulse-data");return!a?!1:!a.get("away?")&&a.get("inactive-ms",Infinity)<3e4},EMPTY_BODY:b("immutable").fromJS([{"content-type":"text/plain; charset=UTF-8",body:{contents:""}}]),eventToEmail:function(a){return{email:a.get("data"),intentId:a.get("intent-id"),id:a.get("id")}},reEmail:function(a){var b=a.getIn(["data","subject"]);b=b.toUpperCase().startsWith("RE:")?b:"Re: "+b;return a.setIn(["data","subject"],b).setIn(["data","body"],this.EMPTY_BODY)},switchRecip:function(a){var b=a.get("data"),c=b.get("from");b=b.get("to");return a.setIn(["data","from"],b).setIn(["data","to"],h([c]))},eventToInvite:function(a){return{invite:a.get("data"),id:a.get("id"),intentId:a.get("intent-id"),disabled:!0}},urgentReminders:function(a){return a.get("reminders",h()).sortBy(function(a){return a.get("scheduled-time")}).filter(o.isUrgentReminder)},paidReminders:function(a){return o.urgentReminders(a).filter(o.isPaidReminder)},isUrgentReminder:function(a){a=a.get("state");return a==="active"||a==="active-snoozed"},isPaidReminder:function(a){return!!a.getIn(["body","suggestion"])},isSnoozedReminder:function(a){a=a.get("state");return a==="snoozed"||a==="active-snoozed"},isUrgentTask:function(a){var b=a.get("state");return b==="dispatched"&&a.get("deadline")<o.serverNow()},isPaidTask:function(a){return!!a.getIn(["data","suggestion"])},isCompletedTask:function(a){return a.get("state")==="completed"},isCanceledTask:function(a){return a.get("state")==="canceled"},isWaitingTask:function(a){return a.get("state")==="waiting"},isClosedTask:function(a){return o.isCompletedTask(a)||o.isCanceledTask(a)},isOpenTask:function(a){return!o.isClosedTask(a)},isUnread:function(a){return a.get("read-state")==="unread"},soonestDueTask:function(a){return a.filterNot(o.isClosedTask).minBy(function(a){return a.get("start-at")})},nextTaskForIntent:function(a,b){b===void 0&&(b=h());return o.soonestDueTask(b.filter(function(b){return b.get("intent-id")===a.get("id")}))},nextTaskForThread:function(a){return o.soonestDueTask(a.get("tasks",h()))},unreadTs:function(a){return b("OzConfig").ConfigStore.data.getIn(["GK","responsivenessV2"])?a.get("unread-timestamp"):(o.lastUserMessage(a)||i()).get("timestamp")},hasPaid:function(a){return!!o.paidReminders(a).size},hasReminder:function(a){return!!o.urgentReminders(a).size},minAge:function(a){a=+a.getIn(["user-vcard","age-range","min"]);return Number.isSafeInteger(a)?a:0},shimURI:function(a){return new(b("URI"))("https://l.facebook.com/l.php").setQueryData({u:a,h:b("OzConfig").getStaticConfig("shimhash")}).toString()},uiSuggestion:function(a){var b=a.has("amount")?"$"+(a.get("amount")/100).toFixed(2):"";return{id:a.get("item-id")||"-1",name:a.get("name"),desc:a.get("description"),thumb_url:a.get("thumb-url"),merchant_name:a.get("merchant-name")||"",total_cost:a.get("amount")?i({amount:a.get("amount")}):null,display_total_cost:b,target_url:o.shimURI(a.get("target-url")),payment_id:a.get("payment-id"),expiration_time:a.get("expiration-time")}},parsePhoneNumber:function(a){if(!a)return"";a.length==12&&a[0]=="+"&&(a=a.substr(1));a.length==11&&a[0]=="1"&&(a=a.substr(1));switch(a.length){case 10:return"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6,4);case 7:return a.substr(0,3)+"-"+a.substr(3,4);default:return a}},validateURL:function(a){return!!a&&typeof a==="string"&&b("getURLRanges")(a).length&&b("URI").isValidURI(a)},normalizeMerchant:function(a){return a.updateIn(["website"],function(a){if(!a)return a;var c=b("getURLRanges")(a);return!c||c.length===0?a:c[0].entity.url}).updateIn(["page-id"],function(a){return Number.isFinite(a)||typeof a==="string"?parseInt(a,10):null})},validateMerchant:function(a){__p&&__p();var b=j(["name-dba","country"]),c=j(["address","website","page-id"]),d={},e=a.get("website","");e&&!this.validateURL(e)&&(d.website="Website is an invalid URL");e=a.get("page-id",null);e!=null&&!Number.isFinite(e)&&(d["page-id"]="FB Page must be a number");b.map(function(b){a.get(b)||(d[b]="This field is required")});if(j(a.filter(function(a){return a}).keys()).intersect(c).isEmpty()){var f="At least one of "+c.join(", ")+" is required";c.forEach(function(a){d[a]=f})}return i(d)},isDaytime:function(a){a=(Date.now()+a)%(24*60*60*1e3);a=a/(60*60*1e3);return a>=6},fullThreadData:function(a,b,c){var d=a.get(c);return!d?null:d.update("intents",function(a){return(a||h()).map(function(a){a=p(b,a);a=q(d,a);return a})})},threadPath:function(a){var b=a.threadid,c=a.intentid,d=a.taskid;a=a.eventid;c=c?"/intent/"+c:"";d=d?"/task/"+d:"";a=a?"/event/"+a:"";return"/inbox/"+b+c+(d||a)},updateInWhen:function(a,b,c){var d={};return a.getIn(b,d)!==d?a.updateIn(b,c):a},getRequirement:function(a,b){return a.get("requirements",h()).find(function(a){return a.get("name")===b})}};function p(a,b){a=a.getIn(["byIntent",b.get("id")],i());return b.set("events",a)}function q(a,b){a=a.getIn(["tasks-by-intent",b.get("id")]);return b.set("tasks",a)}function a(a,c){c===void 0&&(c="OzPureComponent");return b("React").createClass({displayName:c,mixins:[b("OzImmutablePureRenderMixin")],render:function(){return a(this.props)}})}function c(a,b,c){__p&&__p();c===void 0&&(c=1e3);var d=k();return function(){for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];var h=b.apply(this,f);if(d.get(h))return d.get(h);else{var i=a.apply(this,f);d=d.set(h,i).takeLast(c);return i}}.bind(this)}var r=0;function d(){return r++}function f(){var a=new Date();a=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()));var c=new Date(+a);c.setFullYear(a.getFullYear()+m.RANGE_IN_YEARS);return{dateRestraints:[b("DatePickerRestraints").enforceDateIsNoEarlierThan(a),b("DatePickerRestraints").enforceDateIsNoLaterThan(c)]}}b("ErrorUtils").addListener(function(a){a=v({level:"error",message:"[unhandled-error]["+a.name+"] "+a.message,data:"--stack\n"+a.stack+"\n\n--originalError\n"+a._originalError});u(a);t(a)});function s(a,b){return function(){for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=d[0],g=d.slice(1);window.console.log(a,f,g);var h=v({level:a,message:f,data:g});u(h);b&&t(h)}}function t(a){var c=new(b("BanzaiScuba"))(b("OzConfig").getStaticConfig("scubaCategory"));Object.entries(a).forEach(function(a){var b=a[0];a=a[1];Number.isSafeInteger(a)?c.addInteger(b,a):c.addNormal(b,a)});c.post()}function u(a){var c=b("LogHistory").getInstance("oz-logger");(c[a.level]||c.debug).call(c,a.message,"")}function v(a){return babelHelpers["extends"]({},a,{uid:b("OzConfig").getStaticConfig("uid"),public_name:b("OzConfig").getStaticConfig("publicName"),rev:b("OzConfig").getStaticConfig("rev"),timestamp:o.serverNow()})}e.exports=o}),null);
__d("OzServerTime",["OzAPI","OzStores"],(function(a,b,c,d,e,f){var g=b("OzStores").ServerOffsetStore,h;function a(){return Math.floor(Date.now()-g.data.get("offsetMs"))}function i(){window.clearInterval(h)}function c(){b("OzAPI").timestamp(),i(),h=window.setInterval(function(){return b("OzAPI").timestamp()},1e3*60*60*3)}e.exports={serverNow:a,setup:c,tearDown:i}}),null);
__d("OzStores",["invariant","immutable","OzActions","OzHelpers","Reflux"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("immutable").List,i=b("immutable").Map,j=b("immutable").OrderedMap,k=b("immutable").OrderedSet,l=b("immutable").Set;b("immutable").Iterable;a=b("Reflux").createStore({init:function(){this.data=i(),this.listenTo(b("OzActions").updateRequirements,this._onUpdateRequirements)},getInitialState:function(){return this.data},_onUpdateRequirements:function(a){this.data=this.data.withMutations(function(b){a.forEach(function(a){var c=a.get("name");a=b.get(c,i()).merge(a).update("wit-intent-uuids",function(a){return a&&a.toSet()||l()});b.set(c,a)})}),b("OzHelpers").debug("[oz] updated RequirementStore"),this.trigger(this.data)}});c=b("Reflux").createStore({init:function(){this.data=k(),this.listenTo(b("OzActions").addBubble,this._onAddBubble)},getInitialState:function(){return this.data},_onAddBubble:function(a){i.isMap(a)||g(0),this.data=this.data.add(a).takeLast(100),this.trigger(this.data)},metrics:function(){return i({bubbleCount:this.data.count()})}});d=b("Reflux").createStore({init:function(){this.data=j(),this.listenTo(b("OzActions").addAutopilot,this._onAddAutopilot)},getInitialState:function(){return this.data},_onAddAutopilot:function(a){i.isMap(a)||g(0),this.data=this.data.set(a.get("id"),a.get("data")).takeLast(100),this.trigger(this.data)}});var m="id";f=b("Reflux").createStore({init:function(){this.data=i(),this.listenTo(b("OzActions").updateWitIntents,this._onUpdateWitIntents)},getInitialState:function(){return this.data},_onUpdateWitIntents:function(a){b("immutable").List.isList(a)||g(0),this.data=this.data.withMutations(function(b){return a.reduce(function(a,b){return a.set(b.get(m),b)},b)}),this.trigger(this.data)},metrics:function(){return i({witIntentCount:this.data.count()})}});var n=b("Reflux").createStore({init:function(){this.data=i(),this.listenTo(b("OzActions").activateThread,this._onActivateThread)},getInitialState:function(){return this.data},_onActivateThread:function(a){var c=a.threadID,d=a.intentID,e=a.taskID;a=a.eventID;b("OzHelpers").info("[store/activeThread] set active thread: ",{threadID:c,intentID:d,taskID:e,eventID:a});this.data=this.data.set("oldThreadID",this.data.get("threadID")).set("threadID",c).set("activeIntent",d).set("activeTask",e).set("activeEvent",a);this.trigger(this.data)}}),o="user-id",p=function(a,b){return a.reduce(function(a,c){a[c.get(b)]=c;return a},{})};function q(a,c){__p&&__p();i.isMap(a)&&i.isMap(c)||g(0);var d=p(a,"offline-threading-id"),e=p(a,"mid");return a.withMutations(function(a){return c.valueSeq().filterNot(function(a){a=a.get("attachments");return a?a.first()&&a.first().getIn(["xma","body"])===null:!1}).reduce(function(a,c){var f=c.get("offline-threading-id"),g=c.get("mid"),h=f&&d[f]||g&&e[g]||a.get(b("OzHelpers").msgID(c));h&&(a=a["delete"](b("OzHelpers").msgID(h)),c=h.merge(c),f=c.get("offline-threading-id"),g=c.get("mid"));f&&(d[f]=c);g&&(e[g]=c);return a.set(b("OzHelpers").msgID(c),c)},a)})}var r=function(a,b,c){__p&&__p();switch(c){case"messages":return q(a,b);case"intents":case"reminders":c=i().withMutations(function(b){return(a||h()).reduce(function(a,b){return a.set(b.get("id"),b)},b)});c=b.reduce(function(a,b){var c=b.get("id");return a.set(c,(a.get(c)||i()).merge(b))},c).valueSeq().toList();return c;case"tasks":var d=b.map(function(a){return a.get("intent-id")}).toSet();return a.filterNot(function(a){return d.has(a.get("intent-id"))}).concat(b);case"light-thread":return a&&b;default:return b}},s=function(a){return a.set("tasks-by-intent",a.get("tasks",h()).groupBy(function(a){return a.get("intent-id")}))},t=function(a){typeof a==="function"||g(0);return function(b,c){i.isMap(c)&&i.isMap(b)||g(0);var d=c.get(o);c=(b.get(d)||i()).mergeWith(a,c);c=s(c);return b.set(d,c)}},u=b("Reflux").createStore({init:function(){this.data=i(),this.updatedAt=Date.now(),this.listenTo(b("OzActions").updateThreads,this._onUpdateThreads),this.listenTo(b("OzActions").maybeUpdateThreads,this._onMaybeUpdateThreads),this.listenTo(b("OzActions").clearReassignState,this._onClearReassignState),this.listenTo(b("OzActions").deleteTask,this._onDeleteTask)},getInitialState:function(){return this.data},_onUpdateThreads:function(a){h.isList(a)||g(0),this.data=this.data.withMutations(function(b){return a.reduce(t(r),b)}),this.updatedAt=Date.now(),this.trigger(this.data)},_onMaybeUpdateThreads:function(a){__p&&__p();h.isList(a)||g(0);var c=a.filter(function(a){return this.data.has(a.get(o))}.bind(this));if(c.isEmpty()){b("OzHelpers").debug("[threads] not updating partial threads");return}this.data=this.data.withMutations(function(a){return c.reduce(t(r),a)});this.updatedAt=Date.now();this.trigger(this.data)},_onClearReassignState:function(){this.data=this.data.map(function(a){return a.get("ui-reassign")?a["delete"]("ui-reassign"):a}),this.trigger(this.data)},_onDeleteTask:function(a,b){this.data=this.data.updateIn([a,"tasks"],function(a){return a.filterNot(function(a){return a.get("id")===b})}),this.trigger(this.data)},metrics:function(){return i({threadCount:this.data.count(),taskCount:this.data.reduce(function(a,b){return b.get("tasks",h()).count()+a},0)})}}),v=b("Reflux").createStore({init:function(){this.data=this._make(null,null),this.listenTo(b("OzActions").showDialog,this._onShowDialog),this.listenTo(b("OzActions").hideDialog,this._onHideDialog)},getInitialState:function(){return this.data},_make:function(a,b){return{dialogClass:a,dialogProps:b}},_onShowDialog:function(a,b){this.data=this._make(a,b),this.trigger(this.data)},_onHideDialog:function(){this.data=this._make(null,null),this.trigger(this.data)}}),w=b("Reflux").createStore({init:function(){this.data=i(),this.listenTo(b("OzActions").updateMerchants,this._onUpdateMerchants),this.listenTo(b("OzActions").deleteMerchants,this._onDeleteMerchants)},getInitialState:function(){return this.data},_onUpdateMerchants:function(a){h.isList(a)||g(0),this.data=this.data.withMutations(function(b){return a.reduce(function(a,b){var c=b.get("id");b=a.get(c,i()).merge(b);return a.set(c,b)},b)}),b("OzHelpers").debug("[oz] updated merchants",this.data.toJS()),this.trigger(this.data)},_onDeleteMerchants:function(a){h.isList(a)||g(0),this.data=a.reduce(function(a,b){return a["delete"](b)},this.data),b("OzHelpers").debug("[oz] deleted merchants",this.data.toJS()),this.trigger(this.data)},metrics:function(){return i({merchantCount:this.data.count()})}}),x=b("Reflux").createStore({init:function(){this.data=i(),this.listenTo(b("OzActions").updateReps,this._onUpdateReps),this.listenTo(b("OzActions").replaceReps,this._onReplaceReps)},getInitialState:function(){return this.data},_onReplaceReps:function(a){this.data=i().withMutations(function(b){a.reduce(function(a,b){return a.set(b.get("fbid"),b)},b)}),this.trigger(this.data)},_onUpdateReps:function(a){this.data=this.data.withMutations(function(b){return a.reduce(function(a,b){return a.mergeIn([b.get("fbid")],b)},b)}),this.trigger(this.data)},metrics:function(){return i({repCount:this.data.count()})}}),y=b("Reflux").createStore({init:function(){this.data=i(),this.listenTo(b("OzActions").replaceHumans,this._onReplace)},getInitialState:function(){return this.data},_onReplace:function(a){this.data=a,this.trigger(this.data)},metrics:function(){return i({humanCount:this.data.count()})}}),z=b("Reflux").createStore({init:function(){this.data=i({queue:i({showTags:l(),hideTags:l()}),all:i({showTags:l(),hideTags:l()})}),this.listenTo(b("OzActions").updateQueueFilters,this._onUpdateFilters)},getInitialState:function(){return this.data},_onUpdateFilters:function(a){this.data=this.data.merge(a),this.trigger(this.data)}}),A=b("Reflux").createStore({init:function(){this._data=i(),this.listenTo(b("OzActions").sendMessageStart,this._onShiftSending.bind(this,1)),this.listenTo(b("OzActions").sendMessageFinish,this._onShiftSending.bind(this,-1))},getInitialState:function(){return this._data},_onShiftSending:function(a,b){this._data=this._data.update(b,function(b){return(b||0)+a}),this.trigger(this._data)}}),B=b("Reflux").createStore({init:function(){this.data=i({byIntent:i(),byThread:i(),byId:i()}),this.listenTo(b("OzActions").addHandledEvents,this._onAddHandledEvents)},getInitialState:function(){return this.data},_onAddHandledEvents:function(a){this.data=this.data.withMutations(function(b){a.reduce(function(a,b){return a.setIn(["byIntent",b.get("intent-id"),b.get("id")],b).setIn(["byId",b.get("id")],b)},b)}),this.trigger(this.data)},metrics:function(){return i({handledEventCount:this.data.get("byId").count()})}}),C=b("Reflux").createStore({init:function(){this.data=i({offsetMs:0}),this.listenTo(b("OzActions").updateServerOffset,this._onUpdateServerOffset)},getInitialState:function(){return this.offsetMs},_onUpdateServerOffset:function(a){a=a.offsetMs;this.data=this.data.set("offsetMs",a);this.trigger(this.data)}}),D=i({state:"loading",error:null,result:null,skip:!1}),E=b("Reflux").createStore({init:function(){this.data=i({skywalker:D,init:D,"wit-intents":D,merchants:D,humans:D,requirements:D}),this.listenTo(b("OzActions").updateLoadingState,this._onUpdateLoadingState)},getInitialState:function(){return this.data},_onUpdateLoadingState:function(a){var c=a.component,d=a.state,e=a.error,f=a.result;a=a.skip;b("OzHelpers").info("[store/loading] "+d+" "+c);this.data.has(c)||b("OzHelpers").warn("[store/loading] "+c+" wasn't listed in LoadingStore.init");this.data=this.data.set(c,i({state:d,error:e,result:f,skip:a}));this.trigger(this.data)}}),F=b("Reflux").createStore({init:function(){this.data=i(),this.listenTo(b("OzActions").updateCalendarEvents,this._onUpdateCalendarEvents)},getInitialState:function(){return this.data},_onUpdateCalendarEvents:function(a){var b=a.tid;a=a.calendarEvents;a=a&&a.sort?a:[];this.data=this.data.set(b,a.sort(function(a,b){a=new Date(a.startDate);b=new Date(b.startDate);return a.getTime()-b.getTime()}));this.trigger(this.data)},metrics:function(){return i({calendarEventCount:this.data.count()})}}),G=b("Reflux").createStore({init:function(){this.data=i({isStalled:!1}),this.listenTo(b("OzActions").skywalkerMessage,this._onSkywalkerMessage),this.listenTo(b("OzActions").skywalkerStalled,this._onSkywalkerStalled)},getInitialState:function(){return this.data},_onSkywalkerMessage:function(a){a=a.timestamp;this.data=this.data.set("last-receive-ts",a).set("isStalled",!1);this.trigger(this.data)},_onSkywalkerStalled:function(){this.data=this.data.set("isStalled",!0),this.trigger(this.data)}});e.exports={ActiveThreadStore:n,BubbleStore:c,DialogStore:v,MerchantStore:w,AutopilotStore:d,QueueFilterStore:z,RepStore:x,HumanStore:y,LoadingStore:E,RequirementStore:a,ThreadStore:u,WitIntentStore:f,PendingMessageStateStore:A,HandledEventsStore:B,ServerOffsetStore:C,CalendarEventStore:F,SkywalkerStore:G}}),null);
__d("OzAJAX",["invariant","Promise","OzConfig","OzHelpers","OzNotify","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={metrics:{pendingCount:0,requestCount:0,failedCount:0,totalRequestMs:0,averageRequestMs:0},updateMetricsStart:function(){h.metrics.pendingCount+=1},updateMetricsEnd:function(a,b){var c=h.metrics;c.pendingCount-=1;(!a.status||a.status===0||a.status>399)&&(c.failedCount+=1);c.requestCount+=1;c.totalRequestMs+=b;c.averageRequestMs=Math.round(c.totalRequestMs/c.requestCount)},ajax:function(a){__p&&__p();var b=a.type,c=a.headers,d=a.params,e=a.body;a=a.url;d=j(d);var f={type:b,url:a,headers:c,params:d,body:e};h.updateMetricsStart();var g=Date.now();return i(f).then(function(a){h.updateMetricsEnd(a,Date.now()-g);return JSON.parse(a.responseText)},function(a){h.updateMetricsEnd(a,Date.now()-g);var b;try{b=JSON.parse(a.responseText)}catch(a){}k(b||{},a,f);throw b||a})},beacon:function(a){window.navigator&&window.navigator.sendBeacon||g(0);var c=a.params,d=a.body;a=a.url;c=j(c);return window.navigator.sendBeacon(new(b("URI"))(a).addQueryData(c).toString(),new Blob([d],{type:"application/json"}))},buildURI:function(){var a=b("OzConfig").getStaticConfig("API_PATH");a||g(0);for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return[a].concat(d).join("/")}};function i(a){__p&&__p();var c=a.type,d=a.headers,e=a.params,f=a.body,g=a.url;return new(b("Promise"))(function(a,h){__p&&__p();var i=new XMLHttpRequest(),j=new(b("URI"))(g);e&&j.addQueryData(e);i.timeout=1e3*60*3;i.open(c,j.toString(),!0);if(d){j=Object.keys(d);for(var k=0;k<j.length;k++){var l=j[k];i.setRequestHeader(l,d[l])}}i.onreadystatechange=function(){if(i.readyState!==4)return;i.status===200?a(i):h(i)};i.send(f)})}function j(a){b("OzConfig").getStaticConfig("authToken")||g(0);b("OzConfig").getStaticConfig("uid")||g(0);b("OzConfig").getStaticConfig("API_VERSION")||g(0);return babelHelpers["extends"]({xs:b("OzConfig").getStaticConfig("authToken"),c_user:b("OzConfig").getStaticConfig("uid"),rep_name:b("OzConfig").getStaticConfig("fullName"),v:b("OzConfig").getStaticConfig("API_VERSION")},a)}function k(a,c,d){b("OzHelpers").error("[oz-api] backend rejected",a,c,d);d=a.error||"Something went wrong, the team has been notified already.";a.info?b("OzNotify").info(d):c.status===400?b("OzNotify").warn(d):c.status===0?b("OzNotify").error("Something went wrong. If this continues, please contact the Wit oncall"):b("OzNotify").error(d)}e.exports=h}),null);
__d("ContextualProfileModal.react",["cx","FBModal.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.children,d=a.hideOnWashClick,e=a.onHide;a=babelHelpers.objectWithoutProperties(a,["children","hideOnWashClick","onHide"]);var f=null;d&&(f=function(event){event.target===this.$1&&e(event)}.bind(this));return b("React").createElement(b("FBModal.react"),babelHelpers["extends"]({},a,{className:"_4uwe",onHide:e}),b("React").createElement("div",{onClick:f,ref:function(a){return this.$1=a}.bind(this),role:"presentation"},c))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("ContextualProfileModalPlaceholder.react",["cx","ContextualProfileModal.react","FBModalCloseButton.react","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("ContextualProfileModal.react"),{hideOnWashClick:!0,onHide:this.props.toggleShowState,shown:!0},b("React").createElement(b("FBModalCloseButton.react"),{onToggleClick:this.props.toggleShowState}),b("React").createElement("div",{className:"_h23"},b("React").createElement(b("XUISpinner.react"),{background:"dark",size:"large"})))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerAutosSellActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({REGISTER_AUTOS_COMPOSER:null,SAVE_YEAR:null,SAVE_ODOMETER:null,SAVE_MAKE:null,SAVE_MODEL:null,SAVE_TRIM:null,SAVE_VIN:null,SELECT_TYPEAHEAD:null,SAVE_ODOMETER_UNIT:null,SET_SELL_CONFIG:null,SAVE_TRANSMISSION:null},"ReactComposerAutosSellActionType")}),null);
__d("ReactComposerVerticalsUtils",["fbt","ReactComposerSellStore","ReactComposerVerticalsConstants"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("ReactComposerVerticalsConstants").VerticalConfigs;a={showVerticalSpecificFields:function(a){__p&&__p();var c=b("ReactComposerSellStore").getCategoryID(a);if(c===null)return null;var d=Object.keys(h);for(var e=0;e<d.length;e++){var f=h[d[e]];if(f.categoryIds.indexOf(c)!==-1&&f.gk)return d[e]}return h.AUTOS.categoryIds.indexOf(c)!==-1&&b("ReactComposerSellStore").showAutosForSellOptions(a)?h.AUTOS.verticalName:null},getComposerVerticalTitle:function(a){if(a===h.AUTOS.verticalName)return g._("Vehicle for Sale");return a===h.REAL_ESTATE.verticalName?g._("Home for Rent"):g._("Item for Sale")},shouldUseVerticalComposer:function(a){return a===h.AUTOS.verticalName?h.AUTOS.verticalName:null}};e.exports=a}),null);
__d("ReactComposerAutosSellStore.react",["Assert","ReactComposerAutosSellActionType","ReactComposerStoreBase","ReactComposerSellStore","ReactComposerSellActions","ReactComposerVerticalsUtils"],(function(a,b,c,d,e,f){__p&&__p();var g,h=["807311116002614","1558493264400524"],i=4,j=8,k=255,l=255,m=255,n=17;c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){"use strict";__p&&__p();var a;g.constructor.call(this,function(){return{showAutosForSellOptions:!1,year:"",odometer:"",odometerUnits:"kilometers",make:"",model:"",vin:"",transmission:"automatic",trim:""}},function(c){__p&&__p();switch(c.type){case b("ReactComposerAutosSellActionType").SAVE_YEAR:a&&a.$ReactComposerAutosSellStore1(c);break;case b("ReactComposerAutosSellActionType").SAVE_ODOMETER:a&&a.$ReactComposerAutosSellStore2(c);break;case b("ReactComposerAutosSellActionType").SAVE_ODOMETER_UNIT:a&&a.$ReactComposerAutosSellStore3(c);break;case b("ReactComposerAutosSellActionType").SAVE_MAKE:a&&a.$ReactComposerAutosSellStore4(c);break;case b("ReactComposerAutosSellActionType").SAVE_MODEL:a&&a.$ReactComposerAutosSellStore5(c);break;case b("ReactComposerAutosSellActionType").SAVE_TRIM:a&&a.$ReactComposerAutosSellStore6(c);break;case b("ReactComposerAutosSellActionType").SAVE_VIN:a&&a.$ReactComposerAutosSellStore7(c);break;case b("ReactComposerAutosSellActionType").SAVE_TRANSMISSION:a&&a.$ReactComposerAutosSellStore8(c);break;case b("ReactComposerAutosSellActionType").SET_SELL_CONFIG:a&&a.$ReactComposerAutosSellStore9(c);break}});a=this}a.prototype.getSerializedVerticalData=function(a){"use strict";if(b("ReactComposerVerticalsUtils").showVerticalSpecificFields(a)!=="AUTOS")return"";a=this.getComposerData(a);a={year:parseInt(a.year,10),mileage:a.odometer,isKM:a.odometerUnits==="kilometers",make:a.make,model:a.model,trim:a.trim,vin:a.vin,type:"autos",isManualTransmission:a.transmission==="manual"};return JSON.stringify(a)};a.prototype.getMaxCharactersForYear=function(a){"use strict";return i};a.prototype.getMaxCharactersForOdometer=function(a){"use strict";return j};a.prototype.getMaxCharactersForMake=function(a){"use strict";return k};a.prototype.getMaxCharactersForModel=function(a){"use strict";return l};a.prototype.getMaxCharactersForTrim=function(a){"use strict";return m};a.prototype.getNumCharactersForVIN=function(a){"use strict";return n};a.prototype.getYear=function(a){"use strict";return this.getComposerData(a).year};a.prototype.getOdometerValue=function(a){"use strict";return this.getComposerData(a).odometer};a.prototype.getMake=function(a){"use strict";return this.getComposerData(a).make};a.prototype.getModel=function(a){"use strict";return this.getComposerData(a).model};a.prototype.getTrim=function(a){"use strict";return this.getComposerData(a).trim};a.prototype.getVIN=function(a){"use strict";return this.getComposerData(a).vin};a.prototype.getCategoryInfo=function(a){"use strict";b("Assert").isTruthy(h.length>0,"Constant has an unexpected value");var c=h[0];a=b("ReactComposerSellStore").getCategoryTextForID(a,c);return a&&a.length>0?[c,a]:null};a.prototype.getOdometerUnits=function(a){"use strict";return this.getComposerData(a).odometerUnits};a.prototype.getTransmission=function(a){"use strict";return this.getComposerData(a).transmission};a.prototype.isUnitSelected=function(a){"use strict";return!!this.getComposerData(a).saveOdometerUnit};a.prototype.isYearSelected=function(a){"use strict";return!!this.getComposerData(a).saveYear};a.prototype.isPostButtonEnabled=function(a){"use strict";if(b("ReactComposerVerticalsUtils").showVerticalSpecificFields(a)!=="AUTOS")return!0;a=this.getComposerData(a);return!!(a.make.trim().length&&a.model.trim().length&&a.year.trim().length&&a.odometer.trim().length)};a.prototype.$ReactComposerAutosSellStore2=function(a){"use strict";__p&&__p();a=this.validateAction(a,["composerID","odometer"]);var b=a[0];a=a[1];if(/^\d*$/.test(a)&&a.length<=j){var c=this.getComposerData(b);a=parseInt(a.substring(0,j),10);c.odometer=a>0?a+"":"";this.emitChange(b)}};a.prototype.$ReactComposerAutosSellStore1=function(a){"use strict";__p&&__p();a=this.validateAction(a,["composerID","year"]);var b=a[0];a=a[1];if(a===""||/^[1-2][0-9]{0,3}$/.test(a)){var c=this.getComposerData(b);c.year=a;this.emitChange(b);this.$ReactComposerAutosSellStore10(b)}};a.prototype.$ReactComposerAutosSellStore4=function(a){"use strict";a=this.validateAction(a,["composerID","make"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.make=a.substring(0,k).trim();this.emitChange(b);this.$ReactComposerAutosSellStore10(b)};a.prototype.$ReactComposerAutosSellStore5=function(a){"use strict";a=this.validateAction(a,["composerID","model"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.model=a.substring(0,l).trim();this.emitChange(b);this.$ReactComposerAutosSellStore10(b)};a.prototype.$ReactComposerAutosSellStore6=function(a){"use strict";a=this.validateAction(a,["composerID","trim"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.trim=a.substring(0,m).trim();this.emitChange(b);this.$ReactComposerAutosSellStore10(b)};a.prototype.$ReactComposerAutosSellStore7=function(a){"use strict";a=this.validateAction(a,["composerID","vin"]);var b=a[0];a=a[1];if(/^[0-9a-zA-Z]*$/.test(a)&&a.length<=n){var c=this.getComposerData(b);c.vin=a.toUpperCase();this.emitChange(b)}};a.prototype.$ReactComposerAutosSellStore3=function(a){"use strict";a=this.validateAction(a,["composerID","odometerUnit"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.odometerUnit=a;this.emitChange(b)};a.prototype.$ReactComposerAutosSellStore8=function(a){"use strict";a=this.validateAction(a,["composerID","transmission"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.transmission=a;this.emitChange(b)};a.prototype.$ReactComposerAutosSellStore9=function(a){"use strict";a=this.validateAction(a,["composerID","config"]);var b=a[0];a=a[1];var c=this.getComposerData(b);a=a.autosCategory;c.showAutosForSellOptions=a.showAutosForSellOptions;c.odometerUnits=a.autosOdometerUnits;this.emitChange(b)};a.prototype.$ReactComposerAutosSellStore10=function(a){"use strict";var c=this.getMake(a),d=this.getModel(a),e=this.getTrim(a),f=this.getYear(a);if(c===""||d==="")return;b("ReactComposerSellActions").saveTitle(a,(f===""?"":f+" ")+c+" "+d+(e===""?"":" "+e))};e.exports=new a()}),null);
__d("ReactComposerAutosSellActions",["ReactComposerAutosSellActionType","ReactComposerDispatcher","ReactComposerAutosSellStore.react"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerAutosSellStore.react");a.prototype.registerAutosComposer=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAutosSellActionType").REGISTER_AUTOS_COMPOSER,groupID:c})};a.prototype.saveYear=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAutosSellActionType").SAVE_YEAR,year:c})};a.prototype.saveOdometer=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAutosSellActionType").SAVE_ODOMETER,odometer:c})};a.prototype.saveOdometerUnit=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAutosSellActionType").SAVE_ODOMETER_UNIT,odometerUnit:c})};a.prototype.saveTransmission=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAutosSellActionType").SAVE_TRANSMISSION,transmission:c})};a.prototype.saveMake=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAutosSellActionType").SAVE_MAKE,make:c})};a.prototype.saveModel=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAutosSellActionType").SAVE_MODEL,model:c})};a.prototype.saveTrim=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAutosSellActionType").SAVE_TRIM,trim:c})};a.prototype.saveVIN=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAutosSellActionType").SAVE_VIN,vin:c})};a.prototype.selectTypeahead=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAutosSellActionType").SELECT_TYPEAHEAD,groupID:c})};a.prototype.setConfig=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAutosSellActionType").SET_SELL_CONFIG,config:c})};function a(){"use strict"}e.exports=new a()}),null);
__d("ReactComposerSellAttachmentBootstrapper",["ReactComposerAutosSellActions","ReactComposerSellActions","ReactComposerStatusActions"],(function(a,b,c,d,e,f){a={bootstrap:function(a,c){b("ReactComposerSellActions").setConfig(a,c),b("ReactComposerAutosSellActions").setConfig(a,c),b("ReactComposerStatusActions").setMentionsSource(a,c.mentionsSource)},bootstrapForNLUIntercept:function(a,c){b("ReactComposerSellActions").setCurrency(a,c.currency),b("ReactComposerSellActions").savePickupNote(a,c.pickupNote)}};e.exports=a}),null);
__d("SUIBreadcrumbNav.react",["cx","fbt","FlexLayout.react","Locale","React","SUIButton.react","SUIComponent","SUIDropdownMenu.react","SUILink.react","SUITheme","URI","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Locale").isRTL;function k(a){var c=a.href,d=a.label;a=a.onClick;return c instanceof b("URI")||typeof c==="string"||a?b("React").createElement(b("SUILink.react"),{href:c,onClick:a},d):b("React").createElement("span",null,d)}function l(a){return b("React").createElement(b("FlexLayout.react"),{align:"center",className:"_3-8r"},j()?a.uniform.breadcrumbSeparatorIconRTL:a.uniform.breadcrumbSeparatorIconLTR)}i=babelHelpers.inherits(a,b("SUIComponent"));i&&i.prototype;a.prototype.$SUIBreadcrumbNav1=function(a,c){return a.length===0?null:[b("React").createElement(b("SUIDropdownMenu.react"),{button:b("React").createElement(b("SUIButton.react"),{icon:c.truncatedIcon,label:h._("More"),labelIsHidden:!0,suppressed:!0,width:16}),items:a.reverse().map(function(a){return{type:"item",label:a.label,onClick:a.onClick||b("emptyFunction")}}),key:"breadcrumb-dropdown"}),b("React").createElement(l,{key:"breadcrumb-separator",uniform:c})]};a.prototype.render=function(){var a=this.props,c=a.items;a=a.maxVisible;c=c.slice();a=c.length-a>0?c.length-a+1:0;a=c.splice(0,a);var d=c.pop(),e=b("SUITheme").get(this).SUIBreadcrumbNav;return b("React").createElement("nav",{"aria-label":"Breadcrumb",role:"navigation"},b("React").createElement(b("FlexLayout.react"),{align:"center",style:{flexWrap:"wrap"}},this.$SUIBreadcrumbNav1(a,e),c.map(function(a,c){return[b("React").createElement(k,{href:a.href,key:"breadcrumb-"+c,label:a.label,onClick:a.onClick}),b("React").createElement(l,{key:"separator-"+c,uniform:e})]}),b("React").createElement(k,{href:d.href,label:d.label,onClick:d.onClick})))};function a(){i.apply(this,arguments)}a.defaultProps={maxVisible:4};e.exports=a}),null);
__d("AddressTypeaheadFreeformSearchSource",["fbt","AbstractSearchSource","SearchableEntry"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i="/images/places/place.png";h=babelHelpers.inherits(a,b("AbstractSearchSource"));h&&h.prototype;a.prototype.searchImpl=function(a,c,d){if(a.trim()===""){c([],a);return}d=g._("Just use \"{typed words}\"",[g._param("typed words",a)]);d=new(b("SearchableEntry"))({title:d,uniqueID:a,photo:i,auxiliaryData:{freeformEntry:!0,selectedTitle:a.trim(),locationID:0}});c([d],a)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AddressTypeahead.react",["AbstractSearchSource","AddressTypeaheadClientSideTypedLogger","AddressTypeaheadFreeformSearchSource","AddressTypeaheadGraphQLSearchSource","AddressTypeaheadSearchSourceConfig","CompositeSearchSource","React","SearchableEntry","XUITypeahead.react","XUITypeaheadView.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=262;d=10;function h(a){var c=new(b("AddressTypeaheadGraphQLSearchSource"))(a.config,a.packageFn);return a.isFreeFormQueryAllowed?new(b("CompositeSearchSource"))([c,new(b("AddressTypeaheadFreeformSearchSource"))()]):c}f=babelHelpers.inherits(a,b("React").Component);g=f&&f.prototype;function a(a){g.constructor.call(this,a),this.$1=function(a){this.props.onSelectAttempt&&this.props.onSelectAttempt(a);var c=a.getAuxiliaryData();c&&(c.freeformEntry?new(b("AddressTypeaheadClientSideTypedLogger"))().setName("address_typeahead_drop").setInputString(c.selectedTitle).setInputLatitude(this.props.config.latitude).setInputLatitude(this.props.config.longitude).setTaProvider(this.props.config.provider).setCallerID(this.props.config.caller).setDropType("freeform").setProductTag(this.props.productTag).log():new(b("AddressTypeaheadClientSideTypedLogger"))().setName("address_typeahead_select").setInputString(this.props.queryString).setInputLatitude(this.props.config.latitude).setInputLatitude(this.props.config.longitude).setSelection(a.getTitle()).setSelectionIndex(a.getOrder()).setSelectionLatitude(c.latitude).setSelectionLongitude(c.longitude).setTaProvider(this.props.config.provider).setCallerID(this.props.config.caller).setProductTag(this.props.productTag).log())}.bind(this),this.$2=function(event){this.props.onChange&&this.props.onChange(event)}.bind(this),this.$3=function(){this.props.onClear&&this.props.onClear(),new(b("AddressTypeaheadClientSideTypedLogger"))().setName("address_typeahead_drop").setInputString(this.props.queryString).setInputLatitude(this.props.config.latitude).setInputLatitude(this.props.config.longitude).setTaProvider(this.props.config.provider).setCallerID(this.props.config.caller).setDropType("clear").setProductTag(this.props.productTag).log()}.bind(this),this.state={searchSource:h(a)}}a.prototype.UNSAFE_componentWillReceiveProps=function(a){(!a.config.equals(this.props.config)||a.packageFn!==this.props.packageFn)&&this.setState({searchSource:h(a)})};a.prototype.focusInput=function(){this.refs.addressTypeahead&&this.refs.addressTypeahead.focusInput()};a.prototype.blurInput=function(){this.refs.addressTypeahead&&this.refs.addressTypeahead.blurInput()};a.prototype.render=function(){__p&&__p();var a=this.props.maxEntries,c=this.props.isFreeFormQueryAllowed,d={waitForAllResults:!0},e={ViewRenderer:this.props.viewRenderer,layerComponent:this.props.layerComponent,layerPosition:this.props.layerPosition,maxEntries:a,useLayer:!0,width:this.props.width,sortEntries:function(b){__p&&__p();if(c){var d=function(a){return a.getAuxiliaryData()&&a.getAuxiliaryData().freeformEntry};d=b.findIndex(d);if(d<a)return b;d=b[d];var e=b.slice(0,a-1);e[e.length]=d;return e}return b}};return b("React").createElement(b("XUITypeahead.react"),babelHelpers["extends"]({},this.props,{ref:"addressTypeahead",onChange:this.$2,onClear:this.$3,onSelectAttempt:this.$1,searchSource:this.state.searchSource,searchSourceOptions:d,presenter:e,textInputDataTestID:this.props.textInputDataTestID}))};a.defaultProps={viewRenderer:b("XUITypeaheadView.react"),config:new(b("AddressTypeaheadSearchSourceConfig"))(),isFreeFormQueryAllowed:!1,layerPosition:"below",maxEntries:d,width:c};e.exports=a}),null);
__d("ComposerVersion",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MBASIC_LEGACY:"legacy",MBASIC_AMBER:"amber",MBASIC_LEGACY_SHARE:"legacy_share",MBASIC_AMBER_SHARE:"amber_share",MTOUCH:"mtouch",OCELOT:"ocelot",WWW_LEGACY:"www_legacy",WWW_REACT:"www_react",WWW_REACT_WORK:"www_react_work",WWW_REACT_SHARE:"www_react_share",WWW_REACT_SHARER:"www_react_sharer"})}),null);
__d("TimelineContextItemType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EDUCATION:"education",WORK:"work",CURRENT_CITY:"current_city",HOMETOWN:"hometown",INTRO_CARD_AT_WORK_JOB_TITLE:"intro_card_at_work_job_title",INTRO_CARD_AT_WORK_DEPARTMENT:"intro_card_at_work_department",INTRO_CARD_AT_WORK_JOB_LOCATION:"intro_card_at_work_job_location",INTRO_CARD_AT_WORK_LANGUAGES:"intro_card_at_work_languages",INTRO_CARD_AT_WORK_PHONE:"intro_card_at_work_phone",INTRO_CARD_AT_WORK_EMAIL:"intro_card_at_work_email",INTRO_CARD_AT_WORK_USERNAME:"intro_card_at_work_username",INTRO_CARD_AT_WORK_BIO:"intro_card_at_work_bio",INTRO_CARD_WORKVERSARY:"intro_card_workversary",INTRO_CARD_BIRTHDAY:"intro_card_birthday",INTRO_CARD_EDUCATION:"intro_card_education",INTRO_CARD_EDUCATION_NULL_STATE:"intro_card_education_null_state",INTRO_CARD_CURRENT_CITY:"intro_card_current_city",INTRO_CARD_CURRENT_CITY_NULL_STATE:"intro_card_current_city_null_state",INTRO_CARD_FOLLOWERS:"intro_card_followers",INTRO_CARD_HOMETOWN:"intro_card_hometown",INTRO_CARD_HOMETOWN_NULL_STATE:"intro_card_hometown_null_state",INTRO_CARD_RELATIONSHIP:"intro_card_relationship",INTRO_CARD_RELATIONSHIP_NULL_STATE:"intro_card_relationship_null_state",INTRO_CARD_MEMBER_SINCE:"intro_card_member_since",INTRO_CARD_NAME_PRONUNCIATION:"intro_card_name_pronunciation",INTRO_CARD_WORK:"intro_card_work",INTRO_CARD_WORK_NULL_STATE:"intro_card_work_null_state",INTRO_CARD_ABOUT_TAGS:"intro_card_about_tags",INTRO_CARD_TRAVEL_LOCATION:"intro_card_travel_location",MUTUAL_CITY:"mutual_city",MUTUAL_EDUCATION:"mutual_education",MUTUAL_HOMETOWN:"mutual_hometown",MUTUAL_WORK:"mutual_work",MUTUAL_LIKES:"mutual_likes",MUTUAL_GROUPS:"mutual_groups",MUTUAL_CITIES_VISITED:"mutual_cities_visited",MUTUAL_MUSIC:"mutual_music",MUTUAL_SPORTS:"mutual_sports",MUTUAL_TV_SHOWS:"mutual_tv_shows",MUTUAL_MOVIES:"mutual_movies",MUTUAL_BOOKS:"mutual_books",MUTUAL_PAST_EVENT:"mutual_past_event",MUTUAL_FUTURE_EVENT:"mutual_future_event",MUTUAL_SUMMARY:"mutual_summary",FRIEND_COUNT:"friend_count",FRIENDS_SINCE:"friends_since",FRIENDS:"friends",FOLLOWER_COUNT:"follower_count",MUTUAL_FRIENDS:"mutual_friends",MUTUAL_CONTACTS:"mutual_contacts",MUTUAL_ABOUT_TAGS:"mutual_about_tags",LOCATION:"location",BIRTHDAY:"birthday",NEW_FRIENDS:"new_friends",RECENT_VISIT:"recent_visit",RECENT_EVENT:"recent_event",RECENT_OG:"recent_og",FAMILY_RELATIONSHIP:"family_relationship",ANNIVERSARY:"anniversary",LIFE_EVENT:"life_event",OG_COMPOSER:"og_composer",FOLLOWS_POSTS:"follows_posts",SELF_TIMELINE_REVIEW:"self_timeline_review",SELF_PROFILE_QUESTIONS:"self_profile_questions",SELF_PROFILE_REFRESHER:"self_profile_refresher",RELATIONSHIP:"relationship",JOB_ANNIVERSARY:"job_anniversary",NAME_DAY:"name_day",LOCAL_CHECKIN:"local_checkin",LAST_UPDATED:"last_updated",BORN:"born",FRIENDS_YOU_MAY_KNOW:"friends_you_may_know",JOINED_FACEBOOK:"joined_facebook",NAME_PRONUNCIATION:"name_pronunciation",RECENT_UNSEEN_POSTS:"recent_unseen_posts",EMAIL:"email",PHONE:"phone",MESSENGER_DEFAULT:"messenger_default",ABOUT_TAGS:"about_tags",CONTACT:"contact",CONTACT_OF:"contact_of",MESSENGER_INSTAGRAM_CONTACT:"messenger_instagram_contact",MARKETPLACE_RESPONSIVENESS:"marketplace_responsiveness",AT_WORK_JOB_TITLE:"at_work_job_title",AT_WORK_DEPARTMENT:"at_work_department",AT_WORK_JOB_LOCATION:"at_work_job_location",AT_WORK_LANGUAGES:"at_work_languages",AT_WORK_PHONE:"at_work_phone",AT_WORK_EMAIL:"at_work_email",AT_WORK_USERNAME:"at_work_username",AT_WORK_BIO:"at_work_bio",WORKVERSARY:"workversary",TIME_JOINED_GROUP:"time_joined_group",FOR_SALE_IN_GROUP:"for_sale_in_group",DEGREES_OF_SEPARATION:"degrees_of_separation",ALOHA_PROXY_USER:"aloha_proxy_user",WORKPLACE_DO_NOT_DISTURB:"workplace_do_not_disturb",MESSENGER_ONLY_NOT_ON_FACEBOOK:"messenger_only_not_on_facebook",MESSENGER_ONLY_COUNTRY:"messenger_only_country",ACCOUNT_RECENCY:"account_recency",DIFFERENT_FROM_FB_FRIEND:"different_from_fb_friend",DEACTIVATED_ALLOWED_ON_MESSENGER_FORMER_FRIEND:"deactivated_allowed_on_messenger_former_friend",GEMSTONE_CHILDREN_INFO:"gemstone_children_info",GEMSTONE_CURRENT_CITY:"gemstone_current_city",GEMSTONE_DRINKING_INFO:"gemstone_drinking_info",GEMSTONE_EMPLOYERS:"gemstone_employers",GEMSTONE_HEIGHT:"gemstone_height",GEMSTONE_HOMETOWN:"gemstone_hometown",GEMSTONE_LIVING_SITUATION_INFO:"gemstone_living_situation_info",GEMSTONE_RELIGIONS:"gemstone_religions",GEMSTONE_SCHOOLS:"gemstone_schools",GEMSTONE_SMOKING_INFO:"gemstone_smoking_info",GEMSTONE_WANTS_CHILDREN_INFO:"gemstone_wants_children_info",RECOMMENDED_CITIES:"recommended_cities"})}),null);